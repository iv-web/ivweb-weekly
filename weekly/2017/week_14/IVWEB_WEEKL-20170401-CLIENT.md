## 文章索引
1、 <a href="#1文章-扫福得福背后支付宝ar红包的技术创新与故事" >文章： 扫福得福背后，支付宝AR红包的技术创新与故事</a><br/>
2、 <a href="#2共享经济的未来用-nodejs-玩转分布式鼠电站" >共享经济的未来：用 Node.js 玩转分布式鼠电站</a><br/>
3、 <a href="#3文章-javascript-启动性能瓶颈分析与解决方案" >文章： JavaScript 启动性能瓶颈分析与解决方案</a><br/>
4、 <a href="#4image-processing-in-javascript" >Image Processing in Javascript</a><br/>
5、 <a href="#5react-ui-libraries" >React UI Libraries</a><br/>
6、 <a href="#6document-classification-in-javascript" >Document Classification in Javascript</a><br/>
7、 <a href="#7css/ui-frameworks:-10-bootstrap-alternatives" >CSS/UI Frameworks: 10 Bootstrap alternatives</a><br/>
8、 <a href="#8neural-networks-in-javascript" >Neural Networks in Javascript</a><br/>
9、 <a href="#9we-are-hiring:-javascript-developer-in-berlin" >We are hiring: Javascript Developer in Berlin</a><br/>
10、 <a href="#106180-released" >6.18.0 Released</a><br/>
11、 <a href="#11github贡献第一的公司是谁微软开源软件列表" >GitHub贡献第一的公司是谁？微软开源软件列表</a><br/>
12、 <a href="#12视频演讲-百度ai平台人脸识别技术应用解读" >视频演讲： 百度AI平台人脸识别技术应用解读</a><br/>
13、 <a href="#13web-development-reading-list-#176:-safari-101-prompt-deprecation-and-professional-pride" >Web Development Reading List #176: Safari 10.1, Prompt()-Deprecation, And Professional Pride</a><br/>
14、 <a href="#14blooming-colors-and-a-bit-of-magic:-wallpapers-to-get-your-ideas-springing-april-2017-edition" >Blooming Colors And A Bit Of Magic: Wallpapers To Get Your Ideas Springing (April 2017 Edition)</a><br/>
15、 <a href="#15upgrade-to-babel-7-wip" >Upgrade to Babel 7 (WIP)</a><br/>
16、 <a href="#16upgrade-to-babel-7-for-tool-authors-wip" >Upgrade to Babel 7 for Tool Authors (WIP)</a><br/>
17、 <a href="#176230-released" >6.23.0 Released</a><br/>
18、 <a href="#18the-state-of-babel" >The State of Babel</a><br/>
19、 <a href="#196190-released" >6.19.0 Released</a><br/>
20、 <a href="#20how-to-process-geospatial-data-with-nodejs-and-turf" >How to process geospatial data with Node.js and TURF</a><br/>
21、 <a href="#216160-released" >6.16.0 Released</a><br/>
22、 <a href="#22babili-babel-minify" >Babili (babel-minify)</a><br/>
23、 <a href="#236140-released" >6.14.0 Released</a><br/>
24、 <a href="#24babel-doctor" >Babel Doctor</a><br/>
25、 <a href="#25文章-zendesk的tensorflow产品部署经验" >文章： Zendesk的TensorFlow产品部署经验</a><br/>
26、 <a href="#26datasets-for-machine-learning" >Datasets for Machine Learning</a><br/>
27、 <a href="#27视频演讲-美拍直播在平衡中体系化演化实践" >视频演讲： 美拍直播在平衡中体系化演化实践</a><br/>
28、 <a href="#28brexit-in-interactive-maps-and-charts" >Brexit in interactive maps and charts</a><br/>
29、 <a href="#29架构周报|-浅析mysql-jdbc连接配置上的两个误区" >架构周报| 浅析MySQL JDBC连接配置上的两个误区</a><br/>
30、 <a href="#30精通敏捷测试" >精通敏捷测试</a><br/>
31、 <a href="#31analysing-satellite-images-with-google-earth-engine" >Analysing Satellite Images With Google Earth Engine</a><br/>
32、 <a href="#32从java-9反向移植对象反序列化过滤器" >从Java 9反向移植对象反序列化过滤器</a><br/>
33、 <a href="#33webkid-interactives" >Webkid Interactives</a><br/>
34、 <a href="#34how-we-created-an-interactive-map-with-mapboxgl" >How we created an interactive map with MapboxGL</a><br/>
35、 <a href="#35using-spreadsheets-as-a-cms-for-data-visualizations" >Using Spreadsheets as a CMS for data visualizations</a><br/>
36、 <a href="#36图像方面的新闻xamarin的kimono以及google的guetzli和draco" >图像方面的新闻：Xamarin的Kimono以及Google的Guetzli和Draco</a><br/>
37、 <a href="#37多用户多工作负载5000节点集群kubernetes-16都有哪些看点" >多用户、多工作负载、5000节点集群：Kubernetes 1.6都有哪些看点？</a><br/>
38、 <a href="#38how-interactive-news-and-data-journalism-responded-to-the-major-events-of-2015" >How interactive news and data journalism responded to the major events of 2015</a><br/>
39、 <a href="#39some-simple-tricks-for-creating-responsive-charts-with-d3" >Some simple tricks for creating responsive charts with D3</a><br/><h1 id="#title_0" >1、文章： 扫福得福背后，支付宝AR红包的技术创新与故事</h1>
何强
[http://www.infoq.com/cn/articles/story-and-technology-innovation-of-alipay-ar-hongbao?utm_campaign=infoq_content&utm_source=infoq&utm_medium=feed&utm_term=global](http://www.infoq.com/cn/articles/story-and-technology-innovation-of-alipay-ar-hongbao?utm_campaign=infoq_content&utm_source=infoq&utm_medium=feed&utm_term=global)
<img src="http://www.infoq.com/resource/articles/story-and-technology-innovation-of-alipay-ar-hongbao/zh/smallimage/whole_logo.jpg"/><p>春节期间，支付宝的「扫福得福」活动火爆异常。AR是一种新的交互方式，与传统营销方式相比，可以使用户更深入地参与互动，给用户带来新体验。而支付宝红包，寄托着用户对未来的期盼，因此其团队就考虑将AR与红包相结合，探索一种新的玩法。在AR领域走在前面的支付宝，其AR红包的技术选型、技术架构及其背后的技术故事都有哪些？</p> <i>By 何强</i>
---------------
<h1 id="#title_1" >2、共享经济的未来：用 Node.js 玩转分布式鼠电站</h1>

[https://www.h5jun.com/post/hamster-elec.html](https://www.h5jun.com/post/hamster-elec.html)
<div class="toc"><ul>
<li><ul>
<li></li>
<li></li>
<li></li>
</ul>
</li>
</ul>
</div><p><img src="https://p.ssl.qhimg.com/t01b0785c1023039d78.jpg" alt=""></p>
<p>当今社会，许多人喜欢养宠物陪伴自己和家人。而仓鼠以其可爱的外表、爱干净的习性和温顺可爱的性格成为许多城市家庭养宠物的选择。</p>
<p>在这个物联网时代，共享经济是人类发展的未来。让可爱的小仓鼠不仅仅能作为卖萌讨巧的宠物，还可以发挥其经济价值，为家庭做出贡献，正是新的万维物联网（Web of Things）云平台将要做的事情。</p>
<!--more-->
<p><img src="https://p.ssl.qhimg.com/t016687f2fb6c861159.jpg" alt=""></p>
<h2>家庭分布式鼠电站</h2>
<p>要安装家庭分布式鼠电站，你需要购买一块、一个特制的终端仓鼠滚筒（google 搜索 ep hamster roller）：</p>
<p><img src="https://p.ssl.qhimg.com/t01ce4ffbab2caf636b.jpg" alt=""></p>
<p>将仓鼠滚筒的电流输出端接入一个移动电源，比如。</p>
<p>这样，当你的仓鼠在滚筒里奔跑的时候，你的移动电源的电量就会增加，同时，仓鼠活动产生的电量数据就会通过信号输出端发送到树莓派。</p>
<p>接下来，我们要在树莓派上对应的安装 npm 包（如果你还没在你的树莓派上安装 Node，请先安装 Node.js 到你的树莓派上！）：</p>
<pre><code class="hljs lang-undefined">$ npm install -g hamster-elec
</code></pre>
<p>这样你就安装了鼠电模块，接下来，在运行它之前，我们需要配置一下：</p>
<p>先到 APP Store 下载应用“仓鼠电桩”，然后打开仓鼠电桩 APP，将你的仓鼠丢进智能滚筒（注意：一次只能丢一只！），用你的 APP 扫一扫，就会得到你的仓鼠 ID。用你的仓鼠 ID 启动 hamster-elec 服务：</p>
<pre><code class="hljs lang-xml">$ hamster-elec --hid=<span class="hljs-tag">&lt;<span class="hljs-name">你的仓鼠ID</span>&gt;</span> -p <span class="hljs-tag">&lt;<span class="hljs-name">端口</span>&gt;</span> start
</code></pre><p>你会看到如下输出信息：</p>
<pre><code class="hljs lang-elm"><span class="hljs-title">hamster</span> &amp; rice launched! at <span class="hljs-keyword">port</span> &lt;端口&gt;
</code></pre><p>然后你在局域网内访问 <code>http://raspberrypi.local:7777</code> 就能看到你的仓鼠发电的情况。</p>
<p>如果你打开“仓鼠电桩” APP，你也能实时看到仓鼠发电的情况，当然前提是你的手机连接的网络和你的树莓派是在同一个局域网里。</p>
<h3>同步数据到云端</h3>
<p>经过上面的配置，虽然你在本地可以访问你的 APP 或者树莓派 URL 来查看你的仓鼠发电情况，但是如果你想随时随地查看家里的仓鼠发电情况，我们就需要将它同步到云端。</p>
<p>而这也很容易做到，我们已经实现了一个记录和同步发电数据的 REST API。你只需要：</p>
<pre><code class="hljs lang-bash">curl -X PUT <span class="hljs-string">"https://qiwoo.org/hamster/actions/_setStatus"</span> \
     -H <span class="hljs-string">"Authorization: 仓鼠 ID"</span> \
     -H <span class="hljs-string">"Content-Type: application/json"</span> \
     <span class="hljs-_">-d</span> <span class="hljs-string">'{ "type": "_setStatus", "elec":"电量值"}'</span>
</code></pre>
<p>就可以更新数值到云端。</p>
<p>当然，这个我们需要做成自动的，所以，我们需要手动调用 hamster-elec 模块：</p>
<pre><code class="hljs lang-js"><span class="hljs-keyword">const</span> hamsterServer = <span class="hljs-built_in">require</span>(<span class="hljs-string">'hamster-elec'</span>).Server;
<span class="hljs-keyword">const</span> hamsterID = <span class="hljs-string">'&lt;你的仓鼠ID&gt;'</span>;
<span class="hljs-keyword">const</span> cloud = <span class="hljs-string">'https://qiwoo.org/hamster/actions/_setStatus'</span>;

hamsterServer.creater((req, res) =&gt; {
<span class="hljs-comment">//... 处理服务</span>
});

hamsterServer.on(<span class="hljs-string">'electricity generation'</span>, (err, power) =&gt; {
    <span class="hljs-keyword">if</span>(err) <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(err);

    request.put({
        url: cloud,
        headers: {
            Authorization: hamsterID,
            Content-Type: <span class="hljs-string">"application/json"</span>
        }
    }, {<span class="hljs-string">"type"</span>: <span class="hljs-string">"_setStatus"</span>, <span class="hljs-string">"elec"</span>: power});
});
hamsterServer.listener(<span class="hljs-number">7777</span>);
</code></pre>
<p>这样，一旦仓鼠开始发电，电量的变化就会被发送到云端。</p>
<h3>其他问题</h3>
<ul>
<li>Q: 我的仓鼠吃吃睡睡，不去滚筒里跑，发不了电怎么办？</li>
<li>A: 正常的情况，小家伙心情好了自然会去发电了，不能强求。</li>
<li>Q: 我家仓鼠发了很多电，但是移动电源还是没电是怎么回事？</li>
<li>A: 检查移动电源和滚筒的连接，接触不良会导致电量损耗，另外移动电源自身质量不佳也会导致问题。</li>
<li>Q: 我家有多只仓鼠，能不能同时发电。</li>
<li>A: 暂不支持，但该需求已经列入开发计划。将来会支持的。</li>
</ul>
<h3>总结</h3>
<p>喂饱你的仓鼠，它会给你带来惊喜。</p>
<p><img src="https://p.ssl.qhimg.com/t01c40c36da1cda5c2d.jpg" alt=""></p>
---------------
<h1 id="#title_2" >3、文章： JavaScript 启动性能瓶颈分析与解决方案</h1>
Addy Osmani
[http://www.infoq.com/cn/articles/javascript-start-up-performance?utm_campaign=infoq_content&utm_source=infoq&utm_medium=feed&utm_term=global](http://www.infoq.com/cn/articles/javascript-start-up-performance?utm_campaign=infoq_content&utm_source=infoq&utm_medium=feed&utm_term=global)
<img src="http://www.infoq.com/resource/articles/javascript-start-up-performance/zh/smallimage/logo (8).jpg"/><p>随着现代 Web 技术的发展与用户交互复杂度的增加，我们的网站变得日益臃肿，也要求着我们不断地优化网站性能以保证友好的用户体验。本文作者则着眼于 JavaScript 启动阶段优化，首先以大量的数据分析阐述了语法分析、编译等步骤耗时占比过多是很多网站的性能瓶颈之一。然后作者提供了一系列用于在现代浏览器中进行性能评测的工具，还分别从开发者工程实践与 JavaScript 引擎内部实现的角度阐述了应当如何提高解析与编译速度。</p> <i>By Addy Osmani</i> <i> Translated by 王下邀月熊</i>
---------------
<h1 id="#title_3" >4、Image Processing in Javascript</h1>

[http://blog.webkid.io/image-processing-in-javascript/](http://blog.webkid.io/image-processing-in-javascript/)
<p>If you’re looking for a way to process or manipulate pictures in your web project, it might be worth having a look at some of the libraries introduced in this blog post. Most of them provide basic operations like adjusting brightness and contrast, greyscale and inverting and image while others mainly focus on easy understandable code or extendability. The next sections will help you find out which tool fits your requirements.</p>
<p>You can find a code snippet for adjusting the brightness of an image in each section. This will give you an idea how the libraries can be used. The result for running the code looks like this:</p>
<img src="/image-processing-in-javascript/result_brightness.png" alt="original and result image after increasing the brightness" title="original and result image after increasing the brightness">
<p style="font-size:10px; font-style: italic; text-align:center;">Original image and output after increasing brightness (Source: )</p>

<h2 id="1-Caman-JS">1. Caman JS</h2><p>A well known and powerful library for image manipulation is Caman.js. It offers various built-in functions as well as the possibility to be extended. Also, the library is well documented and can be used both in NodeJS and in the browser.<br>The functions provided by CamanJS work with <code>&lt;canvas&gt;</code> elements, so before getting started, you can either create a Canvas element yourself or let CamanJS replace an image with a canvas of the same dimensions.</p>
<p>The basic functions cover color manipulations like setting contrast/brightness or modifying the RGB channels individually as well as the possibility to increase or decrease the noise applied to the image.<br>Advanced operations, for example working with layers, blending or cropping an image can be achieved by working with plugins.</p>
<p>For examples, a detailed documentation and downloading CamanJS, check out the .</p>
<pre><code class="language-html">&lt;img id=&quot;caman-image&quot; src=&quot;otter.jpg&quot;&gt;
&lt;script src=&quot;caman.js&quot;&gt;&lt;/script&gt;
&lt;script&gt;
Caman(&#39;#caman-image&#39;, function () {
  this.brightness(50).render();
});
&lt;/script&gt;
</code></pre>
<h2 id="2-glfx-js">2. glfx.js</h2><p>Like the first two libraries, glfx.js is a powerful tool which provides a wide range of functions. Other than Filtrr2 and CamanJS, it works with WebGL. The cool thing about this is, that image processing operations are done using the graphic card and can therefore run in real-time. The main drawback is that it will only be supported in newer browsers.</p>
<p>In addition to basic adjustment functions and fun effects, glfx.js offers a list of blurring and wraping functions. These can be adjusted by different parameters to create unique results. Check out the  to see a demo and download the library.</p>
<pre><code class="language-html">&lt;script src=&quot;glfx.js&quot;&gt;&lt;/script&gt;
&lt;script&gt;
window.onload = function () {
    const canvas = fx.canvas();
    const image = document.getElementById(&#39;glfx-image&#39;);
    const texture = canvas.texture(image);
    canvas.draw(texture).brightnessContrast(0.5, 0).update();
    image.parentNode.insertBefore(canvas, image);
    image.parentNode.removeChild(image);
};
&lt;/script&gt;
&lt;img id=&quot;glfx-image&quot; src=&quot;otter.jpg&quot;&gt;
</code></pre>
<h2 id="3-Grafi-js"> and contains a lot of comments that make it easy to understand what’s going on in each function. If you’re looking for a library that can be used for advanced image operations, grafi.js might not fit your needs, but it helps to understand how image manipulations are implemented and achieves satisfying results for basic operations.</p>
<p>Note that operations that involve changing the orientation or the size of the image are not provided by grafi.js.</p>
<pre><code class="language-html">&lt;canvas id=&quot;grafi-canvas&quot;&gt;&lt;/canvas&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;grafi.js&quot;&gt;&lt;/script&gt;
&lt;script&gt;
  const grafiCanvas = document.getElementById(&#39;grafi-canvas&#39;)
  let canvas = document.createElement(&#39;canvas&#39;)
  let ctx = canvas.getContext(&#39;2d&#39;)
  let original, newImage, imageCtx
  let img = new Image()
  img.src = &#39;otter.jpg&#39;;

  img.onload = function () {
    canvas.width = img.width
    canvas.height = img.height
    ctx.drawImage(img, 0, 0)
    original = ctx.getImageData(0,0, canvas.width, canvas.height)

    grafiCanvas.width = img.width
    grafiCanvas.height = img.height
    imageCtx = grafiCanvas.getContext(&#39;2d&#39;)
    imageCtx.putImageData(grafi.brightness(original, {level: 100}), 0, 0)
  }
&lt;/script&gt;
</code></pre>
<h2 id="4-Jimp"> can be used both in NodeJS and in the browser. It doesn’t use HTML elements (<code>&lt;img&gt;</code> or <code>&lt;canvas&gt;</code>), but reads in the image to process from a path or a url.</p>
<p>Jimp provides a a list of functions adjusting colours as well as some effects. It also offers some operations that you might miss in the other libraries, such as resizing, scaling and rotating an image. Pictures can also be cropped either manually or automatically. Used in Node, Jimp is a powerful tool that let’s you execute chained operations on multiple files and store the modified images.</p>
<pre><code class="language-html">&lt;script src=&quot;jimp.min.js&quot;&gt;&lt;/script&gt;
&lt;script&gt;
  Jimp.read(&#39;otter.jpg&#39;).then(function (lenna) {
    lenna.brightness(0.5)
      .getBase64(Jimp.MIME_JPEG, function (err, src) {
        const img = document.createElement(&#39;img&#39;);
        img.setAttribute(&#39;src&#39;, src);
        document.body.appendChild(img);
      });
    }).catch(function (err) {
      console.error(err);
    });
&lt;/script&gt;
</code></pre>
<h2 id="5-Filtrr2">5. Filtrr2</h2><p>Filtrr2 is described to be an “easy to use out of the box” library which depends on jQuery. It uses <code>&lt;canvas&gt;</code> elements to process images. While some CamanJS operations are not covered by Filtrr2, it offers some additional functions like posterizing or blurring an image. All in all the provided functions and the usage are similar to CamanJS.</p>
<p>Even though Filtrr2 is a powerful library, the github repository hasn’t been updated in a while. The project can be found .</p>
<pre><code class="language-html">&lt;script type=&quot;text/javascript&quot; src=&quot;jquery.min.js&quot;/&gt;&lt;/script&gt;
&lt;script src=&quot;filtrr2.js&quot;&gt;&lt;/script&gt;

&lt;img id=&quot;filtrr2-img&quot; src=&quot;otter.jpg&quot;/&gt;
&lt;script&gt;
  Filtrr2(&#39;#filtrr2-img&#39;, function () {
    this.brighten(50).render();
  });
&lt;/script&gt;
</code></pre>
<h2 id="6-Processing-js">6. Processing.js</h2><p>This library might come in handy if you’re familiar with the Processing programming language. Processing allows working with different media and can be used to create animations, data-visualisations and digital art, but also for image manipulation.<br>Processing.js lets you write Processing code and simply include it in your website by applying it to a canvas element.</p>
<p>Even though the library provides some useful functions such as scaling, rotating or blending images, solutions for basic operations like greyscaling or color adjustments have to be implemented by the user. On the plus side, it is highly adjustable and a nice way to get an understanding of image manipulation algorithms.</p>
<p>A lot of examples and a step-by-step tutorial to get started can be found on the .</p>
<h2 id="Overview">Overview</h2><p>To get an overview of the functions provided by the libraries, have a look at the following table.</p>
<img src="/image-processing-in-javascript/table.png" alt="overview table" title="overview table">
<p>As you can see, CamanJS offers a wide variety of pixelwise modifications as well as operations that are useful for corrections in the image. Some operations like blurring and sharpening however are only supported by other libraries, so you’ll have to choose depending on what exactly you want to do.</p>
<p>The only library in this list that supports rotating, flipping and autocropping is Jimp. If you only want to resize or crop an image, you can use both CamanJS or Jimp.</p>
<p>In case you are looking for more abstract oparations, glfx.js might be the library to choose as it comes with a list of fancy effects you can play around with, as you can see in the following chart.</p>
<img src="/image-processing-in-javascript/fun_effects.png" alt="fun effect functions provided by the libraries" title="fun effect functions provided by the libraries">
<p>Of course, the libraries introduced in this post are not the only ones worth having a look at and you might also be interested in checking out one of these:</p>
<ul>
<li></li>
<li></li>
<li></li>
<li></li>
<li></li>
<li></li>
</ul>
---------------
<h1 id="#title_4" >5、React UI Libraries</h1>

[http://blog.webkid.io/react-ui-libraries/](http://blog.webkid.io/react-ui-libraries/)
<p>This article introduces 5 React UI libraries. You will see how to setup and integrate them for your purposes. We will share our impressions and show an example for each library.</p>
<p>We found rich UX frameworks for enterprise apps and lightweight libraries for prototyping or smaller applications.</p>
<h3 id="Grommet"></h3><blockquote>
<p>The most advanced open source UX framework for enterprise applications.<br></p>
</blockquote>
<p>Grommet is a rich framework for building complex UIs, including the most common components you will need for your app. Nice to have: Grommet offers all resources in multiple graphic formats (e.g. psd, sketch…) for designers to sketch the app before developing. You can also find a well structured  with useful examples.</p>
<h5 id="Installation">Installation:</h5><pre><code class="language-shell">npm install -g grommet -g gulp
</code></pre>
<h5 id="Sample-Component">Sample Component:</h5><pre><code class="language-javascript">import React from &#39;react&#39;;
import WorldMap from &#39;grommet/components/WorldMap&#39;;
import &#39;../../../node_modules/grommet/grommet.min.css&#39;;

const GrometWorldMap = () =&gt; {
  return (
    &lt;WorldMap series={[{continent: , colorIndex: , onClick: }, ...]} /&gt;
  );
};

export default GrometWorldMap;
</code></pre>
<div class="small-img example-img"><img src="/react-ui-libraries/grommet_worldmap.png" alt="grommet world map" title="grommet world map"></div><br><div class="example-links"><br><br></div>

<hr>
<h3 id="Material-UI"></h3><blockquote>
<p>A Set of React Components that Implement Google’s Material Design.<br></p>
</blockquote>
<p>Material UI is a collection of beautiful material design react components. You will find all necessary modules to be exemplary and well documented. As we tested so far, everything works reliably both on mobile and on desktop. Differing from the previous UI framework, Material UI components are rendering with a default material ui style theme. Overrides are possible in two ways, using inline styles or configuring the MUI theme.</p>
<h5 id="Installation-1">Installation:</h5><pre><code class="language-shell">npm install material-ui
</code></pre>
<h5 id="Sample-Component-1">Sample Component:</h5><pre><code class="language-javascript">import React from &#39;react&#39;;
import AutoComplete from &#39;material-ui/AutoComplete&#39;;

const libs = [&#39;Material UI&#39;, &#39;Elemental UI&#39;, &#39;Grommet&#39;, &#39;Mui&#39;, &#39;Rebass&#39;];

const MaterialEx = () =&gt; {
  return (
    &lt;div&gt;
      &lt;AutoComplete
        floatingLabelText=&quot;Type something ...&quot;
        filter={AutoComplete.fuzzyFilter}
        dataSource={libs}
        maxSearchResults={3}
        menuStyle={{ background: '#fff' }}
      /&gt;
    &lt;/div&gt;
  );
};

export default MaterialEx;
</code></pre>
<div class="small-img example-img" style="height: 170px"><img src="/react-ui-libraries/Material_Auto.gif" alt="Material UI auto complete" title="Material UI auto complete"></div><br><div class="example-links"><br><br></div>

<hr>
<h3 id="Elemental-UI"></h3><blockquote>
<p>A UI Toolkit for React.js Websites and Apps.<br></p>
</blockquote>
<p>Unlike the previous examples, elemental is a lightweight library. It offers a grid, css styles and components like buttons, forms or modals. All components are well documented. A downside is that the setup steps aren’t included in the documentation, so the installation took a little longer than expected.</p>
<h5 id="Installation-2">Installation:</h5><pre><code class="language-shell">npm install elemental -S less-loader -S less -S react-addons-css-transition-group -S
</code></pre>
<p>If you´re using webpack, add the following snippet to your loaders</p>
<pre><code class="language-javascript">{
  test: /\.less$/,
  loader: &quot;style!css!less&quot;
}
</code></pre>
<p>Import the main less file to your component as you see below</p>
<h5 id="Sample-Component-2">Sample Component:</h5><pre><code class="language-javascript">import React from &#39;react&#39;;
import { Spinner, Pagination } from &#39;elemental&#39;;
// you need to include the less files and adjust your webpack config in order to load less files
import &#39;../../../node_modules/elemental/less/elemental.less&#39;;

const ElementalUI = () =&gt; {
  return (
    &lt;div&gt;
      &lt;Pagination
        currentPage={1}
        onPageSelect={null}
        pageSize={25}
        plural={&#39;Sites&#39;}
        singular={&#39;Site&#39;}
        total={150}
        limit={6}
      /&gt;
    &lt;/div&gt;
  );
};

export default ElementalUI;
</code></pre>
<p><div class="small-img example-img" style="height: 100px"><img src="/react-ui-libraries/Elemental_Spinner.gif" alt="Elemental UI Spinner" title="Elemental UI Spinner"></div></p>
<div class="example-links"><br><br></div>

<hr>
<h3 id="Rebass"></h3><blockquote>
<p>57 Configurable React Stateless Functional UI Components.<br></p>
</blockquote>
<p>Rebass offers 57 nice components. You can use these components without importing any CSS dependencies or adjusting your webpack loaders. This makes it really comfortable to use compared to the other libraries. The components are stateless functional react components which are customizable with inline styles or through react context.</p>
<h5 id="Installation-3">Installation:</h5><pre><code class="language-shell">npm install rebass
</code></pre>
<h5 id="Sample-Component-3">Sample Component:</h5><pre><code class="language-javascript">import React from &#39;react&#39;;
import { SequenceMap, Switch } from &#39;rebass&#39;;

const RebassEx = () =&gt; {
  return (
    &lt;div&gt;
      &lt;SequenceMap
        active={1}
        steps={[{&#39;children: &#39;Step 1&#39;}, {&#39;children: &#39;Step 2&#39;}, {&#39;children: &#39;Step 3&#39;}]}
      /&gt;
      &lt;Switch checked /&gt;
      &lt;label&gt;on | off&lt;/label&gt;
    &lt;/div&gt;
  );
};

export default RebassEx;
</code></pre>
<div class="small-img example-img" style="height: 100px"><img src="/react-ui-libraries/Rebass_Sequencemap.png" alt="Rebass sequencemap and switch" title="Rebass sequencemap and switch"></div><br><div class="example-links"><br><br></div>

<hr>
<h3 id="MUI"></h3><blockquote>
<p>MUI is a lightweight CSS framework that follows Google’s Material Design guidelines.<br></p>
</blockquote>
<p>MUI was already a topic in another  by webkid. Not only does it offer react components which follow Google’s Material Design, you can also find angular, webcomponents, iOS, Android or email templates. MUI also provides a corresponding sketch file for the designing process.</p>
<h5 id="Installation-4">Installation:</h5><pre><code class="language-shell">npm install muicss
</code></pre>
<h5 id="Sample-Component-4">Sample Component:</h5><pre><code class="language-javascript">import React from &#39;react&#39;;
// you need to include the css files and adjust your webpack config in order to load css files
import &#39;../../../node_modules/muicss/lib/css/mui.min.css&#39;;

import { Tabs, Tab, Button, Container } from &#39;muicss/react&#39;;

const MuiEx = () =&gt; {
  return (
    &lt;div&gt;
      &lt;Tabs justified&gt;
        &lt;Tab value=&quot;pane-1&quot; label=&quot;Tab 1&quot; /&gt;
        &lt;Tab value=&quot;pane-2&quot; label=&quot;Tab 2&quot; /&gt;
      &lt;/Tabs&gt;
      &lt;Container fluid&gt;
        &lt;Button color=&quot;accent&quot; variant=&quot;raised&quot;&gt;Click me&lt;/Button&gt;
      &lt;/Container&gt;
    &lt;/div&gt;
  );
};

export default MuiEx;
</code></pre>
<div class="small-img example-img" style="height: 100px"><img src="/react-ui-libraries/Mui_tabs_Btn.gif" alt="MUI Tabs and Button" title="MUI Tabs and Button"></div><br><div class="example-links"><br><br></div>

<hr>
<p>If you´re interested in more React UI stuff, then checkout the .</p>
---------------
<h1 id="#title_5" >6、Document Classification in Javascript</h1>

[http://blog.webkid.io/document-classification-in-javascript/](http://blog.webkid.io/document-classification-in-javascript/)
<p>If you want to work with a large amount of unsorted and unlabeled data, there are some machine learning techniques that might be helpful for you. A common task in this area is the classification of texts. In this article, you’ll get a basic idea of how this can be achieved using so called Naive Bayes Classifiers and how a simple document classification can be implemented in javascript.</p>
<p></p>
<p>The general idea of supervised machine learning is that you train a system with labeled data. A machine learning algorithm is fed with the data in the training set. By training the system, a so called classifier is generated. Using this, the trained system is then able to classify unknown, unlabeled data based on the things it has learned. </p>
<img src="/document-classification-in-javascript/machine-learning-model.png" alt="machine learning model" title="machine learning model">
<p>A classifier that is very commonly used in text classification is the Naive Bayes Classifier. It is based on the idea of Bayes’ Theorem, which is used to calculate conditional probabilities. The basic idea is to find out what the probability of a document belonging to a class is, based on the words in the text, whereas the single words are treated as independent features. The simple formula for the calculation can be written like this:</p>
<p></p><p class="math-formula">`P(C|W) = (P(W|C)*P(C))/(P(W)) `</p><p></p>
<style>
  .post-content img{margin-bottom:1.25em;}
  .math-formula{text-align: center;font-size: 22px;}
  .mjx-mrow{padding:0 !important;}
</style>

<ul>
<li>P(C|W) = How likely is it for the words W to belong to class C?</li>
<li>P(W|C) = How likely is it to observe the words W in class C?</li>
<li>P(C) = How likely is it for a document to belong to class C?</li>
<li>P(W) = How likely do the words W appear in general?</li>
</ul>
<p>A well written and detailed explanation of the Naive Bayes classifier by Sebastian Raschka can be found .</p>
<p>Naive Bayes Classifiers can achieve good results for predicting if a document belongs to one category or another. Possible uses cases are for example:</p>
<ul>
<li>Which category (sports, politics, economics…) does a newspaper article belong to?</li>
<li>Which author was a text written by?</li>
<li>Is a message spam or not spam?</li>
</ul>
<p>In this blog post, we’ll have a closer look at the last example and set up a classifier that is able to distinguish between spam and not spam (ham) messages. To get started, the first thing we need is a training set of labeled ‘spam’ and ‘ham’ messages. Luckily, such a collection of classified SMS texts can be found . </p>
<p>This set consists of 1002 ham and 322 spam messages and can be downloaded as .txt file. I brought the content into json format for easier use. As mentioned before, a training and a test set are needed. The training set consists of 600 elements (300 of each class) and the test set contains 44 elements (22 of each class).</p>
<pre><code class="language-javascript">const train =[
  { text: &#39;Are you comingdown later?&#39;, label: &#39;ham&#39; },
  { text: &#39;Me too! Have a lovely night xxx&#39;, label: &#39;ham&#39; },
  { text: &#39;Want explicit SEX in 30 secs? Ring 02073162414 now! Costs 20p/min&#39;, label: &#39;spam&#39;},
  { text: &#39;You have won ?1,000 cash or a ?2,000 prize! To claim, call09050000327&#39;, label: &#39;spam&#39; },
  //...
];

const test = [
  { text: &#39;Thinking of u ;) x&#39;, label: &#39;ham&#39; },
  { text: &#39;449050000301 You have won a £2,000 price! To claim, call 09050000301.&#39;, label: &#39;spam&#39;},
  //...
];
</code></pre>
<p>There are some javascript libraries that can be used for classifying documents, for example:</p>
<ul>
<li></li>
<li></li>
<li></li>
</ul>
<p>We will have a closer look at Natural, which provides functions for various language processing tasks and will make use of Natural’s <code>BayesClassifier</code>. </p>
<pre><code class="language-javascript">const natural = require(&#39;natural&#39;);
classifier = new natural.BayesClassifier();
</code></pre>
<p>After creating the classifier, the data it should be trained with can be added using the function <code>addDocument()</code>. This function takes a text and the correct label for that text as parameters. We can iterate over the training set and add each element to the classifier. After all the data was added, the classifier can be trained.</p>
<pre><code class="language-javascript">for (let i = 0; i &lt; train.length; i++) {
  classifier.addDocument(train[i].text, train[i].label);
}
classifier.train();
</code></pre>
<p>When the texts are added to the classifier, a preprocessing is done automatically. The string gets <em>tokenized</em>, which means it is split up into single words. From these words, all so called <em>stop words</em> are removed. <em>Stop words</em> are words that appear often and are therefore not very relevant for the content. Some examples of stop words would be “the”, “a”, “and”… Also, the words are transformed into their root form, which is called <em>stemming</em>. This preprocessing of the text is done by Nartural’s <code>PorterStemmer</code> using the function <code>tokenizeAndStem()</code>.</p>
<pre><code class="language-javascript">const stemmer = natural.PorterStemmer;
stemmer.tokenizeAndStem(&#39;Someone has conacted our dating service and entered your phone because they fancy you!&#39;);
// returns [ &#39;someon&#39;, &#39;conact&#39;, &#39;date&#39;, &#39;servic&#39;, &#39;enter&#39;, &#39;phone&#39;, &#39;fanci&#39; ]
</code></pre>
<p>When the training is finished, the classifier can be used to predict the label of unknown data. This can be achieved with the <code>classify()</code> function. The unlabeled text is passed as parameter and the predicted label is returned.</p>
<pre><code class="language-javascript">let correctResults = 0;

for (let i = 0; i &lt; test.length; i++){
  const result = classifier.classify(test[i].text);
  if (result === test[i].label) {
    correctResults++;
  }
}

console.log(`Correct Results: ${correctResults}/${test.length}`);
// Correct Results: 44/44
</code></pre>
<p>And that’s it! Using our training and test sets, 100% of the test data could be classified correctly. To give you an impression of what else can be done with this simple technique, we created a tool that is able to classify tweets by the US presidental candidates Hilary Clinton, Bernie Sanders and Donald Trump, which you can find and play around with .</p>
<script type="text/javascript" async src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=AM_CHTML"></script>
---------------
<h1 id="#title_6" >7、CSS/UI Frameworks: 10 Bootstrap alternatives</h1>

[http://blog.webkid.io/css-frameworks-bootstrap-alternatives/](http://blog.webkid.io/css-frameworks-bootstrap-alternatives/)
<p>In this post I will give you a quick overview of some CSS and UI frameworks. If you are building a rich admin dashboard,  is totally fine, but for smaller projects you might not need all the features or you are just looking for a different look and feel. All frameworks in this post are actively maintained and Open Source.</p>
<h3 id="Bulma"></div>

<p>Bulma is based on flexbox and SASS. It offers everything you need for the creation of a web site or web app. It has a grid system, single elements and more complex components. There is no Javascript included, so if you are working with modals for example you have to come up with your own implementation. This makes it easy to integrate it in your react app for example.</p>
<h5 id="Installation">Installation:</h5><pre><code class="language-shell">npm install bulma
</code></pre>
<p><br>License: MIT</p>
<h3 id="uikit"></div>

<p>Uikit is based on LESS &amp; SASS. It has standard UI components like buttons, form elements and navigation bars but also Javascript helpers to trigger events while scrolling for example. It is easily themable with the .</p>
<h5 id="Installation-1">Installation:</h5><pre><code class="language-shell">npm install uikit
</code></pre>
<p><br>License: MIT</p>
<h3 id="Materialize"></div>

<p>As the name implies the look and feel follows the Material Design concept. Materialize comes with basic components like buttons or form elements and complex ones that depend on Javascript like modals or parallax effects. There are also mobile helpers for creating a “drag out menu” or “swipe to dismiss” a notification.</p>
<h5 id="Installation-2">Installation:</h5><pre><code class="language-shell">npm install materialize-css
</code></pre>
<p><br>License: MIT</p>
<h3 id="MUI"></div>

<p>MUI also follows the guidelines of Google’s Material Design. What is special about this one is that it is also available as a REACT, Angular, WebComponents or HTML Email framework. The documentation says that it has an “extreme hackability”. I haven’t tried it out yet. But that’s a feature you might need ;)</p>
<h5 id="Installation-3">Installation:</h5><pre><code class="language-shell">npm install muicss
</code></pre>
<p><br>License: MIT</p>
<h3 id="PURE"></div>

<p>PURE is created by Yahoo. It’s a lightweight framework with only very basic elements. It is divided into “Base”, “Grid”, “Forms”, “Buttons”, “Tables” and “Menus”. You can use all of these pacakges or just load the ones you need in your application.</p>
<h5 id="Installation-4">Installation:</h5><pre><code class="language-shell">npm install purecss
</code></pre>
<p><br>License: BSD</p>
<h3 id="Cardinal"></div>

<p>Cardinal is a good starting point. It’s “leaving the design and creativity up to you” so there are only basic styles and no fancy components. It is mobile first and has a flexible grid system.</p>
<h5 id="Installation-5">Installation:</h5><pre><code class="language-shell">npm install cardinalcss
</code></pre>
<p><br>License: MIT</p>
<h3 id="BASE"></div>

<p>BASE comes with a HTML template and a gulp config with Livereload and image optimization you could use. The framework is based on SCSS and doesn’t include Javascript. For CSS Animations the library  is included. BASE is not about fancy UI elements but about a solid foundation with a good grid system and a lot of helper classes.</p>
<h5 id="Installation-6">Installation:</h5><pre><code class="language-shell">npm install getbase
</code></pre>
<p><br>License: MIT</p>
<h3 id="Tacit"></div>

<p>Tacit is special. It calls itself a “CSS framework for dummies” because it doens’t use classes but styles just the HTML elements (for example <code>&lt;input&gt;</code> or <code>&lt;button&gt;</code>).</p>
<h5 id="Installation-7">Installation:</h5><p>No npm package here :/</p>
<pre><code class="language-markdown">&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;http://yegor256.github.io/tacit/tacit.min.css&quot;/&gt;
  &lt;/head&gt;
&lt;/html&gt;
</code></pre>
<p><br>License: MIT</p>
<h3 id="Milligram"></div>

<p>Milligram is a “minimalist CSS framework”. There are no Javascript features included. It’s not an UI framework but more a starter kit for your website/ web app.</p>
<h5 id="Installation-8">Installation:</h5><pre><code class="language-shell">npm install milligram
</code></pre>
<p><br>License: MIT</p>
<h3 id="Semantic-UI"></div>

<p>Semantic UI is big. You should use this if you are looking for a framework with lots of features. It offers simple elements and components but also views and modules in various themes. You can also build your own themed version with only the features you need.</p>
<h5 id="Installation-9">Installation:</h5><pre><code>npm install semantic-ui
</code></pre><p><br>License: MIT</p>
<h3 id="Not-enough"> or you can use the comment section.</p>
<style type="text/css">
    h3{margin-top:1.5em;}
</style>
---------------
<h1 id="#title_7" >8、Neural Networks in Javascript</h1>

[http://blog.webkid.io/neural-networks-in-javascript/](http://blog.webkid.io/neural-networks-in-javascript/)
<p>Neural networks provide the possibility to solve complicated non linear problems. They can be used in various areas such as signal classification, forecasting timeseries and pattern recognition. A neural network is a model inspired by the human brain and  consists of multiple connected neurons. The network consists of a layer of input neurons (where the information goes in), a layer of output neurons (where the result can be taken from) and a number of so called hidden layers in between:</p>
<img src="/neural-networks-in-javascript/nn_blog.png" alt="neuronal network scheme" title="neuronal network scheme">
<p>For getting a deeper understanding, I recommend checking out .</p>
<p>Within the last years, multiple Javascript frameworks were developed that can help you to create, train and use Neural Networks for different purposes. In this blog post, you will learn how to set up a Network and use it for classifying images.</p>
<p>A common example for getting started with Neural Networks is the classification of handwritten digits. To achieve good results, a network has to be trained properly. Therefore, we need a set of data called a training set. In our example, we will use the MNIST numbers, a set of thousands of 28x28px binary images of handwritten numbers from 0 to 9:</p>
<img src="/neural-networks-in-javascript/mnist.png" alt="mnist numbers" title="mnist numbers">
<p>The MNIST database containing 60,000 examples for training and 10,000 examples for testing can be downloaded from , which creates test- and training sets automatically. </p>
<pre><code class="language-javascript">const mnist = require(&#39;mnist&#39;); 

const set = mnist.set(700, 20);

const trainingSet = set.training;
const testSet = set.test;
</code></pre>
<p>The above code creates a training set of 700 images and a testset with 20 elements. When creating the sets manually, it is important to make sure there are no duplicate elements in the sets. If you’re using the MNIST digits library, this is checked automatically.</p>
<p>After creating the data for training and testing, we can set up the network. We will use the library , which gives us the possibility to create a neural network and configure various parameters. First of all, we have to determine how many input and output neurons are needed. As the size of each image is 28x28px, the number of pixels the network has to take as input is 28 x 28 = 784. The digits should be assigned to one of ten classes, so the number of output neurons will be 10. Furthermore, the network should have at least one hidden layer, which in this example is set to consist of 100 neurons. </p>
<p>The following code sets up the network decsribed above:</p>
<pre><code class="language-javascript">const synaptic = require(&#39;synaptic&#39;);

const Layer = synaptic.Layer;
const Network = synaptic.Network;
const Trainer = synaptic.Trainer;

const inputLayer = new Layer(784);
const hiddenLayer = new Layer(100);
const outputLayer = new Layer(10);

inputLayer.project(hiddenLayer);
hiddenLayer.project(outputLayer);

const myNetwork = new Network({
    input: inputLayer,
    hidden: [hiddenLayer],
    output: outputLayer
});
</code></pre>
<p>To train the network with our training set, we can use the Trainer provided by synaptic.js. The  function takes the data used for the training and a list of parameters for the configuration of the trainer. </p>
<pre><code class="language-javascript">const trainer = new Trainer(myNetwork);
trainer.train(trainingSet, {
    rate: .2,
    iterations: 20,
    error: .1,
    shuffle: true,
    log: 1,
    cost: Trainer.cost.CROSS_ENTROPY
});
</code></pre>
<p>As options, you can set the ‘rate’, which is the learning rate for the training. The ‘iterations’ define, after how many iterations the training determines. The ‘error’ is the minimum error that can be reached during the training, if it is achieved, the training stops. By setting the ‘shuffle’ option, you can specify if the training set is ordered randomly or not. You can find more detailed information about all possible options in the .</p>
<p>To get the general idea, in this example we set the maximum number of iterations to 20 to make sure we don’t have to wait for hours before the training is finished. Note that the network won’t be trained very well after only 20 iterations. To get better results, you’ll have to increase the number and be patient. </p>
<p>If you want to see the progress of training, you can use the ‘log’ option to print out the current error of the network. The lower the error, the better the network is trained. </p>
<img src="/neural-networks-in-javascript/error.png" alt="error log" title="error log">
<p>You might notice that the error fluctuates a bit instead of shrinking constantly, but on the whole it gets smaller. If this is not the case, you can try working with a smaller learning rate. </p>
<p>After the training is finished, the testset can be used to check how good the classification by the network works. For this, we can use the  function of the network, which takes the element to classify as parameter. To check the result, it can be printed out and compared to the expected output.</p>
<pre><code class="language-javascript">console.log(myNetwork.activate(testSet[0].input));
console.log(testSet[0].output);
</code></pre>
<p>Please note that the results achieved by the network in this example are not great. Only around 50% of the elements in the training set get classified correctly. This is because of the small training set and the low number of iterations used in the training. To improve the results, the number of elements in the training set and the iterations for the training should be increased. Warning: This will cause the training to take quite a while longer!</p>
<p>Besides from the common MNIST example, there are many other applications in which neural networks can be useful. Another interesting experiment that uses synaptic.js is the  in which a neural network learns the T-Rex game. </p>
<p>If you want to have a look at similar Javascript libraries for creating neural networks, here are some other projects you should check out:</p>
<ul>
<li></li>
<li></li>
<li></li>
<li></li>
</ul>
---------------
<h1 id="#title_8" >9、We are hiring: Javascript Developer in Berlin</h1>

[http://blog.webkid.io/we-are-hiring-javascript-developer/](http://blog.webkid.io/we-are-hiring-javascript-developer/)
<h4 id="TL-DR">TL;DR;</h4><p>If you want to work as a <strong>Javascript developer on journalistic projects in Berlin</strong>, send us a mail with work samples to info@webkid.io.</p>
<h2 id="Who-we-are-what-we-do">.</p>
<p>To expand our team we are looking for a javascript developer who is interested in developing interactives for news organizations and is excited about new technologies as well as designing beautiful, responsive and user-friendly interfaces.</p>
<p>In our daily work, we are using tools like webpack, babel and react for our frontend foundation, frameworks and databases like hapi, rethinkdb and mongoDB in the back-end and libraries like d3, Leaflet and Turf for creating data visualizations. It is important for us to allocate time to deepen knowledge of these technologies and try out new things to improve our work.</p>
<p>Are you in on it? Send us some projects you worked on (portfolio, github profile, blog posts or something similar) to . We would like to meet you for a coffee in our office in Kreuzberg.</p>
---------------
<h1 id="#title_9" >10、6.18.0 Released</h1>

[https://babeljs.io/blog/2016/10/24/6.18.0](https://babeljs.io/blog/2016/10/24/6.18.0)
<p>More flow updates, and lots of fixes!</p>

<p>We’ve added 4 new collabators to Babel since the last release!</p>

<p>All of the hard work goes to them and our new contributors!</p>

<ul>
  <li>Moti Zilberman: 🐙 </li>
  <li>Dan Harper: 🐙 </li>
  <li>Kai Cataldo: 🐙 </li>
  <li>Andrew Levine: 🐙 </li>
</ul>

<p>They’ve been helping keep this project afloat with , and me!</p>

<h2 id="v6180-summary-2016-10-24">v6.18.0 Summary (2016-10-24)</h2>

<blockquote>
  <p>Again if you haven’t checked recently, we’ve moved back to </p>
</blockquote>

<h2 id="-new-feature">🚀 New Feature</h2>
<p>)</p>

<p>Check out the  for more info:</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="nx">type</span> <span class="nx">T</span> <span class="o">=</span> <span class="p">{</span> <span class="o">+</span><span class="na">p</span><span class="p">:</span> <span class="nx">T</span> <span class="p">};</span>
<span class="kr">interface</span> <span class="nx">T</span> <span class="p">{</span> <span class="o">-</span><span class="nx">p</span><span class="err">:</span> <span class="nx">T</span> <span class="p">};</span>
<span class="nx">declare</span> <span class="kr">class</span> <span class="nx">T</span> <span class="p">{</span> <span class="o">+</span><span class="p">[</span><span class="nx">k</span><span class="err">:</span><span class="nx">K</span><span class="p">]</span><span class="err">:</span> <span class="nx">V</span> <span class="p">};</span>
<span class="kr">class</span> <span class="nx">T</span> <span class="p">{</span> <span class="o">-</span><span class="p">[</span><span class="nx">k</span><span class="err">:</span><span class="nx">K</span><span class="p">]</span><span class="err">:</span> <span class="nx">V</span> <span class="p">};</span>
<span class="kr">class</span> <span class="nx">C2</span> <span class="p">{</span> <span class="o">+</span><span class="nx">p</span><span class="err">:</span> <span class="nx">T</span> <span class="o">=</span> <span class="nx">e</span> <span class="p">};</span>
</code></pre>
</div>

<p>)</p>

<p>Useful for  and other plugins.</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="c1">// in</span>
<span class="p">{[</span><span class="s1">'a'</span> <span class="o">+</span> <span class="s1">'b'</span><span class="p">]</span><span class="err">:</span> <span class="mi">10</span> <span class="o">*</span> <span class="mi">20</span><span class="p">,</span> <span class="s1">'z'</span><span class="err">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]}</span>
<span class="c1">// out</span>
<span class="p">{</span><span class="nl">ab</span><span class="p">:</span> <span class="mi">200</span><span class="p">,</span> <span class="nx">z</span><span class="err">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]}</span>
</code></pre>
</div>

<p>)</p>

<p>Parser support was added in .</p>

<p>Just the plugin to enable it in babel.</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="c1">// install</span>
<span class="nx">$</span> <span class="nx">npm</span> <span class="nx">install</span> <span class="nx">babel</span><span class="o">-</span><span class="nx">plugin</span><span class="o">-</span><span class="nx">syntax</span><span class="o">-</span><span class="nx">dynamic</span><span class="o">-</span><span class="kr">import</span> <span class="o">--</span><span class="nx">save</span><span class="o">-</span><span class="nx">dev</span>
</code></pre>
</div>

<p>or use the new <code class="highlighter-rouge">parserOpts</code></p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="c1">// .babelrc</span>
<span class="p">{</span>
  <span class="s2">"parserOpts"</span><span class="err">:</span> <span class="p">{</span>
    <span class="s2">"plugins"</span><span class="err">:</span> <span class="p">[</span><span class="s1">'dynamicImport'</span><span class="p">]</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

<p>)</p>

<p>Previously we added a <code class="highlighter-rouge">useBuiltIns</code> for object-rest-spread so that it use the native/built in version if you use a polyfill or have it supported natively.</p>

<p>This change just uses the same option from the plugin to be applied with spread inside of jsx.</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="c1">// in</span>
<span class="kd">var</span> <span class="nx">div</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nx">Component</span> <span class="p">{...</span><span class="nx">props</span><span class="p">}</span> <span class="nx">foo</span><span class="o">=</span><span class="s2">"bar"</span> <span class="o">/&gt;</span>
<span class="c1">// out</span>
<span class="kd">var</span> <span class="nx">div</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="nx">Component</span><span class="p">,</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">assign</span><span class="p">({},</span> <span class="nx">props</span><span class="p">,</span> <span class="p">{</span> <span class="na">foo</span><span class="p">:</span> <span class="s2">"bar"</span> <span class="p">}));</span>
</code></pre>
</div>

<p>)</p>

<p>Added in flow .</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">f</span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span><span class="p">(</span><span class="nx">x</span><span class="err">:</span> <span class="nx">empty</span><span class="p">)</span><span class="err">:</span> <span class="nx">T</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">x</span><span class="p">;</span>
<span class="p">}</span>
<span class="nx">f</span><span class="p">();</span> <span class="c1">// nothing to pass...</span>
</code></pre>
</div>

<p>)</p>

<p>Track <code class="highlighter-rouge">LabeledStatement</code> separately (not part of bindings).</p>

<h2 id="-polish">💅 Polish</h2>
<p>)</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="c1">// in</span>
<span class="kr">const</span> <span class="p">[</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">];</span>
<span class="c1">// out</span>
<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="nx">b</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
</code></pre>
</div>

<p>)</p>

<blockquote>
  <p>We’ve had a few reports of users not wrapping a preset in <code class="highlighter-rouge">[]</code> when passing in options so we added an extra error message for this.</p>
</blockquote>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="c1">// incorrect, and current gives a unexpected error message</span>
<span class="p">{</span>
  <span class="s2">"presets"</span><span class="err">:</span> <span class="p">[</span>
    <span class="s2">"preset"</span><span class="p">,</span>
    <span class="p">{</span> <span class="s2">"presetOptions"</span><span class="p">:</span> <span class="s1">'hi'</span> <span class="p">}</span> <span class="c1">// gets parsed as another preset instead of being part of the "preset"</span>
  <span class="p">]</span>
<span class="p">}</span>
<span class="c1">// correct</span>
<span class="p">{</span>
  <span class="s2">"presets"</span><span class="err">:</span> <span class="p">[</span>
    <span class="p">[</span><span class="s2">"preset"</span><span class="p">,</span>
      <span class="p">{</span>
        <span class="s2">"presetOptions"</span><span class="p">:</span> <span class="s1">'hi'</span>
      <span class="p">}</span>
    <span class="p">]</span>
  <span class="p">]</span>
<span class="p">}</span>
</code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code>ReferenceError: [BABEL] /test.js: Unknown option: base.loose2. Check out http://babeljs.io/docs/usage/options/ for more information about options.

A common cause of this error is the presence of a configuration options object without the corresponding preset name. Example:

Invalid:
  `{ presets: [{option: value}] }`
Valid:
  `{ presets: [["presetName", {option: value}]] }`

For more detailed information on preset configuration, please see http://babeljs.io/docs/plugins/#pluginpresets-options.
</code></pre>
</div>

<p>)</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">a</span><span class="err">:</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="kr">boolean</span><span class="o">&gt;</span><span class="p">[];</span>
<span class="c1">// instead of</span>
<span class="kd">var</span> <span class="nx">a</span><span class="err">:</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="nx">bool</span><span class="o">&gt;</span><span class="p">[];</span>
</code></pre>
</div>

<h2 id="-documentation">📝 Documentation</h2>
<p>)</p>

<p>So that our MIT License .</p>

<h2 id="-bug-fixes">🐛 Bug Fixes</h2>

<p>)</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="c1">// transform-react-inline-elements</span>
<span class="c1">// issue with imported components that were JSXMemberExpression</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">form</span> <span class="p">}</span> <span class="nx">from</span> <span class="s2">"./export"</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">ParentComponent</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="o">&lt;</span><span class="nx">form</span><span class="p">.</span><span class="nx">TestComponent</span> <span class="o">/&gt;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
</div>

<p>)</p>

<div class="highlighter-rouge"><pre class="highlight"><code>// transform-react-inline-elements
import { Modal } from "react-bootstrap";
export default CustomModal = () =&gt; &lt;Modal.Header&gt;foobar&lt;/Modal.Header&gt;;
</code></pre>
</div>

<p>)</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="k">if</span> <span class="p">(</span> <span class="kc">true</span> <span class="p">)</span> <span class="p">{</span>
  <span class="nl">loop</span><span class="p">:</span> <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">ch</span> <span class="nx">of</span> <span class="p">[])</span> <span class="p">{}</span>
<span class="p">}</span>
</code></pre>
</div>

<p>)</p>

<div class="highlighter-rouge"><pre class="highlight"><code>class A {
  prop1 = () =&gt; this;
  static prop2 = () =&gt; this;
  prop3 = () =&gt; arguments;
}
</code></pre>
</div>

<p>)</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="c1">// in</span>
<span class="kr">class</span> <span class="nx">C</span> <span class="p">{</span>
  <span class="nx">async</span> <span class="o">*</span><span class="nx">g</span><span class="p">()</span> <span class="p">{</span> <span class="nx">await</span> <span class="mi">1</span><span class="p">;</span> <span class="p">}</span>
<span class="p">}</span>
<span class="c1">// out</span>
<span class="kr">class</span> <span class="nx">C</span> <span class="p">{</span>
  <span class="nx">g</span><span class="p">()</span> <span class="p">{</span> <span class="c1">// was incorrectly outputting the method with a generator still `*g(){`</span>
    <span class="k">return</span> <span class="nx">_asyncGenerator</span><span class="p">.</span><span class="nx">wrap</span><span class="p">(</span><span class="kd">function</span><span class="o">*</span> <span class="p">()</span> <span class="p">{</span>
      <span class="k">yield</span> <span class="nx">_asyncGenerator</span><span class="p">.</span><span class="nx">await</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
    <span class="p">})();</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

<p>)</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="c1">// was wrapping variables in an IIFE incorrectly</span>
<span class="k">for</span> <span class="p">(</span> <span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="p">{</span> <span class="nx">length</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">list</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span> <span class="nx">i</span> <span class="o">+</span> <span class="s1">': '</span> <span class="o">+</span> <span class="nx">list</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="p">)</span>
<span class="p">}</span>
</code></pre>
</div>

<p>)</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="c1">// was producing invalid code</span>
<span class="kr">class</span> <span class="nx">Ref</span> <span class="p">{</span>
  <span class="kr">static</span> <span class="nx">nextId</span> <span class="o">=</span> <span class="mi">0</span>
  <span class="nx">constructor</span><span class="p">(</span><span class="nx">id</span> <span class="o">=</span> <span class="o">++</span><span class="nx">Ref</span><span class="p">.</span><span class="nx">nextId</span><span class="p">,</span> <span class="nx">n</span> <span class="o">=</span> <span class="nx">id</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">id</span> <span class="o">=</span> <span class="nx">n</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="nx">assert</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="k">new</span> <span class="nx">Ref</span><span class="p">().</span><span class="nx">id</span><span class="p">)</span>
<span class="nx">assert</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="k">new</span> <span class="nx">Ref</span><span class="p">().</span><span class="nx">id</span><span class="p">)</span>
</code></pre>
</div>

<p>)</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">first</span><span class="p">(...</span><span class="nx">values</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">index</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">return</span> <span class="nx">values</span><span class="p">[</span><span class="nx">index</span><span class="o">++</span><span class="p">];</span> <span class="c1">// ++ was happening twice</span>
<span class="p">}</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">first</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">));</span>
</code></pre>
</div>

<p>)</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">x</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="k">if</span> <span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nl">ca</span><span class="p">:</span> <span class="kd">let</span> <span class="nx">x</span> <span class="o">=</span> <span class="mi">20</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
</div>

<p>)</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="nx">a</span><span class="p">[</span><span class="err">`</span><span class="nx">$</span><span class="p">{</span><span class="nx">b</span><span class="o">++</span><span class="p">}</span><span class="err">`</span><span class="p">]</span> <span class="o">**=</span> <span class="mi">1</span><span class="p">;</span>
</code></pre>
</div>

<p>)</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">bar</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="kr">super</span><span class="p">.</span><span class="nx">baz</span> <span class="o">**=</span> <span class="mi">12</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

<p>)</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="c1">// @flow</span>
<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">method</span><span class="p">(</span><span class="na">a</span><span class="p">:</span> <span class="nx">string</span><span class="p">):</span> <span class="nx">number</span> <span class="p">{</span>
    <span class="k">return</span> <span class="mi">5</span> <span class="o">+</span> <span class="mi">5</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">};</span>
</code></pre>
</div>

<p>)</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="c1">// @flow</span>
<span class="kr">class</span> <span class="nx">C</span> <span class="p">{</span>
  <span class="nx">m</span><span class="p">(</span><span class="nx">x</span><span class="err">:</span> <span class="nx">number</span><span class="p">)</span><span class="err">:</span> <span class="nx">string</span> <span class="p">{</span>
    <span class="k">return</span> <span class="s1">'a'</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

<h2 id="-internal">🏠 Internal</h2>
<p>)</p>

<p>It’s a one-time use tool (helpful after the initial release when upgrading from v5 to v6) that doesn’t need to be a part of <code class="highlighter-rouge">babel-cli</code>. We’ll publish it as a standalone package it someone asks for it.</p>

<p>)</p>

<p>Will be useful for contributors: <code class="highlighter-rouge">TEST_DEBUG=true make test</code> to run <code class="highlighter-rouge">node --inspect</code> on node v6+.</p>

<p>)</p>

<p>Also amazing for contributors: if you create an <code class="highlighter-rouge">actual.js</code> test file without the <code class="highlighter-rouge">expected.js</code> it will generate it for you (like snapshot tests but with babel output).</p>

<p>)</p>

<p>)</p>

<p>The non-fixture tests finally are also transpiled as well!</p>

<p>)</p>

<p>)</p>

<p>Allows us to use the latest version of eslint which drops support of node &lt; 4 by only running lint on the lastest node which should save CI time.</p>

<h2 id="-first-merged-pull-request">🎉 First Merged Pull Request!</h2>
<ul>
  <li>Andrew Levine ()</li>
  <li>Eric Rozell ()</li>
  <li>Gyandeep Singh ()</li>
  <li></li>
  <li>Jordan Gensler ()</li>
  <li>Nazim Hajidin ()</li>
  <li>Simen Bekkhus ()</li>
  <li></li>
</ul>

<h2 id="-commiters-17">🌏 Commiters: 17</h2>

<ul>
  <li>Brian Ng ()</li>
  <li>Dan Harper ()</li>
  <li>Daniel Tschinder ()</li>
  <li>Greenkeeper ()</li>
  <li>Henry Zhu ()</li>
  <li>Juriy Zaytsev ()</li>
  <li>Kai Cataldo ()</li>
  <li>Moti Zilberman ()</li>
  <li>Sam Goldman ()</li>
</ul>

<hr />

<p>Check out  for the whole changelog!</p>
---------------
<h1 id="#title_10" >11、GitHub贡献第一的公司是谁？微软开源软件列表</h1>
木环
[http://www.infoq.com/cn/news/2017/03/GitHub-first-Microsoft-open-sour?utm_campaign=infoq_content&utm_source=infoq&utm_medium=feed&utm_term=global](http://www.infoq.com/cn/news/2017/03/GitHub-first-Microsoft-open-sour?utm_campaign=infoq_content&utm_source=infoq&utm_medium=feed&utm_term=global)
<img src="http://www.infoq.com/styles/i/logo_bigger.jpg"/><p>哪家公司在GitHub上贡献最多？不是Facebook，也不是Google，而是微软公司，这个第一名还是多少有些出人意料。</p> <i>By 木环</i>
---------------
<h1 id="#title_11" >12、视频演讲： 百度AI平台人脸识别技术应用解读</h1>
吴延宇
[http://www.infoq.com/cn/presentations/face-recognition-technology-in-baidu-ai-platform?utm_campaign=infoq_content&utm_source=infoq&utm_medium=feed&utm_term=global](http://www.infoq.com/cn/presentations/face-recognition-technology-in-baidu-ai-platform?utm_campaign=infoq_content&utm_source=infoq&utm_medium=feed&utm_term=global)
<img src="http://www.infoq.com/resource/presentations/face-recognition-technology-in-baidu-ai-platform/zh/mediumimage/wuyanyu270.jpg"/><p>百度建立了国内第一个全网人脸识别系统，索引4亿人脸数据，其人脸检测技术在国际公认的数据集FDDB上排名世界第一，相关技术已应用到百度众多产品当中。如人脸闸机落户百度科技园，植入百度人脸技术的小度机器人顺利进入江苏卫视最强大脑的脑王大赛。本次演讲将介绍百度AI平台人脸识别技术的能力、应用，技术接口使用及平台服务，涉及人脸检测、人脸比对、人脸查找等技术。同时，还会向各位开发者介绍百度AI平台其他五大人工智能技术，让您全面了解百度人工智能的技术能力，全面掌握接口技术的使用，全面拥有百度AI平台的服务！</p> <i>By 吴延宇</i>
---------------
<h1 id="#title_12" >13、Web Development Reading List #176: Safari 10.1, Prompt()-Deprecation, And Professional Pride</h1>
Anselm Hannemann
[https://www.smashingmagazine.com/2017/03/web-development-reading-list-176/](https://www.smashingmagazine.com/2017/03/web-development-reading-list-176/)
<table width="650">
	<tr>
		<td width="650">
			<div style="width:650px;">
				<img src="http://statisches.auslieferung.commindo-media-ressourcen.de/advertisement.gif" alt="" border="0"/>
				<br/>
				<a href="http://auslieferung.commindo-media-ressourcen.de/random.php?mode=target&collection=smashing-rss&position=1" target="_blank">
					<img src="http://auslieferung.commindo-media-ressourcen.de/random.php?mode=image&collection=smashing-rss&position=1" border="0" alt=""/>
				</a>
				&nbsp;
				<a href="http://auslieferung.commindo-media-ressourcen.de/random.php?mode=target&collection=smashing-rss&position=2" target="_blank">
					<img src="http://auslieferung.commindo-media-ressourcen.de/random.php?mode=image&collection=smashing-rss&position=2" border="0" alt=""/>
				</a>
				&nbsp;
				<a href="http://auslieferung.commindo-media-ressourcen.de/random.php?mode=target&collection=smashing-rss&position=3" target="_blank">
					<img src="http://auslieferung.commindo-media-ressourcen.de/random.php?mode=image&collection=smashing-rss&position=3" border="0" alt=""/>
				</a>
			</div>
		</td>
	</tr>
</table><p>What a busy week! To stay on top of things, let’s review what happened in the web development world the last few days — from browser vendors pushing new updates and building new JavaScript guidelines and security standards to why we as web professionals need to <strong>review our professional pride</strong>. How can we properly revoke certificates in browsers, for example? And how can we build accessibility into a style guide? Let’s take a look.</p>
<figure></figure>
<p>Safari 10.1 was announced a while ago already, and this week it finally came to Macs and iOS devices around the world. The new Safari version ships CSS Grid Layouts, <code>fetch()</code>, IndexedDB2.0, Custom Elements, Form Validation, Media Capture, and much more.</p><p>The post .</p>
---------------
<h1 id="#title_13" >14、Blooming Colors And A Bit Of Magic: Wallpapers To Get Your Ideas Springing (April 2017 Edition)</h1>
Cosima Mielke
[https://www.smashingmagazine.com/2017/03/desktop-wallpaper-calendars-april-2017/](https://www.smashingmagazine.com/2017/03/desktop-wallpaper-calendars-april-2017/)
<table width="650">
	<tr>
		<td width="650">
			<div style="width:650px;">
				<img src="http://statisches.auslieferung.commindo-media-ressourcen.de/advertisement.gif" alt="" border="0"/>
				<br/>
				<a href="http://auslieferung.commindo-media-ressourcen.de/random.php?mode=target&collection=smashing-rss&position=1" target="_blank">
					<img src="http://auslieferung.commindo-media-ressourcen.de/random.php?mode=image&collection=smashing-rss&position=1" border="0" alt=""/>
				</a>
				&nbsp;
				<a href="http://auslieferung.commindo-media-ressourcen.de/random.php?mode=target&collection=smashing-rss&position=2" target="_blank">
					<img src="http://auslieferung.commindo-media-ressourcen.de/random.php?mode=image&collection=smashing-rss&position=2" border="0" alt=""/>
				</a>
				&nbsp;
				<a href="http://auslieferung.commindo-media-ressourcen.de/random.php?mode=target&collection=smashing-rss&position=3" target="_blank">
					<img src="http://auslieferung.commindo-media-ressourcen.de/random.php?mode=image&collection=smashing-rss&position=3" border="0" alt=""/>
				</a>
			</div>
		</td>
	</tr>
</table><p>Time is running! The first quarter of the year lies already behind us and a new season is in full swing. But no matter if April means blooming colors and embracing the warmer weather in your part of the world or getting cozy for autumn, our <strong>new batch of desktop wallpapers</strong> is bound to cater for some fresh inspiration regardless of that.</p>
<figure></figure>
<p>We’ve been on this mission to bring you unique wallpaper calendars each month anew for .</p>
---------------
<h1 id="#title_14" >15、Upgrade to Babel 7 (WIP)</h1>

[https://babeljs.io/blog/2017/03/01/upgrade-to-babel-7](https://babeljs.io/blog/2017/03/01/upgrade-to-babel-7)
<p>Refer users to this document when upgrading to Babel 7 (currently alpha).</p>

<p>Because not every breaking change will affect every project, we’ve sorted the sections by the likelihood of a change breaking tests when upgrading.</p>

<h2 id="all-of-babel">All of Babel</h2>

<blockquote>
  <p>Support for Node.js 0.10 and 0.12 has been dropped  <img src="https://img.shields.io/badge/level%20of%20awesomeness%3F-high-red.svg" alt="high" /></p>
</blockquote>

<p>We highly encourage you to use a newer version of Node.js (LTS v4, LTS v6) since the previous versions are not maintained.
See  for more information.</p>

<blockquote>
  <p>This just means Babel <em>itself</em> won’t run on older versions of Node. It can still <em>output</em> code that runs on old Node.</p>
</blockquote>

<h2 id="option-parsing">Option parsing</h2>

<p>Babel’s config options are stricter than in Babel 6. Where a comma-separated list for presets, e.g. <code class="highlighter-rouge">presets: 'es2015,es2016'</code> technically worked before, it will now fail and need to be changed to an array . This does not apply to the CLI, where <code class="highlighter-rouge">--presets es2015,es2016</code> will certainly still work.</p>

<h2 id="resolving-string-based-config-values">Resolving string-based config values</h2>

<p>In Babel 6, values passed to Babel directly (not from a config file), were resolved relative to the files being compiled, which led to lots of confusion. In Babel 7, values are resolved consistently either relative to the config file that loaded them, or relative to the working directory.</p>

<p>For <code class="highlighter-rouge">presets</code> and <code class="highlighter-rouge">plugins</code> values, this change means that the CLI will behave nicely in cases such as</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code>babel --presets es2015 ../file.js
</code></pre>
</div>

<p>Assuming your <code class="highlighter-rouge">node_modules</code> folder is in <code class="highlighter-rouge">.</code>, in Babel 6 this would fail because the preset could not be found.</p>

<p>This change also affects <code class="highlighter-rouge">only</code> and <code class="highlighter-rouge">ignore</code> which will be expanded on next.</p>

<h2 id="path-based-only-and-ignore-patterns">Path-based <code class="highlighter-rouge">only</code> and <code class="highlighter-rouge">ignore</code> patterns</h2>

<p>In Babel 6, <code class="highlighter-rouge">only</code> and <code class="highlighter-rouge">ignore</code> were treated as a general matching string, rather than a filepath glob. This meant that for instance <code class="highlighter-rouge">*.foo.js</code> would match <code class="highlighter-rouge">./**/*.foo.js</code>, which was confusing and surprising to most users.</p>

<p>In Babel 7, these are now treated as path-based glob patterns which can either be relative or absolute paths. This means that if you were using these patterns, you’ll probably need to at least add a <code class="highlighter-rouge">**/</code> prefix to them now to ensure that your patterns match deeply into directories.</p>

<p><code class="highlighter-rouge">only</code> and <code class="highlighter-rouge">ignore</code> patterns <em>do</em> still also work for directories, so you could also use <code class="highlighter-rouge">only: './tests'</code> to only compile files in your <code class="highlighter-rouge">tests</code> directory, with no need to use <code class="highlighter-rouge">**/*.js</code> to match all nested files.</p>

<h2 id="babels-cli-commands">Babel’s CLI commands</h2>

<p>The <code class="highlighter-rouge">--copy-files</code> argument for the <code class="highlighter-rouge">babel</code> command, which tells Babel to copy all files in a directory that Babel doesn’t know how to handle, will also now copy files that failed an <code class="highlighter-rouge">only</code>/<code class="highlighter-rouge">ignore</code> check, where before it would silently skip all ignored files.</p>

<h2 id="babel-preset-stage-3">babel-preset-stage-3</h2>

<blockquote>
  <p>Remove Stage 4 plugins from Stage 3  <img src="https://img.shields.io/badge/risk%20of%20breakage%3F-high-red.svg" alt="high" /></p>
</blockquote>

<p>These plugins were moved into their yearly presets after moving to Stage 4:</p>

<p><code class="highlighter-rouge">babel-plugin-syntax-trailing-function-commas</code> (<code class="highlighter-rouge">babel-preset-es2017</code>)</p>

<p>Example:</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="nx">clownPuppiesEverywhere</span><span class="p">(</span>
  <span class="s1">'foo'</span><span class="p">,</span>
  <span class="s1">'bar'</span><span class="p">,</span> <span class="c1">// Next parameter that's added only has to add a new line, not modify this line</span>
<span class="p">);</span>
</code></pre>
</div>

<p><code class="highlighter-rouge">babel-plugin-transform-async-to-generator</code> (<code class="highlighter-rouge">babel-preset-es2017</code>)</p>

<p>Example:</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="nx">async</span> <span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">await</span> <span class="nx">bar</span><span class="p">();</span>
<span class="p">}</span>
</code></pre>
</div>

<p><code class="highlighter-rouge">babel-plugin-transform-exponentiation-operator</code> (babel-preset-es2016)</p>

<p>Example:</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">cubed</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">**</span> <span class="mi">3</span><span class="p">;</span>
</code></pre>
</div>

<hr />

<p>Instead of any yearly preset, we suggest that you use the newly created <code class="highlighter-rouge">babel-preset-env</code> which uses the correct plugins based on your environment.</p>

<p>Before:</p>

<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"presets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"es2015"</span><span class="p">,</span><span class="w"> </span><span class="s2">"es2016"</span><span class="p">,</span><span class="w"> </span><span class="s2">"es2017"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>After:</p>

<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"presets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"env"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"presets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">[</span><span class="s2">"env"</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"targets"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"browsers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"last 2 versions"</span><span class="p">,</span><span class="w"> </span><span class="s2">"safari &gt;= 7"</span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}]</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>See  for more information.</p>

<h2 id="spec-compliancy">Spec Compliancy</h2>

<blockquote>
  <p>A trailing comma cannot come after a RestElement in objects  <img src="https://img.shields.io/badge/risk%20of%20breakage%3F-medium-yellow.svg" alt="medium" /></p>
</blockquote>

<p>This is when you are using <code class="highlighter-rouge">babel-plugin-transform-object-rest-spread</code>.</p>

<p>Before:</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="p">{</span> <span class="p">...</span><span class="nx">y</span><span class="p">,</span> <span class="p">}</span> <span class="o">=</span> <span class="p">{</span> <span class="na">a</span><span class="p">:</span> <span class="mi">1</span><span class="p">};</span>
</code></pre>
</div>

<p>This will now throw a syntax error.</p>

<p>After:</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="p">{</span> <span class="p">...</span><span class="nx">y</span> <span class="p">}</span> <span class="o">=</span> <span class="p">{</span> <span class="na">a</span><span class="p">:</span> <span class="mi">1</span><span class="p">};</span>
</code></pre>
</div>

<h2 id="babel-preset-stage-1babel-preset-stage-2-decorators">babel-preset-stage-1/babel-preset-stage-2 (decorators)</h2>

<blockquote>
  <p>The ).</p>
</blockquote>

<p>Currently, the transform-decorators plugin does little more than display an unsupported error. While we work to update decorator support, we’ve decided to replace it with the legacy decorator plugin and include it in the Stage 1 preset.</p>

<h2 id="babel-core">babel-core</h2>

<blockquote>
  <p><code class="highlighter-rouge">babel-core/register.js</code> has been removed  <img src="https://img.shields.io/badge/risk%20of%20breakage%3F-low-yellowgreen.svg" alt="low" /></p>
</blockquote>

<p>The deprecated usage of <code class="highlighter-rouge">babel-core/register</code> has been removed in Babel 7; instead use the standalone package <code class="highlighter-rouge">babel-register</code>.</p>

<p>Install <code class="highlighter-rouge">babel-register</code> as a new dependency:</p>

<div class="language-sh highlighter-rouge"><pre class="highlight"><code>npm install --save-dev babel-register
</code></pre>
</div>

<p>Upgrading with Mocha:</p>

<div class="language-sh highlighter-rouge"><pre class="highlight"><code>mocha --compilers js:babel-core/register
</code></pre>
</div>

<p>to:</p>

<div class="language-sh highlighter-rouge"><pre class="highlight"><code>mocha --compilers js:babel-register
</code></pre>
</div>

<p>See  for more information.</p>

<h2 id="babel-plugin-transform-class-constructor-call">babel-plugin-transform-class-constructor-call</h2>

<blockquote>
  <p>babel-plugin-transform-class-constructor-call has been removed  <img src="https://img.shields.io/badge/risk%20of%20breakage%3F-low-yellowgreen.svg" alt="low" /></p>
</blockquote>

<p>TC39 decided to drop this proposal.</p>

<p>Before:</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kr">class</span> <span class="nx">Point</span> <span class="p">{</span>

  <span class="nx">constructor</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">x</span> <span class="o">=</span> <span class="nx">x</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">y</span> <span class="o">=</span> <span class="nx">y</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="nx">call</span> <span class="nx">constructor</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nx">Point</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">);</span>
  <span class="p">}</span>

<span class="p">}</span>

<span class="kd">let</span> <span class="nx">p1</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Point</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">p2</span> <span class="o">=</span> <span class="nx">Point</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">);</span>
</code></pre>
</div>

<p>You can move your logic into the constructor or into a static method.</p>

<p>Example with a static method:</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kr">class</span> <span class="nx">Point</span> <span class="p">{</span>

  <span class="nx">constructor</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">x</span> <span class="o">=</span> <span class="nx">x</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">y</span> <span class="o">=</span> <span class="nx">y</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="kr">static</span> <span class="nx">secondConstructor</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nx">Point</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">);</span>
  <span class="p">}</span>

<span class="p">}</span>

<span class="kd">let</span> <span class="nx">p1</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Point</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">p2</span> <span class="o">=</span> <span class="nx">Point</span><span class="p">.</span><span class="nx">secondConstructor</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">);</span>
</code></pre>
</div>

<p>See  for more information.</p>

<h2 id="babel">babel</h2>

<blockquote>
  <p>Dropping the <code class="highlighter-rouge">babel</code> package  <img src="https://img.shields.io/badge/risk%20of%20breakage%3F-low-yellowgreen.svg" alt="low" /></p>
</blockquote>

<p>This package currently gives you an error message to install <code class="highlighter-rouge">babel-cli</code> instead in v6. We will just not publish a v7 version. It also doesn’t make sense if we switch to scoped package <code class="highlighter-rouge">babel</code> -&gt; <code class="highlighter-rouge">@babel/babel</code>?</p>

<h2 id="babel-generator">babel-generator</h2>

<blockquote>
  <p>Dropping the <code class="highlighter-rouge">quotes</code> option ] <img src="https://img.shields.io/badge/risk%20of%20breakage%3F-none-brightgreen.svg" alt="none" /></p>
</blockquote>

<p>If you want formatting for compiled output you can use recast/prettier/escodegen/fork babel-generator.</p>

<p>This option was only available through <code class="highlighter-rouge">babel-generator</code> explicitly until v6.18.0 when we exposed <code class="highlighter-rouge">parserOpts</code> and <code class="highlighter-rouge">generatorOpts</code>. Because there was a bug in that release no one should’ve used this option in Babel itself.</p>

<blockquote>
  <p>Dropping the <code class="highlighter-rouge">flowUsesCommas</code> option  <img src="https://img.shields.io/badge/risk%20of%20breakage%3F-none-brightgreen.svg" alt="none" /></p>
</blockquote>

<p>Currently there are 2 supported syntaxes (<code class="highlighter-rouge">,</code> and <code class="highlighter-rouge">;</code>) in Flow Object Types.</p>

<p>This change just makes babel-generator output <code class="highlighter-rouge">,</code> instead of <code class="highlighter-rouge">;</code>.</p>

<h2 id="babel-core-1">babel-core</h2>

<blockquote>
  <p>Remove <code class="highlighter-rouge">babel-core/src/api/browser.js</code>  <img src="https://img.shields.io/badge/risk%20of%20breakage%3F-none-brightgreen.svg" alt="none" /></p>
</blockquote>

<p><code class="highlighter-rouge">babel-browser</code> was already removed in 6.0. If you need to use Babel in the browser or a non-Node environment, use .</p>
---------------
<h1 id="#title_15" >16、Upgrade to Babel 7 for Tool Authors (WIP)</h1>

[https://babeljs.io/blog/2017/03/01/upgrade-to-babel-7-for-tool-authors](https://babeljs.io/blog/2017/03/01/upgrade-to-babel-7-for-tool-authors)
<p>Refer users to this document for those that create tools that depend on Babel (such as Babel plugins).</p>

<blockquote>
  <p>Also check out the  for other relevant changes.</p>
</blockquote>

<h2 id="all-babel-packages">All Babel packages</h2>

<blockquote>
  <p>Support for Node.js 0.10 and 0.12 has been dropped <img src="https://img.shields.io/badge/level%20of%20awesomeness%3F-high-red.svg" alt="high" /></p>
</blockquote>

<blockquote>
  <p>Dropped use of <code class="highlighter-rouge">add-module-exports</code> plugin on Babel packages <img src="https://img.shields.io/badge/risk%20of%20breakage%3F-medium-yellow.svg" alt="medium" /></p>
</blockquote>

<p>This had to be used earlier to prevent a breaking change with our exports.</p>

<p>If you import a Babel package in a library you may need to use <code class="highlighter-rouge">.default</code> when using <code class="highlighter-rouge">require</code> rather than <code class="highlighter-rouge">import</code>.</p>

<h2 id="babel-core"><code class="highlighter-rouge">babel-core</code></h2>

<p>The publicly exposed but undocumented <code class="highlighter-rouge">Pipeline</code> class has been removed. Best to use the transformation methods exposed from <code class="highlighter-rouge">babel-core</code> directly .</p>

<p>The <code class="highlighter-rouge">babel.util.*</code> helper methods have been removed, and <code class="highlighter-rouge">util.EXTENSIONS</code> has been moved to <code class="highlighter-rouge">babel.DEFAULT_EXTENSIONS</code> .</p>

<p>Calls to <code class="highlighter-rouge">babel.transform</code> or any other transform function may return <code class="highlighter-rouge">null</code> if the file matched an <code class="highlighter-rouge">ignore</code> pattern or failed to match an <code class="highlighter-rouge">only</code> pattern .</p>

<p>The <code class="highlighter-rouge">opts.basename</code> option exposed on <code class="highlighter-rouge">state.file.opts</code> has been removed. If you need it, best to build it from <code class="highlighter-rouge">opts.filename</code> yourself .</p>

<h2 id="babylon">Babylon</h2>

<blockquote>
  <p>AST changes <img src="https://img.shields.io/badge/risk%20of%20breakage%3F-high-red.svg" alt="high" /></p>
</blockquote>

<p>Flow: Node renamed from <code class="highlighter-rouge">ExistentialTypeParam</code> to <code class="highlighter-rouge">ExistsTypeAnnotation</code> </p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="nx">type</span> <span class="nx">Maybe</span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nx">_Maybe</span><span class="o">&lt;</span><span class="nx">T</span><span class="p">,</span> <span class="o">*&gt;</span><span class="p">;</span>
</code></pre>
</div>

<p>Flow: Node renamed from <code class="highlighter-rouge">NumericLiteralTypeAnnotation</code> to <code class="highlighter-rouge">NumberLiteralTypeAnnotation</code> </p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="nx">type</span> <span class="nx">T</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</code></pre>
</div>

<p>Flow: New node <code class="highlighter-rouge">Variance</code> which replaces the string value of the <code class="highlighter-rouge">variance</code> field on several nodes (TODO: be more specific here) </p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kr">class</span> <span class="nx">A</span> <span class="p">{</span><span class="o">+</span><span class="nx">p</span><span class="err">:</span><span class="nx">T</span><span class="p">}</span>
<span class="kr">class</span> <span class="nx">A</span> <span class="p">{</span><span class="o">-</span><span class="nx">p</span><span class="err">:</span><span class="nx">T</span><span class="p">}</span>
</code></pre>
</div>

<p>Flow: <code class="highlighter-rouge">ObjectTypeIndexer</code> location info matches Flow’s better </p>

<p>Babylon was including the semicolon in the location, whereas Flow didn’t.</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">a</span><span class="err">:</span> <span class="p">{</span> <span class="p">[</span><span class="nx">a</span><span class="err">:</span> <span class="nx">number</span><span class="p">]</span><span class="err">:</span> <span class="nx">string</span><span class="p">;</span> <span class="p">[</span><span class="nx">b</span><span class="err">:</span> <span class="nx">number</span><span class="p">]</span><span class="err">:</span> <span class="nx">string</span><span class="p">;</span> <span class="p">};</span>
</code></pre>
</div>

<p>Node <code class="highlighter-rouge">ForAwaitStatement</code> has been removed </p>

<p>An <code class="highlighter-rouge">await</code> property is defined instead.</p>

<div class="language-text highlighter-rouge"><pre class="highlight"><code>interface ForOfStatement &lt;: ForInStatement {
  type: "ForOfStatement";
  await: boolean;
}
</code></pre>
</div>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="nx">async</span> <span class="kd">function</span> <span class="nx">f</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">for</span> <span class="nx">await</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">x</span> <span class="nx">of</span> <span class="nx">y</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
</div>

<p>Nodes <code class="highlighter-rouge">RestProperty</code> and <code class="highlighter-rouge">SpreadProperty</code> are removed in favor of reusing <code class="highlighter-rouge">RestElement</code> and <code class="highlighter-rouge">SpreadElement</code> </p>

<p>The actual syntax for both is the same: <code class="highlighter-rouge">...</code>. Before we differentiated the usage of them based on if it was used in an object or in an array.</p>

<p>See our  for more information.</p>

<blockquote>
  <p>Removed the <code class="highlighter-rouge">*</code> plugin option  <img src="https://img.shields.io/badge/risk%20of%20breakage%3F-low-yellowgreen.svg" alt="low" /></p>
</blockquote>

<p>This was first added in v6.14.1 (Nov 17, 2016) so it’s unlikely anyone was using this.</p>

<p>This catch-all option was removed; instead you should specifically decide which plugins you want to activate.</p>

<p>We thought it would be a good idea for tools so they wouldn’t have to constantly update their config but it also means we can’t easily make a breaking change.</p>

<p>Before:</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="nx">babylon</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">code</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">plugins</span><span class="p">:</span> <span class="p">[</span> <span class="s2">"*"</span> <span class="p">]</span>
<span class="p">})</span>
</code></pre>
</div>

<p>You can get the old behavior using:</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="nx">babylon</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">code</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">plugins</span><span class="p">:</span> <span class="p">[</span>
    <span class="s2">"asyncGenerators"</span><span class="p">,</span>
    <span class="s2">"classProperties"</span><span class="p">,</span>
    <span class="s2">"decorators"</span><span class="p">,</span>
    <span class="s2">"doExpressions"</span><span class="p">,</span>
    <span class="s2">"dynamicImport"</span><span class="p">,</span>
    <span class="s2">"exportExtensions"</span><span class="p">,</span>
    <span class="s2">"flow"</span><span class="p">,</span>
    <span class="s2">"functionBind"</span><span class="p">,</span>
    <span class="s2">"functionSent"</span><span class="p">,</span>
    <span class="s2">"jsx"</span><span class="p">,</span>
    <span class="s2">"objectRestSpread"</span><span class="p">,</span>
  <span class="p">]</span>
<span class="p">})</span>
</code></pre>
</div>

<p>See Babylon’s .</p>

<blockquote>
  <p>Removed <code class="highlighter-rouge">classConstructorCall</code> plugin  <img src="https://img.shields.io/badge/risk%20of%20breakage%3F-low-yellowgreen.svg" alt="low" /></p>
</blockquote>
---------------
<h1 id="#title_16" >17、6.23.0 Released</h1>

[https://babeljs.io/blog/2017/02/13/6.23.0](https://babeljs.io/blog/2017/02/13/6.23.0)
<p>In this release: multiple improvements to the <code class="highlighter-rouge">react-constant-elements</code> plugin by  for the release + reviews!</p>

<blockquote>
  <p>Shoutouts to  for their first PRs! 🎉</p>
</blockquote>

<p>Check out  for the whole changelog.</p>

<hr />

<p>I’ll be writing up the 7.0 post (our current progress) soon so look out for that! We want to do whatever we can to make it easy for both end-users and plugin/tool authors to upgrade seamlessly: whether it be a beta period for the release, a , codemods if necessary, a bot to automatically upgrade your OSS project from 6 to 7, or any other suggestions you can give us!</p>

<p>Since not everyone realises, I wanted to re-iterate again that our  is still a small group of volunteers. There’s no company sponsor or even anyone working on it full time.</p>

<p>We’d love for you to contribute (especially not code!), so please reach out to us! More designers, technical writers/editors, and teachers for our website would be amazing.</p>

<p>And in other news, Babel has been accepted as a !</p>

<hr />

<h2 id="-new-feature">🚀 New Feature</h2>

<h3 id="5236-transform-es2015-block-scoping-add-option-throwifclosurerequired-to-throw-on-slow-code-spicyj">)</h3>

<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"plugins"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">[</span><span class="s2">"transform-es2015-block-scoping"</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"throwIfClosureRequired"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">}]</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>In cases such as the following, it is impossible to rewrite let/const without adding an additional function and closure while transforming:</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">5</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">setTimeout</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">i</span><span class="p">),</span> <span class="mi">1</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
</div>

<p>In extremely performance-sensitive code, this can be undesirable. If <code class="highlighter-rouge">"throwIfClosureRequired": true</code> is set, Babel throws when transforming these patterns instead of automatically adding an additional function.</p>

<h3 id="4812-transform-react-constant-elements-support-pure-expressions-strml">)</h3>

<p>Adds a <code class="highlighter-rouge">path.isPure()</code> check to the plugin.</p>

<blockquote>
  <p>The expression will remain in the hoisted code, even though it could be statically evaluated. UglifyJS/Babili will take care of that in many cases.</p>
</blockquote>

<p>In</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kr">const</span> <span class="nx">OFFSET</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">Foo</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
  <span class="na">render</span><span class="p">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
      <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">tabIndex</span><span class="o">=</span><span class="p">{</span><span class="nx">OFFSET</span> <span class="o">+</span> <span class="mi">1</span><span class="p">}</span> <span class="sr">/</span><span class="err">&gt;
</span>    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre>
</div>

<p>Out</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kr">const</span> <span class="nx">OFFSET</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">_ref</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">tabIndex</span><span class="o">=</span><span class="p">{</span><span class="nx">OFFSET</span> <span class="o">+</span> <span class="mi">1</span><span class="p">}</span> <span class="sr">/&gt;</span><span class="err">;
</span>
<span class="kd">var</span> <span class="nx">Foo</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
  <span class="na">render</span><span class="p">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">_ref</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre>
</div>

<blockquote>
  <p>Deopt</p>
</blockquote>

<p>As noted in , it’s not safe to reuse elements with mutable props.</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="o">&lt;</span><span class="nx">div</span> <span class="nx">style</span><span class="o">=</span><span class="p">{</span>
  <span class="p">{</span> <span class="na">width</span><span class="p">:</span> <span class="mi">100</span> <span class="p">}</span>
<span class="p">}</span> <span class="sr">/</span><span class="err">&gt;
</span></code></pre>
</div>

<h3 id="5288-babel-preset-flow-add-new-preset-thejameskyle">)</h3>

<p><code class="highlighter-rouge">babel-preset-flow</code> just includes <code class="highlighter-rouge">transform-flow-strip-types</code>.</p>

<p>Before (still valid)</p>

<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"plugins"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"transform-flow-strip-types"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>After</p>

<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"presets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"flow"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<blockquote>
  <p>FYI: the React preset still includes the flow plugin by default (we might change it when TS support is added)</p>
</blockquote>

<p>Thanks to  for giving us the package name!</p>

<h3 id="5230-babel-traverse-add-extra-sibling-methods-chitchu">)</h3>

<p>For plugin authors: there’s already a <code class="highlighter-rouge">path.getSibling(number)</code>, so we’re adding a few helper methods.</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="nx">path</span><span class="p">.</span><span class="nx">getPrevSibling</span><span class="p">();</span> <span class="c1">// path.getSibling(path.parentPath.key - 1)</span>
<span class="nx">path</span><span class="p">.</span><span class="nx">getNextSibling</span><span class="p">();</span> <span class="c1">// path.getSibling(path.parentPath.key + 1)</span>
<span class="nx">path</span><span class="p">.</span><span class="nx">getAllPrevSiblings</span><span class="p">();</span> <span class="c1">// returns Array&lt;NodePath&gt; of previous siblings</span>
<span class="nx">path</span><span class="p">.</span><span class="nx">getAllNextSiblings</span><span class="p">();</span><span class="c1">// returns Array&lt;NodePath&gt; of next siblings</span>
</code></pre>
</div>

<h2 id="-bug-fixes">🐛 Bug Fixes</h2>

<blockquote>
  <p>Because alsmot every bug fix can be an opportunity to learn more about JavaScript and how the tool that you use works, I would check out some of the PRs!</p>
</blockquote>

<h3 id="5298-fix-loose-transform-es2015-for-of-with-label-jridgewell">)</h3>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="nx">b</span><span class="err">:</span> <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">c</span> <span class="nx">of</span> <span class="nx">d</span><span class="p">())</span> <span class="p">{</span> <span class="c1">// previously, the label was completely dropped</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">e</span> <span class="nx">of</span> <span class="nx">f</span><span class="p">())</span> <span class="p">{</span>
    <span class="k">continue</span> <span class="nx">b</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

<h3 id="5153-transform-react-constant-elements-hoisting-fixes-strml">)</h3>

<blockquote>
  <p>Better hoisting inside variable declarations</p>
</blockquote>

<p>Input</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">bar</span> <span class="o">=</span> <span class="s2">"bar"</span><span class="p">,</span> <span class="nx">renderFoo</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="o">&lt;</span><span class="nx">foo</span> <span class="nx">bar</span><span class="o">=</span><span class="p">{</span><span class="nx">bar</span><span class="p">}</span> <span class="nx">baz</span><span class="o">=</span><span class="p">{</span><span class="nx">baz</span><span class="p">}</span> <span class="sr">/&gt;, baz = "baz"</span><span class="err">;
</span>
  <span class="k">return</span> <span class="nx">renderFoo</span><span class="p">();</span>
<span class="p">}</span>
</code></pre>
</div>

<p>Output</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">bar</span> <span class="o">=</span> <span class="s2">"bar"</span><span class="p">,</span>
        <span class="nx">renderFoo</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">_ref2</span><span class="p">,</span>
        <span class="nx">baz</span> <span class="o">=</span> <span class="s2">"baz"</span><span class="p">,</span>
        <span class="nx">_ref2</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nx">foo</span> <span class="nx">bar</span><span class="o">=</span><span class="p">{</span><span class="nx">bar</span><span class="p">}</span> <span class="nx">baz</span><span class="o">=</span><span class="p">{</span><span class="nx">baz</span><span class="p">}</span> <span class="sr">/&gt;</span><span class="err">;
</span>
  <span class="k">return</span> <span class="nx">renderFoo</span><span class="p">();</span>
<span class="p">}</span>
</code></pre>
</div>

<blockquote>
  <p>Hoisting with Higher Order Components</p>
</blockquote>

<p>Input</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kr">const</span> <span class="nx">HOC</span> <span class="o">=</span> <span class="nx">component</span> <span class="o">=&gt;</span> <span class="nx">component</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">Parent</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">(</span>
  <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s2">"parent"</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="nx">Child</span><span class="o">/&gt;</span>
  <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span><span class="p">);</span>

<span class="kr">export</span> <span class="k">default</span> <span class="nx">Parent</span><span class="p">;</span>

<span class="kd">let</span> <span class="nx">Child</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">(</span>
  <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s2">"child"</span><span class="o">&gt;</span>
    <span class="nx">ChildTextContent</span>
  <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span><span class="p">);</span>
<span class="nx">Child</span> <span class="o">=</span> <span class="nx">HOC</span><span class="p">(</span><span class="nx">Child</span><span class="p">);</span>
</code></pre>
</div>

<p>Output</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kr">const</span> <span class="nx">HOC</span> <span class="o">=</span> <span class="nx">component</span> <span class="o">=&gt;</span> <span class="nx">component</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">Parent</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">_ref</span><span class="p">;</span>

<span class="kr">export</span> <span class="k">default</span> <span class="nx">Parent</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">_ref2</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s2">"child"</span><span class="o">&gt;</span>
    <span class="nx">ChildTextContent</span>
  <span class="o">&lt;</span><span class="sr">/div&gt;</span><span class="err">;
</span>
<span class="kd">let</span> <span class="nx">Child</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">_ref2</span><span class="p">;</span>
<span class="nx">Child</span> <span class="o">=</span> <span class="nx">HOC</span><span class="p">(</span><span class="nx">Child</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">_ref</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s2">"parent"</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="nx">Child</span> <span class="o">/&gt;</span>
  <span class="o">&lt;</span><span class="sr">/div&gt;;</span><span class="err"> 
</span></code></pre>
</div>

<h3 id="5143-transform-react-constant-elements-fix-pathhoister-hoisting-jsx-member-expressions-on-this-strml">)</h3>

<p><code class="highlighter-rouge">&lt;this.component /&gt;</code> was previously hoisted outside its own function (doesn’t make sense because otherwise <code class="highlighter-rouge">this</code> would be <code class="highlighter-rouge">undefined</code>)</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">component</span> <span class="o">=</span> <span class="s2">"div"</span><span class="p">;</span>
  <span class="k">return</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="o">&lt;</span><span class="k">this</span><span class="p">.</span><span class="nx">component</span> <span class="o">/&gt;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
</div>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">component</span> <span class="o">=</span> <span class="s2">"div"</span><span class="p">;</span>

  <span class="kd">var</span> <span class="nx">_ref</span> <span class="o">=</span> <span class="o">&lt;</span><span class="k">this</span><span class="p">.</span><span class="nx">component</span> <span class="o">/&gt;</span><span class="p">;</span>

  <span class="k">return</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">_ref</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
</div>

<h3 id="5030-transform-do-expressions-prevent-multiple-return-statements-in-a-loop-when-replacing-expressions-existentialism">)</h3>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">p</span>
<span class="kd">let</span> <span class="nx">a</span> <span class="o">=</span> <span class="k">do</span> <span class="p">{</span>
  <span class="k">while</span> <span class="p">(</span><span class="nx">p</span> <span class="o">=</span> <span class="nx">p</span><span class="p">.</span><span class="nx">parentPath</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span>
      <span class="s1">'a'</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="s1">'b'</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">};</span>
</code></pre>
</div>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">p</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">a</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">_ret</span><span class="p">;</span>

  <span class="k">while</span> <span class="p">(</span><span class="nx">p</span> <span class="o">=</span> <span class="nx">p</span><span class="p">.</span><span class="nx">parentPath</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">_ret</span> <span class="o">=</span> <span class="s1">'a'</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="nx">_ret</span> <span class="o">=</span> <span class="s1">'b'</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="nx">_ret</span><span class="p">;</span> <span class="c1">// previously had an extra return</span>
<span class="p">}();</span>
</code></pre>
</div>

<h3 id="5260-babel-register-fix-a-typeerror-with-the-cache-xtuc">)</h3>

<h3 id="5206-babel-traverse-deopt-evaluation-of-undefined-with-a-local-binding-boopathi">)</h3>

<p>If <code class="highlighter-rouge">undefined</code>, <code class="highlighter-rouge">NaN</code>, <code class="highlighter-rouge">Infinity</code> are redefined, deopt.</p>

<h3 id="5195-babel-plugin-transform-runtime-dont-compile-certain-symbol-properties-taion">)</h3>

<p>Don’t pull in the individual <code class="highlighter-rouge">Symbol.asyncIterator</code>/<code class="highlighter-rouge">Symbol.observable</code> polyfills and pull in the full <code class="highlighter-rouge">Symbol</code> polyfill instead.</p>

<h3 id="5258-babel-check-if-it-is-installed-globally-and-displays-correct-cli-message-xtina-starr">)</h3>

<p>Now if you install <code class="highlighter-rouge">babel</code> the error message will display either <code class="highlighter-rouge">-g</code> or not.</p>

<h3 id="5270-babel-generator-emit-parens-for-await-of-ternary-expressions-erikdesjardins">)</h3>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="nx">async</span> <span class="kd">function</span> <span class="nx">asdf</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">await</span> <span class="p">(</span><span class="mi">1</span> <span class="p">?</span> <span class="mi">2</span> <span class="p">:</span> <span class="mi">3</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
</div>

<h3 id="5193-babel-generator-fix-missing-parens-when-functionexpression-is-a-tag-in-a-template-string-existentialism">)</h3>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{})</span><span class="err">``</span><span class="p">;</span>
<span class="p">(</span><span class="kd">function</span><span class="p">(){}</span><span class="err">``</span><span class="p">);</span>
</code></pre>
</div>

<h3 id="5235-transform-es2015-modules-commonjs-limit-export-node-default-assignment-stack-size-4323-mattste">)</h3>

<p>An interesting issue when importing/exporting a lot!</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kr">import</span> <span class="p">{</span> <span class="nx">foo</span><span class="p">,</span> <span class="nx">foo1</span><span class="p">,</span> <span class="nx">foo2</span> <span class="p">...</span> <span class="p">}</span> <span class="nx">from</span> <span class="s2">"foo"</span><span class="p">;</span> <span class="c1">// assume ... is 100 imports/exports</span>
<span class="kr">export</span> <span class="p">{</span> <span class="nx">foo</span><span class="p">,</span> <span class="nx">foo1</span><span class="p">,</span> <span class="nx">foo2</span> <span class="p">...</span> <span class="p">}</span>
</code></pre>
</div>

<p>Part of the generated code looks like:</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="nx">exports</span><span class="p">.</span><span class="nx">Foo6</span> <span class="o">=</span> <span class="nx">exports</span><span class="p">.</span><span class="nx">Foo5</span> <span class="o">=</span> <span class="p">...</span>
</code></pre>
</div>

<p>Thus with a file that  it creates so many nested assignment nodes in the AST the code generator errors with <code class="highlighter-rouge">Maximum call stack size exceeded</code>.</p>

<p>The solution is to break up the expression into sets of 100.</p>

<p>Output</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="nx">exports</span><span class="p">.</span><span class="nx">foo100</span> <span class="o">=</span> <span class="kc">undefined</span><span class="p">;</span> <span class="c1">// split by 100</span>
<span class="nx">exports</span><span class="p">.</span><span class="nx">foo99</span> <span class="o">=</span> <span class="nx">exports</span><span class="p">.</span><span class="nx">foo98</span> <span class="o">=</span> <span class="p">...</span> <span class="nx">exports</span><span class="p">.</span><span class="nx">foo1</span> <span class="o">=</span> <span class="nx">exports</span><span class="p">.</span><span class="nx">foo</span> <span class="o">=</span> <span class="kc">undefined</span>
</code></pre>
</div>

<h3 id="5255-babel-generator-use-trim-instead-of-lodashtrimend-for-codegen-performance-jwbay">)</h3>

<blockquote>
  <p><code class="highlighter-rouge">lodash/trimEnd</code> executes a regex against potentially massive strings which can freeze node. (106ms vs. 5ms)</p>
</blockquote>

<h3 id="5050-babel-traverse-rewrite-hub-as-an-interface-yongxu">)</h3>

<blockquote>
  <p>This was reverted due to an incompatible change to babel-core</p>
</blockquote>

<p>There are a few cases where <code class="highlighter-rouge">babel-traverse</code> can’t be used standalone so this removes some code that tied <code class="highlighter-rouge">babel-traverse</code> to <code class="highlighter-rouge">babel-core</code>’s implementation.</p>

<hr />

<h2 id="-committers-20">🌏 Committers: 20</h2>

<ul>
  <li>Andres Suarez ()</li>
  <li>Ben Alpert ()</li>
  <li>Boopathi Rajaa ()</li>
  <li>Brian Ng ()</li>
  <li>Christina () First PR!</li>
  <li>Erik Desjardins ()</li>
  <li>Fabian Finke () First PR!</li>
  <li>Henry Zhu ()</li>
  <li>Jimmy Jia ()</li>
  <li>Justin Ridgewell ()</li>
  <li>Logan Smyth ()</li>
  <li>Matt Stewart ()</li>
  <li>Samuel Reed ()</li>
  <li>Sergey Rubanov ()</li>
  <li>Sven SAULEAU ()</li>
  <li>Vicente Jr Yuchitcho () First PR!</li>
  <li>Yongxu Ren () First PR!</li>
  <li> First PR!</li>
  <li>james kyle ()</li>
  <li>Łukasz Lityński () First PR!</li>
</ul>

<p>Check out  for the whole changelog!</p>
---------------
<h1 id="#title_17" >18、The State of Babel</h1>

[https://babeljs.io/blog/2016/12/07/the-state-of-babel](https://babeljs.io/blog/2016/12/07/the-state-of-babel)
<ul>
  <li></li>
  <li></li>
  <li></li>
  <li></li>
</ul>

<blockquote>
  <p>Previous issues: </p>
</blockquote>

<p>Please check out the  section if nothing else.</p>

<blockquote>
  <p>Also published as part of !</p>
</blockquote>

<h2 id="some-history">Some History</h2>

<p>.</p>

<p>6to5 did exactly that: easily turn ES6 code into ES5 code. When 6to5 became Babel as mentioned in , it became a platform: a suite of tools designed to create the next generation of JavaScript tooling. No longer did it just compile ES6 to ES5, it allowed developers to build tools on top of it.</p>

<p>Here are some of our milestones:</p>

<ul>
  <li>In  by introducing <code class="highlighter-rouge">stages</code>, added a <code class="highlighter-rouge">.babelrc</code> config option, and created a plugin system for custom transforms.</li>
  <li>In , Babel became modular (a pretty controversial idea at the time). This was a huge change that led to opt-in functionality (no defaults) and the concept of <code class="highlighter-rouge">Presets</code> and Plugin Options.
    <ul>
      <li>As mentioned in his article, Sebastian joined Facebook in July 2015 and worked on the entire development of Babel 6 on company time.</li>
    </ul>
  </li>
  <li> rewrote it 3 times and I had to review everything)
    <ul>
      <li>After this was around when both Sebastian and James got burned out on Babel, and a few contributors stepped up.</li>
      <li>We struggled to find direction and deal with the bugs/requests coming in but we got a lot of stuff done!</li>
    </ul>
  </li>
  <li>.</li>
  <li> that keeps up to date with the yearly JavaScript specification.</li>
  <li> allowed changing out the parser or code-generator.</li>
  <li>In August, we released .</li>
  <li>In September, we released the first version of  (read on for details).</li>
  <li>After a year on  and his amazing (and underappreciated) work.</li>
</ul>

<blockquote>
  <p>If you’re using Babel, let us know with a !</p>
</blockquote>

<p>Now <code class="highlighter-rouge">babel-core</code> is downloaded over 5 million times per month and almost 60 million times total and used at huge companies like Facebook/Netflix/Airbnb and other OSS projects like React/Yarn.</p>

<p>Thanks everyone for your continued support! We want to continue acting as the foundation of the JavaScript toolchain: compilation, linting, minification, codemods, code coverage, etc.</p>

<h2 id="current-status">Current Status</h2>

<p>If you’re interested in helping out please check out the issues linked below!</p>

<h3 id="maintaining-babel-plugins-for-each-proposal-in-tc39-starting-from-stage-0">Maintaining Babel plugins  starting from Stage 0</h3>

<p> stands for Ecma International, Technical Committee 39: it’s the committee that makes JavaScript.</p>

<blockquote class="twitter-tweet" data-lang="en"><p lang="en" dir="ltr"></blockquote>

<p>Babel uses .</p>

<p>Babel is fundamental in the process given its place in the ecosystem: it is significantly easier for a developer to update a <code class="highlighter-rouge">.babelrc</code> file than a browser flag and much faster to write a Babel plugin than to implement the feature natively in the browser. This is the core of Babel.</p>

<p>But the proposals process involves significant iteration: proposals can change in syntax or even get dropped. Because TC39 meets every 2 months, plugins should be updated as least as often as each change in stage so that users can be in sync.</p>

<blockquote>
  <p>Early feedback to the proposal champion and committee is extremely valuable although it is recommended to use Stage 0/1/2 features with caution.
Although companies like Facebook take advantage of these kinds of features, they have created codemods to allow easy change.</p>
</blockquote>

<hr />

<p>There isn’t enough time or resources to maintain each plugin, especially when there are spec updates.</p>

<ul>
  <li>Some transforms are simply out of date such as decorators. Logan had to port the previous spec  for Babel 6 and we haven’t had anyone able to rewrite it for the updated spec.</li>
  <li> wasn’t merged for so long because we just didn’t have time to review it. By the time it was merged it had already moved
from stage 2 to stage 3.</li>
</ul>

<hr />

<p>Next we’re going to be working with:</p>

<ul>
  <li></li>
  <li></li>
  <li></li>
</ul>

<p>Relevant Issues:</p>

<ul>
  <li>Should we create a codemod for Stage X proposals at the same time as creating the actual transform?</li>
  <li></li>
  <li></li>
</ul>

<blockquote>
  <p>Check out  for more info on TC39!</p>
</blockquote>

<h3 id="maintaining-other-ecosystem-plugins-jsxflow">Maintaining other ecosystem plugins: JSX/Flow</h3>

<p>Babel is vital to the  ecosystems, and we work closely with the relevant teams at Facebook.</p>

<ul>
  <li>
    <ul>
      <li>These cover the main <code class="highlighter-rouge">JSX</code> transform, development plugins, and optimizations.</li>
    </ul>
  </li>
  <li></li>
</ul>

<p>Relevant Issue Labels:</p>

<ul>
  <li></li>
  <li></li>
</ul>

<h3 id="babel-preset-env-autoprefixer-for-babel"> (“autoprefixer” for Babel)</h3>

<p>JavaScript compilation is a moving target: There are yearly updates to the spec, browser vendors are constantly updating to that spec, and users may drop support for earlier browsers. At first glance, there doesn’t seem to be a fixed target for what we should compile our JavaScript down to.</p>

<p><img src="https://cloud.githubusercontent.com/assets/588473/19214029/58deebce-8d48-11e6-9004-ee3fbcb75d8b.png" alt="" /></p>

<blockquote>
  <p>The  is updated constantly and is used for this preset.</p>
</blockquote>

<p>This is where <code class="highlighter-rouge">babel-preset-env</code> comes in: it’s a Babel preset that automatically determines the correct Babel plugins to use based on the provided environments.</p>

<p>Its goal is both simplicity in use and efficiency in output: you only need to worry about your target environments to be able to take advantage of native code. The preset decides for you the required plugins.</p>

<h4 id="some-example-configs">Some example configs</h4>

<p>Targeting Chrome 55 + last 2 versions of other browsers via </p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="p">{</span>
  <span class="s2">"presets"</span><span class="err">:</span> <span class="p">[</span>
    <span class="p">[</span><span class="s2">"env"</span><span class="p">,</span> <span class="p">{</span>
      <span class="s2">"targets"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"chrome"</span><span class="p">:</span> <span class="mi">55</span><span class="p">,</span>
        <span class="s2">"browsers"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"last 2 versions"</span><span class="p">]</span>
      <span class="p">}</span>
    <span class="p">}]</span>
  <span class="p">]</span>
<span class="p">}</span>
</code></pre>
</div>

<p>Targeting the current Node.js version (uses <code class="highlighter-rouge">process.versions.node</code>)</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="p">{</span>
  <span class="s2">"presets"</span><span class="err">:</span> <span class="p">[</span>
    <span class="p">[</span><span class="s2">"env"</span><span class="p">,</span> <span class="p">{</span>
      <span class="s2">"targets"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"node"</span><span class="p">:</span> <span class="s2">"current"</span>
      <span class="p">}</span>
    <span class="p">}]</span>
  <span class="p">]</span>
<span class="p">}</span>
</code></pre>
</div>

<p>Chrome 55 <code class="highlighter-rouge">useBuiltIns</code> + webpack 2</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="p">{</span>
  <span class="s2">"presets"</span><span class="err">:</span> <span class="p">[</span>
    <span class="p">[</span><span class="s2">"env"</span><span class="p">,</span> <span class="p">{</span>
      <span class="s2">"targets"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"chrome"</span><span class="p">:</span> <span class="mi">55</span>
      <span class="p">},</span>
      <span class="s2">"modules"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
      <span class="s2">"useBuiltIns"</span><span class="p">:</span> <span class="kc">true</span>
    <span class="p">}]</span>
  <span class="p">]</span>
<span class="p">}</span>
</code></pre>
</div>

<p><strong>In</strong></p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kr">import</span> <span class="s2">"babel-polyfill"</span><span class="p">;</span>
</code></pre>
</div>

<p><strong>Out (different based on environment)</strong></p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kr">import</span> <span class="s2">"core-js/modules/es7.string.pad-start"</span><span class="p">;</span>
<span class="kr">import</span> <span class="s2">"core-js/modules/es7.string.pad-end"</span><span class="p">;</span>
</code></pre>
</div>

<p>Relevant Issues:</p>

<ul>
  <li>Next big feature: apply the same idea of preset-env to polyfills as well .</li>
  <li></li>
  <li></li>
  <li></li>
</ul>

<h3 id="linting-via-babel-eslint">Linting via </h3>

<p><img class="img-responsive" alt="example of eslint" src="/images/blog/2016-12-07-the-state-of-babel/eslint.png" /></p>

<p>ESLint doesn’t support new language features until they reach Stage 4 of the proposals process. For this reason we maintain  (a custom ESLint parser) so you can continue to lint JavaScript with experimental syntax.</p>

<p>This project was one of the hardest projects to work on: because it is just a compatibility layer between Babel and ESLint there is inherently a constant need for updates when either projects update and a high risk of unexpected changes due to monkey-patching. It was unfortunate to get issues like .</p>

<p>To that end, we’d like to lessen the maintenance burden of this project by improving our scope and traversal interop with ESLint. It might even be interesting to be able to write ESLint rules using babel APIs or vice versa?</p>

<p>Relevant Issues:</p>

<ul>
  <li></li>
  <li></li>
  <li> is still relevant now</li>
</ul>

<h3 id="minification">Minification</h3>

<p> is our new Babel-powered minifier, enabling you to produce minified code while targeting the latest browsers.</p>

<p><strong>In</strong></p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kr">class</span> <span class="nx">Mangler</span> <span class="p">{</span>
  <span class="nx">constructor</span><span class="p">(</span><span class="nx">program</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">program</span> <span class="o">=</span> <span class="nx">program</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="k">new</span> <span class="nx">Mangler</span><span class="p">();</span>
</code></pre>
</div>

<p><strong>Out</strong></p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="c1">// ES2015 code -&gt; Babili -&gt; Minified ES2015 Code</span>
<span class="kr">class</span> <span class="nx">a</span><span class="p">{</span><span class="nx">constructor</span><span class="p">(</span><span class="nx">b</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">program</span><span class="o">=</span><span class="nx">b</span><span class="p">}}</span><span class="k">new</span> <span class="nx">a</span><span class="p">;</span>
</code></pre>
</div>

<p>Check out our  for more info.</p>

<p>Since it was recently released, we’re looking for some new contributors! There’s a lot of small bugs and things that could be improved for those looking for a new project to help out with!</p>

<h3 id="codemods--refactoring--eslint---fix">Codemods / Refactoring / <code class="highlighter-rouge">eslint --fix</code></h3>

<p>A <code class="highlighter-rouge">codemod</code> is a tool-assisted code modification; a fancy find-and-replace.</p>

<p>If you wanted to change <code class="highlighter-rouge">merge({})</code> to <code class="highlighter-rouge">Object.assign({})</code> (and maybe later ) you might do a regex replace. But you don’t want to replace the other parts of the code that also might be called <code class="highlighter-rouge">merge</code> such as imports/exports, strings, comments, and local variables. To do it safely you’ll want something more powerful that only changes the specific code you need.</p>

<p>Although Babel already handles transforming code into other code, it doesn’t really care about the styling of the input code as a compiler. After using Babel with its default options to do a codemod, <code class="highlighter-rouge">git diff</code> looks really messy.</p>

<p>Enter : a tool that preserves the formatting of unmodified code while also pretty-printing any new AST nodes.</p>

<p><img src="https://cloud.githubusercontent.com/assets/588473/16584612/04a82078-428b-11e6-9f79-a665eef848ea.gif" alt="recast" /></p>

<blockquote>
  <p>In the screenshot above, the top-left pane is the input code and the bottom-right pane is the output code after the babel plugin is run. In this case it’s preserving the whitespace of the input code when possible.</p>
</blockquote>

<p>By passing in  in the options, Babel can power the future of codemods.</p>

<p><code class="highlighter-rouge">.babelrc</code></p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="p">{</span>
  <span class="s2">"parserOpts"</span><span class="err">:</span> <span class="p">{</span>
    <span class="s2">"parser"</span><span class="err">:</span> <span class="s2">"recast"</span>
  <span class="p">},</span>
  <span class="s2">"generatorOpts"</span><span class="err">:</span> <span class="p">{</span>
    <span class="s2">"generator"</span><span class="err">:</span> <span class="s2">"recast"</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

<p>Run the relevant Babel transform(s) on the source code and overwrite it:</p>

<div class="language-sh highlighter-rouge"><pre class="highlight"><code>babel src -d src
</code></pre>
</div>

<p>This feature was just made possible so we’re looking forward to making it easier to use and seeing the transformations it can enable. Check out the  for more info!</p>

<p>Other relevant projects: .</p>

<p>Relevant Issues:</p>

<ul>
  <li></li>
  <li></li>
</ul>

<h3 id="code-coverage--instrumentation">Code Coverage / Instrumentation</h3>

<p><img src="https://istanbul.js.org/assets/browser.png" alt="" /></p>

<p>We want to support tools like .</p>

<h3 id="plugin-ecosystem">Plugin Ecosystem</h3>

<p>Thanks to our vibrant community, new plugins are constantly being created: whether it be a new way to write your .</p>

<blockquote>
  <p>Currently there are &gt; 1200 .</p>
</blockquote>

<p>We’ve had some interesting discussions on how we can grow and support the plugin ecosystem. We could try to watch all the repos but that is obviously overwhelming.</p>

<p>It might be interesting to create some bots to automate a few tasks: create specific Babel plugins/ESLint rules for babel-plugins, write codemods to update API changes, and integrate plugins into our smoke test.</p>

<blockquote class="twitter-tweet" data-conversation="none" data-lang="en"><p lang="en" dir="ltr"></blockquote>

<ul>
  <li>Should we create a newsletter for new/useful plugins?</li>
  <li>How can we teach people about plugins and how to write them?</li>
  <li>How can we make  better?</li>
</ul>

<h3 id="documentation-this-website">Documentation (this website!)</h3>

<p>Docs contributions have definitely been lacking in the .</p>

<p>However just recently we’ve done a lot of awesome stuff:</p>

<ul>
  <li> which we use in the REPL and has some automation when new releases get out.</li>
  <li></li>
</ul>

<p>We’ve also added new collaborators:</p>

<ul>
  <li></li>
  <li></li>
  <li></li>
  <li></li>
</ul>

<p>Some Ideas</p>

<ul>
  <li>All plugins should have examples. Can also embed  or the REPL.</li>
  <li>Update FAQ with common errors</li>
  <li>API docs / make  better</li>
</ul>

<p>Relevant Issues:</p>

<ul>
  <li></li>
  <li></li>
  <li></li>
  <li></li>
  <li></li>
  <li></li>
  <li></li>
  <li></li>
  <li></li>
</ul>

<h2 id="the-future">The Future</h2>

<blockquote>
  <p>NOTE: Everything below can be changed or dropped. Some might be already in the works and others are just suggestions that need a proper discussion/champion.</p>
</blockquote>

<blockquote>
  <p>Priority should be determined on what the community needs: not because it would be nice to have.</p>
</blockquote>

<h3 id="plugin-api-changes"></h3>

<p>There is a lot of confusion around how plugins/presets interact regarding ordering. This results in bugs and issues with the config which require users to place plugins before/after others in a non-intuitive way.</p>

<p>We’re currently discussing API changes that could reduce the confusion. However, since this is a fundamental change to the core of Babel, it might take a while to figure out the best approach.</p>

<h3 id="versioning">Versioning</h3>

<p>Since Babel 6 we’ve used a  via Lerna. This is what allows us to release multiple packages at the same time all under the same version (if that package changes). This is nice because you don’t have to manually set a version for each package but everything moves together. The only time this could cause an error is when one on the packages makes a breaking change: then every package also will bump major versions.</p>

<p>This is explained more in  but we still need to figure out the best plan of action for the project.</p>

<p>What happens when we need to update a Stage 0 spec to Stage 1 and it’s a breaking change to the parser? Are we just going to bump the major version, wait to batch some changes up, or figure out how to do it via multiple versions of plugins?</p>

<p></p>

<h4 id="changing-the-mindset-around-stage-x-presets">Changing the Mindset Around Stage X Presets</h4>

<blockquote class="twitter-tweet" data-lang="en"><p lang="en" dir="ltr">My rule of thumb on how I decide what future features to transpile:<br />&quot;Could I reasonably codemod this if it changes?&quot;<br />Don&#39;t do it otherwise.</p>&mdash; Kent C. Dodds (@kentcdodds) </blockquote>

<p>Relevant Issues:</p>

<ul>
  <li></li>
</ul>

<h4 id="speed">Speed</h4>

<p>Performance is a feature! Other things can be more of a priority at times (bug fixes, spec compliancy, etc) but it’s still important in a few different aspects.</p>

<ul>
  <li>How can we reduce the size/time of install, especially for a project with multiple packages? (this is helped by )</li>
  <li>How can we parse faster?</li>
  <li>How can we make faster plugins (and measure them individually)?</li>
  <li>How can we generate the transformed code faster?</li>
  <li>How can we generate code that runs fast in the browser (https://fhinkel.github.io/six-speed/)?</li>
</ul>

<p>If you to read the compiled output and see issues, then report it and ask for help in making a PR!</p>

<p>Previous Issues:</p>

<ul>
  <li></li>
  <li></li>
</ul>

<h3 id="possible-typescript-support">Possible TypeScript Support?</h3>

<p>Maybe Babel could learn to understand TypeScript syntax (like we do with Flow)? We could add a plugin to strip TypeScript types for better interop.</p>

<p>This would mean parsing TypeScript specific syntax and stripping it out. However TypeScript does have non-type syntax, so for things like <code class="highlighter-rouge">enum</code> we will would have to discuss more.</p>

<h3 id="use-type-information">Use Type Information?</h3>

<p>Integrate with a type system such as Flow/TypeScript to make optimizations. This just means that Babel should be able to gain the knowledge through those tools that an identifier <code class="highlighter-rouge">arr</code> is actually an <code class="highlighter-rouge">Array</code> or not.</p>

<blockquote>
  <p>There are a few plugins that actually do type checking: </p>
</blockquote>

<ul>
  <li></li>
</ul>

<h3 id="taking-in-a-dependency-graph--operate-multi-file">Taking in a Dependency Graph / Operate Multi-file?</h3>

<p>Then we could integrate with other tools like Webpack better. This would allow cross file transformations or whole codebase optimizations. The main reason for this would be for the minifier (being able to remove properties based on checking the usage across the whole application) or for example providing errors for missing/invalid import/exports.</p>

<ul>
  <li></li>
</ul>

<h3 id="parser-errors">Parser Errors</h3>

<p>Better error messages from the parser like in .</p>

<blockquote class="twitter-tweet" data-lang="en"><p lang="en" dir="ltr">babel-eslint@7.1.1: now adds the code frame when there&#39;s a parser error! </blockquote>

<blockquote>
  <p>It is obvious that we all want to see helpful errors!</p>
</blockquote>

<p>We can do better inference/guessing on user intention to prevent vague errors. Let us know in what cases that happens!</p>

<p>Relevant Issues:</p>

<ul>
  <li></li>
  <li></li>
  <li></li>
</ul>

<h3 id="babel-init"><code class="highlighter-rouge">babel-init</code></h3>

<p>Basically a way to set up Babel more easily like  does.</p>

<ul>
  <li>Set up a <code class="highlighter-rouge">.babelrc</code> from scratch, prompt with questions</li>
</ul>

<p>Possible Idea:</p>

<ul>
  <li>Ask about target environments (browsers, node) and pass to <code class="highlighter-rouge">babel-preset-env</code></li>
  <li>Ask about experimental features (add specific plugins)</li>
  <li>Update the <code class="highlighter-rouge">babel</code> npm package to do something again: Make it the default/opt-in/opinionated <code class="highlighter-rouge">babel</code> that Babel 5 was. It can default to using <code class="highlighter-rouge">env</code> and say the <code class="highlighter-rouge">latest 2 browsers</code> (without any config).</li>
</ul>

<p>Relevant Issues:</p>

<ul>
  <li></li>
  <li></li>
</ul>

<h3 id="run-tc39test262">Run </h3>

<blockquote>
  <p>test262 tests conformance to the continually maintained draft future ECMAScript standard found at ) with significant contributions from many in the ECMAScript community.</p>
</blockquote>

<p>Running the official spec tests against Babel can make sure we comply to the spec or at least know when we don’t. We’ll want to figure out how to do filtering on things we can’t compile (proxy, TCO, etc) and set up an easy way to check failing tests and file issues and PRs for them.</p>

<p>Relevant Issues:</p>

<ul>
  <li></li>
  <li></li>
</ul>

<h3 id="smokeintegration-tests">Smoke/Integration Tests</h3>

<p>It would be useful to either have a reverse  for this). In theory we would want to take the biggest open source projects that use Babel and run their tests.</p>

<p> is a good start! It would also be great if there’s already something like this out there!</p>

<h3 id="program-analysis">Program Analysis</h3>

<ul>
  <li></li>
</ul>

<p>There was a great talk by .</p>

<p>The general idea is that we have a lot of tools to help us write code but not a lot for helping us understand/read code. You can think of code-slicing as a form of targeted dead-code elimination.</p>

<p><img src="https://s3.amazonaws.com/media-p.slid.es/uploads/55780/images/3189688/Screen_Shot_2016-11-02_at_11.46.25_PM.png" alt="slice-js" /></p>

<p>A program slice basically cuts away from the source code the code that isn’t used for a test case that you run. If there are lots of if statements and loops that aren’t run during your usecase then it won’t show up in the program slice.</p>

<ul>
  <li>Semantic (AST aware) Grepping tool?</li>
</ul>

<p>Similar to , I think it would be interesting to be able to do a find-replace with the input being an AST. It would allow us to create other analysis tools: the ability to find all IIFE’s in our code, the number of times a method is called, or even how many Classes we have in our codebase.</p>

<h3 id="babel---settings"><code class="highlighter-rouge">babel --settings</code></h3>

<p>This command would print out all info (also when erroring). It would also include performance metrics on how long each plugin takes.</p>

<ul>
  <li></li>
</ul>

<h3 id="parser-unity">Parser Unity</h3>

<p>There have also been some discussions around parser/AST unity, in .</p>

<p>Unfortunately with Babel 6, we have “forked” and have a few differences in  than ESTree. Babel aims to support stage x features while other parsers may only want to support stage 4 features. We all might prioritize certain things more than others regarding spec compliancy, performance, stage x features, error messages, extensibility, releases, etc. However it’s important for us to be open to breaking changes that may lead to better interop and a better community.</p>

<h3 id="sweetjs-interop">Sweet.js Interop?</h3>

<p>Previous . Maybe we can just figure out how to have better interop instead?</p>

<h3 id="nodejs-support">Node.js Support</h3>

<p>Should we drop support according to the EOL of Node.js versions? How long should we wait to do this in general?</p>

<ul>
  <li>Do we want to continue to support our users who haven’t updated yet?</li>
  <li>There are certain transforms/PRs that are blocked by this, due to tools that have also dropped older versions.</li>
  <li>Many other build-time projects like ESLint have done so already.</li>
  <li>
    <p>Are we going to make a major version just for this or plan out other changes in addition?</p>
  </li>
  <li></li>
</ul>

<h3 id="babel-5-to-6-transition--upgrade-paths">Babel 5 to 6 transition / Upgrade Paths</h3>

<p>Babel 6 was really difficult for the community to upgrade to. The initial release was a bit rushed. Although we did have a  to help with the transition it was still difficult for users to understand the changes.</p>

<p>There are still  that we don’t want to leave behind. What can we do to help them upgrade? What steps do we need to take in the future to make sure the same thing doesn’t happen with a Babel 7? Are there other projects/communities we should be reaching out to and helping?</p>

<p>Relevant Issues:</p>

<ul>
  <li> needs help!</li>
  <li>Any others?</li>
</ul>

<h3 id="what-else">What else?</h3>

<p>Anything else not already brought up here? Please send us a tweet , comment on this post, or create an discussion issue in our repo!)</p>

<p>Are there projects or communities we should partner with more? How can we make the contributing experience more welcome? What can we do to make the development process more transparent?</p>

<h2 id="community">Community</h2>

<p>Old Issues:</p>

<ul>
  <li></li>
  <li></li>
</ul>

<p>You might think that as  that more people show up to help out. But like most OSS projects that aren’t backed by a company, there is a constant issue with maintenance and sustainability; people get burned out, move on to other cool projects, or get busy with work/family/etc.</p>

<p>Like James describes in , the current Babel team is pretty small.</p>

<blockquote>
  <p>Babel isn’t a company, a special team at Facebook, or corporate-funded OSS project. It’s a community-driven effort currently held up by a few people and we want that to grow.</p>
</blockquote>

<p>So if you’re interested in contributing to a tool you use, we’re hoping this could be the one!</p>

<h3 id="what-issues-should-i-look-at-or-contribute-to">What issues should I look at or contribute to?</h3>

<p>Many of our projects have both .</p>

<h3 id="team">Team</h3>

<p>Our core team is:</p>

<ul>
  <li></li>
  <li></li>
  <li></li>
</ul>

<p>And just in the last 3 months a lot more collaborators:</p>

<ul>
  <li></li>
  <li></li>
  <li></li>
  <li></li>
  <li></li>
  <li></li>
</ul>

<p>Babili core team:</p>

<ul>
  <li></li>
  <li></li>
</ul>

<p>As mentioned above we have a lot of website collaborators:</p>

<ul>
  <li></li>
  <li></li>
  <li></li>
  <li></li>
  <li></li>
</ul>

<p>Inactive but still a resource:</p>

<ul>
  <li> - Yarn</li>
  <li> - Flow/Yarn</li>
  <li></li>
  <li></li>
</ul>

<h3 id="how-can-i-contact-the-team">How can I contact the team?</h3>

<h4 id="github">GitHub</h4>

<p>For bug reports/PRs you can check our .</p>

<h4 id="twitter">Twitter</h4>

<p>You can ping us on Twitter with  - or mention us individually.</p>

<p>I myself joined Twitter to be able to talk with users and help out. Being able to post new features and changelogs is really useful and can help give us feedback!</p>

<h4 id="slack">Slack</h4>

<p>We have a relatively active community on there!</p>

<p>You’ll find a lot of awesome community members willing to help such as  and more!</p>

<blockquote class="twitter-tweet" data-lang="en"><p lang="en" dir="ltr">If you haven&#39;t joined our slack yet: please join at </blockquote>

<p>If you just have questions join .</p>

<p>We try not to discuss in private if there’s no need to: I myself usually post the issues/PRs I’m working on for people to review and talk about.</p>

<h4 id="other">Other</h4>

<p>How else can we interact with the community? Should we go and start meetups, go to conferences, or manage hackathons?</p>

<p>How can we make Babel sustainable? Should we setup a ?</p>

<p>Let us know your thoughts! What do you want out of Babel?</p>

<hr />

<blockquote>
  <p>See typos/issues? Please send a PR or comment on </p>
</blockquote>

<p>If anything we want to let you know that many of us got our start with Babel in order to learn JavaScript rather than helping because we already knew it. Personally, I knew nothing about compilers and had just learned what ES6 was when I found the project. I got here because of a tiny bit of curiosity and . I want to carry that forward and hope that we can all succeed together.</p>

<p>Thanks so much for reading!</p>

<p>Henry Zhu ()</p>

<blockquote>
  <p>Thanks to way too many folks for their review and thoughts: @DrewML, @mrjoelkemp, @kentcdodds, @existentialism, @jdalton, @gaearon, @nolanlawson, @jayphelps, @montogeek, @TheLarkInn, @jasonLaster, @benjamn, @addyosmani, @Daniel15, @loganfsmyth, @gr2m, @mathiasbynens, @chicoxyzzy, @bvaughn, @bcoe.</p>
</blockquote>
---------------
<h1 id="#title_18" >19、6.19.0 Released</h1>

[https://babeljs.io/blog/2016/11/16/6.19.0](https://babeljs.io/blog/2016/11/16/6.19.0)
<p><code class="highlighter-rouge">object-rest-spread</code> works standalone and a few new plugin options APIs were added!</p>

<h2 id="v6190-summary-2016-11-16">v6.19.0 Summary (2016-11-16)</h2>

<h2 id="-new-feature">🚀 New Feature</h2>

<p>)</p>

<p>This rewrite fixes a long standing issue where the <code class="highlighter-rouge">object-rest-spread</code> plugin was depending on 2 other plugins to compile <code class="highlighter-rouge">RestProperty</code> properly.</p>

<p>This fix important given the assumption that plugins should be independent and is vital for the use of  since new environments support destructuring natively.</p>

<p>In</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kr">const</span> <span class="p">{</span> <span class="nx">a</span><span class="p">,</span> <span class="p">...</span><span class="nx">b</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">c</span><span class="p">;</span>
</code></pre>
</div>

<p>Out</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kr">const</span> <span class="p">{</span> <span class="nx">a</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">c</span><span class="p">;</span> <span class="c1">// remove the `...b`</span>
<span class="kr">const</span> <span class="nx">b</span> <span class="o">=</span> <span class="nx">_objectWithoutProperties</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span> <span class="p">[</span><span class="s2">"a"</span><span class="p">]);</span> <span class="c1">// use the helper</span>
</code></pre>
</div>

<p>It’s interesting to see all the places where you can destructure!</p>

<p><em>RestProperty</em></p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">a</span><span class="p">({</span> <span class="nx">b</span><span class="p">,</span> <span class="p">...</span><span class="nx">c</span> <span class="p">})</span> <span class="p">{}</span> <span class="c1">// Parameters</span>
</code></pre>
</div>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kr">const</span> <span class="p">{</span> <span class="nx">a</span><span class="p">,</span> <span class="p">...</span><span class="nx">b</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">c</span><span class="p">;</span> <span class="c1">// VariableDeclaration</span>
</code></pre>
</div>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kr">export</span> <span class="kd">var</span> <span class="p">{</span> <span class="nx">a</span><span class="p">,</span> <span class="p">...</span><span class="nx">b</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">c</span><span class="p">;</span> <span class="c1">// ExportNamedDeclaration</span>
</code></pre>
</div>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="k">try</span> <span class="p">{}</span> <span class="k">catch</span> <span class="p">({</span><span class="nx">a</span><span class="p">,</span> <span class="p">...</span><span class="nx">b</span><span class="p">})</span> <span class="p">{}</span> <span class="c1">// CatchClause</span>
</code></pre>
</div>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="p">({</span><span class="nx">a</span><span class="p">,</span> <span class="p">...</span><span class="nx">b</span><span class="p">}</span> <span class="o">=</span> <span class="nx">c</span><span class="p">);</span> <span class="c1">// AssignmentExpression</span>
</code></pre>
</div>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="k">for</span> <span class="p">({</span><span class="nx">a</span><span class="p">,</span> <span class="p">...</span><span class="nx">b</span><span class="p">}</span> <span class="nx">of</span> <span class="p">[])</span> <span class="p">{}</span> <span class="c1">// ForXStatement</span>
</code></pre>
</div>

<p><em>SpreadProperty</em></p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="p">{</span> <span class="p">...</span><span class="nx">b</span><span class="p">,</span> <span class="p">...</span><span class="nx">c</span> <span class="p">}</span> <span class="c1">// ObjectExpression</span>
</code></pre>
</div>

<hr />

<p>)</p>

<p>Class properties will use <code class="highlighter-rouge">Object.defineProperty</code> instead of a simple <code class="highlighter-rouge">this.x = y</code>.
Static fields are will use <code class="highlighter-rouge">value: undefined</code> even if they are not initialized.</p>

<p>Usage</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="p">{</span>
  <span class="s2">"plugins"</span><span class="err">:</span> <span class="p">[</span>
    <span class="p">[</span><span class="s2">"transform-class-properties"</span><span class="p">,</span> <span class="p">{</span>
      <span class="s2">"spec"</span><span class="p">:</span> <span class="kc">true</span>
    <span class="p">}]</span>
  <span class="p">]</span>
<span class="p">}</span>
</code></pre>
</div>

<p>In</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kr">class</span> <span class="nx">Foo</span> <span class="p">{</span>
  <span class="kr">static</span> <span class="nx">bar</span><span class="p">;</span>
  <span class="nx">baz</span> <span class="o">=</span> <span class="s1">'guy'</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
</div>

<p>Out</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">Foo</span> <span class="o">=</span> <span class="kd">function</span> <span class="nx">Foo</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">_classCallCheck</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">Foo</span><span class="p">);</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">baz</span> <span class="o">=</span> <span class="s1">'guy'</span><span class="p">;</span>
<span class="p">};</span>
</code></pre>
</div>

<p>Out w/ <code class="highlighter-rouge">"spec": true</code></p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">Foo</span> <span class="o">=</span> <span class="kd">function</span> <span class="nx">Foo</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">babelHelpers</span><span class="p">.</span><span class="nx">classCallCheck</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">Foo</span><span class="p">);</span>
  <span class="nx">_initialiseProps</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
<span class="p">};</span>

<span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">Foo</span><span class="p">,</span> <span class="s2">"bar"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">enumerable</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="na">writable</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="na">value</span><span class="p">:</span> <span class="kc">undefined</span>
<span class="p">});</span>

<span class="kd">var</span> <span class="nx">_initialiseProps</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="s2">"bar"</span><span class="p">,</span> <span class="p">{</span>
    <span class="na">enumerable</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="na">writable</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="na">value</span><span class="p">:</span> <span class="nx">foo</span>
  <span class="p">});</span>
<span class="p">};</span>
</code></pre>
</div>

<hr />

<p>)</p>

<p>We’ve added 2 similar “ancestry” path methods to <code class="highlighter-rouge">path.findParent</code>:</p>

<p>Usage</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">programPath</span><span class="p">,</span> <span class="nx">numberPath</span><span class="p">;</span>
<span class="nx">traverse</span><span class="p">(</span><span class="nx">ast</span><span class="p">,</span> <span class="p">{</span>
  <span class="nx">Program</span><span class="p">(</span><span class="nx">path</span><span class="p">)</span> <span class="p">{</span> <span class="nx">programPath</span> <span class="o">=</span> <span class="nx">path</span><span class="p">;</span> <span class="p">},</span>
  <span class="nx">NumberPath</span><span class="p">(</span><span class="nx">path</span><span class="p">)</span> <span class="p">{</span> <span class="nx">numberPath</span> <span class="o">=</span> <span class="nx">path</span><span class="p">;</span> <span class="p">},</span>
<span class="p">});</span>

<span class="nx">programPath</span><span class="p">.</span><span class="nx">isAncestor</span><span class="p">(</span><span class="nx">numberPath</span><span class="p">);</span> <span class="c1">// true</span>
<span class="nx">numberPath</span><span class="p">.</span><span class="nx">isDescendant</span><span class="p">(</span><span class="nx">programPath</span><span class="p">);</span> <span class="c1">// true</span>
</code></pre>
</div>

<hr />

<p>)</p>

<p>Usage</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="nx">traverse</span><span class="p">.</span><span class="nx">clearCache</span><span class="p">();</span> <span class="c1">// clears both path's and scope cache</span>
<span class="nx">traverse</span><span class="p">.</span><span class="nx">clearCache</span><span class="p">.</span><span class="nx">clearPath</span><span class="p">();</span>
<span class="nx">traverse</span><span class="p">.</span><span class="nx">clearCache</span><span class="p">.</span><span class="nx">clearScope</span><span class="p">();</span>
</code></pre>
</div>

<hr />

<p>)</p>

<p>Usage</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="p">{</span>
  <span class="s2">"generatorOpts"</span><span class="err">:</span> <span class="p">{</span>
    <span class="s2">"jsonCompatibleStrings"</span><span class="err">:</span> <span class="kc">true</span> <span class="c1">// defaults to false</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

<p>Set to true for the generator to use <code class="highlighter-rouge">jsesc</code> with <code class="highlighter-rouge">"json": true</code>. This will make it print <code class="highlighter-rouge">"\u00A9"</code> vs. <code class="highlighter-rouge">"©"</code>;</p>

<hr />

<p>)</p>

<p>Usage</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="p">{</span>
  <span class="s2">"generatorOpts"</span><span class="err">:</span> <span class="p">{</span>
    <span class="s2">"flowCommaSeparator"</span><span class="err">:</span> <span class="kc">true</span> <span class="c1">// defaults to false</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

<p>Currently there are 2 supported syntaxes (<code class="highlighter-rouge">,</code> and <code class="highlighter-rouge">;</code>) in Flow Object Types. The use of commas is in line with the more popular style and matches how objects are defined in Javascript, making it a bit more natural to write.</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">a</span><span class="err">:</span> <span class="p">{</span> <span class="nl">param1</span><span class="p">:</span> <span class="nx">number</span><span class="p">;</span> <span class="nl">param2</span><span class="p">:</span> <span class="nx">string</span> <span class="p">}</span>
<span class="kd">var</span> <span class="nx">a</span><span class="err">:</span> <span class="p">{</span> <span class="nl">param1</span><span class="p">:</span> <span class="nx">number</span><span class="p">,</span> <span class="nx">param2</span><span class="err">:</span> <span class="nx">string</span> <span class="p">}</span>
</code></pre>
</div>

<hr />

<p>)</p>

<p>Usage</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="nx">assert</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">isNodesEquivalent</span><span class="p">(</span><span class="nx">parse</span><span class="p">(</span><span class="s2">"1 + 1"</span><span class="p">),</span> <span class="nx">parse</span><span class="p">(</span><span class="s2">"1+1"</span><span class="p">))</span> <span class="o">===</span> <span class="kc">true</span><span class="p">);</span>
</code></pre>
</div>

<hr />

<p>)</p>

<p>You’ll want to add the <code class="highlighter-rouge">stage-2</code> preset or explicitly include <code class="highlighter-rouge">babel-plugin-syntax-dynamic-import</code> (not enabled by default).</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kr">export</span> <span class="kd">function</span> <span class="nx">lazyLoadOperation</span> <span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="kr">import</span><span class="p">(</span><span class="s1">'./x'</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">x</span><span class="p">.</span><span class="nx">y</span><span class="p">();</span>
  <span class="p">});</span>
<span class="p">}</span>
</code></pre>
</div>

<h2 id="-bug-fixes">🐛 Bug Fixes</h2>

<p>)</p>

<p>Input</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="mi">5</span><span class="nx">e1</span><span class="p">;</span>
<span class="mi">5</span><span class="nx">e4</span><span class="p">;</span>
</code></pre>
</div>

<p>Output</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="mi">50</span><span class="p">;</span>
<span class="mi">5</span><span class="nx">e4</span><span class="p">;</span>
</code></pre>
</div>

<hr />

<p>)</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kr">import</span> <span class="s2">"2"</span><span class="p">;</span> <span class="c1">// should be imported first</span>
<span class="kr">import</span> <span class="s2">"1"</span><span class="p">;</span> <span class="c1">// second</span>
</code></pre>
</div>

<hr />

<p>)</p>

<p>Fixes an issue with destructuring parameters being hoisted incorrectly.</p>

<p>Input</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">render</span><span class="p">({</span> <span class="nx">text</span> <span class="p">})</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">(</span><span class="o">&lt;</span><span class="nx">Component</span> <span class="nx">text</span><span class="o">=</span><span class="p">{</span><span class="nx">text</span><span class="p">}</span> <span class="sr">/&gt;</span><span class="se">)</span><span class="err">;
</span><span class="p">}</span>
</code></pre>
</div>

<p>Output</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">render</span><span class="p">(</span><span class="nx">_ref</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">text</span> <span class="o">=</span> <span class="nx">_ref</span><span class="p">.</span><span class="nx">text</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">_ref2</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nx">Component</span> <span class="nx">text</span><span class="o">=</span><span class="p">{</span><span class="nx">text</span><span class="p">}</span> <span class="sr">/&gt;</span><span class="err">;
</span>  <span class="k">return</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">_ref2</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
</div>

<hr />

<h2 id="-committers-10">🌏 Committers: 10</h2>

<ul>
  <li>Boopathi Rajaa ()</li>
  <li>Guy Bedford ()</li>
  <li>Henry Zhu ()</li>
  <li>Juriy Zaytsev ()</li>
  <li>Moti Zilberman ()</li>
  <li>Sam Pepose ()</li>
  <li>Samuel Reed ()</li>
  <li>Scott Stern ()</li>
  <li>Shine Wang ()</li>
  <li>lion ()</li>
</ul>

<hr />

<p>Check out  for the whole changelog!</p>
---------------
<h1 id="#title_19" >20、How to process geospatial data with Node.js and TURF</h1>

[http://blog.webkid.io/how-to-handle-geospatial-data-with-nodejs-and-turf/](http://blog.webkid.io/how-to-handle-geospatial-data-with-nodejs-and-turf/)
<p>In the last two years we created . When you do projects like this it’s a common task that you have to process geospatial data before you can use it. You have to filter it, clean it up, aggregate it, analyze it, etc. There are tools like QGIS that help you to do these tasks, but for me as a web developer it was always a hassle to start this heavy UI when I just want to find and save points that are in a certain polygon for example. </p>
<h4 id="TURF-js-to-the-rescue"> you can check out. This article is about how to use TURF in combination with Node.js.</p>
<h4 id="The-very-basics">“. Luckily TURF offers helper functions to convert all the different types (<code>LineString</code>, <code>Polygon</code>, <code>MultiPolygon</code>, and so on). In order to run the following examples you need node &gt;= 5 and these modules:</p>
<pre><code class="language-sh">npm install turf d3-dsv --save
</code></pre>
<div style="margin-top:3em"></div>

<h2 id="Measure-distances"> we started with a data set containing city names and their centers (longitude,latitude). We also wanted to show the distance of each city to Berlin so we used TURF to add these values. </p>
<p>For this task we use the functions <code>point</code> and <code>distance</code>. The <code>point</code> function simply converts an array (longitude,latitude) to a GeoJSON representation. The <code>distance</code> function returns the distance in kilometers of the two passed points. It also takes a third parameter that can be degrees, radians, miles, or kilometers. So if you have a CSV file that contains the columns “longitude” and “latitude” and you want to add a “distance” column, you could do something like this:</p>
<pre><code class="language-javascript">const Fs = require(&#39;fs&#39;);
const Turf = require(&#39;turf&#39;);
const D3Dsv = require(&#39;d3-dsv&#39;);

// define center
const CENTER = Turf.point([13.4, 52.52]);

// read in csv 
const csvInput = Fs.readFileSync(&#39;./cities.csv&#39;).toString();

// parse csv
const jsonData = D3Dsv.csvParse(csvInput);

// add distance field for each entry
jsonData.forEach(el =&gt; { 
  const dataPoint = Turf.point([el.longitude, el.latitude]);
  el.distance = Turf.distance(CENTER, dataPoint); 
});

// write csv result
Fs.writeFile(&#39;./cities-with-distances.csv&#39;, D3Dsv.csvFormat(jsonData));

// or if you need json ...
Fs.writeFile(&#39;./cities-with-distances.json&#39;, JSON.stringify(jsonData));
</code></pre>
<p><div style="margin-top:3em"></div></p>
<h2 id="Aggregation">Aggregation</h2><p>Let’s say we have a data set with houses (points) and some districts (polygons). We don’t know which house belongs to which district but we want to do some aggregation of the house data. For every district we want to calculate the minimum, maximum, sum and medium of the residents. For this we can use the <code>aggregate</code> function. The <code>aggregate</code> function takes three parameters. A feature collection of polygons, a feature collection of points and an array with definitions which type of aggregation we want to do for which field. Besides min, max, sum and median you can also calculate the average, deviation, variance and count.</p>
<pre><code class="language-javascript">const Fs = require(&#39;fs&#39;);
const Turf = require(&#39;turf&#39;);

// read in json 
// for this example a point needs the property &quot;residents&quot;:
// &quot;properties&quot;: {
//   &quot;residents&quot;: 23
// }
const houses = JSON.parse(Fs.readFileSync(&#39;./houses.geo.json&#39;)); // feature collection of points
const districts = JSON.parse(Fs.readFileSync(&#39;./districts.geo.json&#39;)); // feature collection of polygons

// define aggregations
const inputField = &#39;residents&#39;;
const aggregations = [{
    aggregation: &#39;min&#39;,
    inField: inputField,
    outField: `${inputField}_min`
  },{
    aggregation: &#39;max&#39;,
    inField: inputField,
    outField: `${inputField}_max`
  },{
    aggregation: &#39;sum&#39;,
    inField: inputField,
    outField: `${inputField}_sum`
  },{
    aggregation: &#39;median&#39;,
    inField: inputField,
    outField: `${inputField}_median`
}];

const aggregated = Turf.aggregate(districts, houses, aggregations);

// write aggregated result as geojson
Fs.writeFile(&#39;./districts-aggregated.geo.json&#39;, JSON.stringify(Turf.featurecollection(aggregated)));
</code></pre>
<p>If you are lazy, you could also create the array with aggregations this way:</p>
<pre><code class="language-javascript">const aggregations = [&#39;min&#39;, &#39;max&#39;, &#39;sum&#39;, &#39;median&#39;]
  .map(aggregationType =&gt; {
    return {
      aggregation: aggregationType,
      inField: inputField,
      outField: `${inputField}_${aggregationType}`
    };
  });
</code></pre>
<p><div style="margin-top:3em"></div></p>
<h2 id="Finding-points-in-polygons">Finding points in polygons</h2><p>Image you have several points of interest but you only want to look at points in a certain neighbourhood. In order to do this you can use the <code>within</code> function. This function takes a feature collection of points and a feature collection of polygons. It then returns all points that are in at least on of the passed polygons.</p>
<pre><code class="language-javascript">const Fs = require(&#39;fs&#39;);
const Turf = require(&#39;turf&#39;);

// read in json 
const points = JSON.parse(Fs.readFileSync(&#39;./points.geo.json&#39;)); // feature collection of points
const neighbourhood = JSON.parse(Fs.readFileSync(&#39;./neighbourhood.geo.json&#39;)); // feature collection with one polygon

const poisResult = Turf.within(points, neighbourhood);

// write json
Fs.writeFile(&#39;./points-within-neighbourhood.json&#39;, JSON.stringify(poisResult));
</code></pre>
<p><div style="margin-top:3em"></div></p>
<h2 id="What-else">.</p>
---------------
<h1 id="#title_20" >21、6.16.0 Released</h1>

[https://babeljs.io/blog/2016/09/28/6.16.0](https://babeljs.io/blog/2016/09/28/6.16.0)
<p style="text-align:center">
Happy Birthday Babel 🎂 !
</p>

<blockquote class="twitter-tweet" data-lang="en"><p lang="en" dir="ltr">Happy 2nd birthday </blockquote>
<script async="" src="//platform.twitter.com/widgets.js" charset="utf-8"></script>

<pre style="font: 10px/5px monospace;">                                
                                                                                                    
                                      ```.```           ``````            ``````                   
                                     ````;````         ```:````          ```:````                  
                                    ````:;`````       ````;,````        ````;,````                 
                                   `````::,`````     ````:,:`````      ````:,:`````                
                                   ````:,,:`````     ````:.,,````      ````:.,,````                
                                   ````:..,.````    ````,,..:`````    ````,,..:`````               
                                   ```.,.`,:````    ````:.`.,`````    ````:.`.,`````               
                                   ```.,.`.:````    ````:.`.,.````    ````:.`.,.````               
                                   ```.,...:````     ``.:...,.```      ``.:...,.```                
                                    ::,,,.,,,:`      `:,,,.,,,:,       `:,,,.,,,::                 
                                   :,,.......,:      :,.......,,,      :,.......,,:                
                                   :,.........,  ;++`............;++`  ,.........,:                
                                   :.````````.. '+'+'```````````,+'++` ..````````.:                
                                   ;,````````.,.+'''',`````````.,''++' ,.````````,:                
                                   ;,.`    ``.,++'''',.``    ``.,''''+,,.``    `.,:                
                                   :,.``  ```..+''''+,.```  ```.,'''++;,.```  ``.,:                
                                  `:,.``  ```..+''''',.```  ```.,''''+',.```  ``.,:                
                                  +,..``  ```..+++''+,.```  ```.,+''++;,.```  ``..:,               
                                ,:+,.```  ```..++++++,.```  ```.,+++++.,.```  ```.,+,`             
                              ,,.'',.```  ```.,`;+++',.```  ```.,+++'.`,.```  ```.,+.,:            
                            `,,.`++,.```  ```.,``...`,.```  ```.,...```,.```  ```.,+`..,:          
                           ,,..``'+,.```  ```.,``````,.```  ```.,``````,.```  ```.,+```.,:         
                          :,.```.,+,.```  ```.,``````,.```  ```.,``````,.```  ```.,'.```..,`       
                         :,.`````.,,.```  ```.,``````,.```  ```.,``````,.```  ```.,.``````.,       
                        ,,.```````.,.```  ```.,``````,.```  ```.,``````,.```  ```.,```````..:      
                        ,.`````````,.```  ```.,``````,.```  ```.,``````,.```  ```.,````````.,:     
                       :,.```````` ,.```  ```.,``````,.```  ```.,``````,.```  ```., ````````.,     
                       ,.```````.''+'```  ```., `````,.```  ```.,``````,.```  ``,''+'```````.,.    
                       ,.```````+'''';``  ```., `````,.```  ``..,``````,.```  ``+'''';```````,:    
                       ,.``````'+''''+``` ```.,``````,.``` ```..,``````,.``` ``'+''''+```````.:    
                       ,.``````+'''''':`````.., `````,..`````..,,``````,..`````+'''''',``````,:    
                       ,.``````+'''''+'.```..,````````,...``..,,````````,...``.+'''''+'`````.,,    
                       :.``````+'''''+'......````   ```.......```   `````......+'''''+'`````.,     
                       :.`````.+++++'+:.....````.''+' ```....```.''+' ````.....+++++'+:`````.,     
                       ,,.````.:+++++'``````````+'''';``````````+'''';`````````,+++++'..````.,     
                       .,.````..,;';,.`````````'+''''+ ````````'+''''+ `````````.:';:..`````.:     
                        ,.``````....```````````+'''''', `````` +'''''',```````````...```````.:     
                        ,.`````````````````````+'''''+'``````` +'''''+'````````````````````.,,     
                        ,.`````````````````````+'''''+'````````+'''''+'````````````````````.,.     
                        :.`````````````````````+++++'+:``` ````+++++'+:````````````````````.,`     
                        :..````````````````````,+++++'```` ````,+++++'`````````````````````.,      
                        ,,.`````````````````````.:';,.```   ````.:';,.`````````````````````.,      
                        .,.```````````````````````````````   `````````````  ```````````````.:      
                        `,.```````````````````` ```````       `````` `    ````````````````..:      
                         ,..```````````````````                       ````````````````````.,:      
                         ,...`````````````````````` ```        ```````````````````````````.,,      
                         :....````````````````````````````````````````````````````````````.,.      
                         :,.....`````````````````````````````````````````````````````````..,       
                         :,......`````````````````````````````````````````````````````.....:       
                         ,,........```````````````````````````````````````````````````.....:       
                         .,........```````````````````````````````````````````````````....,:       
                          ,..........```````````````````````````````````````````````......,:       
                          :...........`````````````````````````````````````````````.......,:       
                          :,...........````````````````````````````````````````````.......,,       
                          :,..........``````````````````````````````````````````..........,`       
                          :,............````````````````````````````````````````..........:        
                          :,............````````````````````````````````````````.........,:        
                          .,..............```````````````````````````````````............,:        
                          `,,..............``````````````````````````````````............,:        
                           :,...........`..````````````````````````````````..............,:        
                           :,..............````````````````````````````````..............:.        
                           ,,,.............```````````````````````````````..............,:         
                            :,.............````````````````````````````````............,:,         
                            `:,.............````````````````````````````..............,,:          
                             .:,............```````````````````````````..............,::           
                              .:,,..........````````````````````````````............,::            
                                :,,..........````````````````````````.............,,:,             
                                 ,:,,.........``````````````````````............,,:;               
                                   ::,,........``````````````````.............,,::`                
                                     ,::,,........``````.```.``............,,,:;`                  
                                        :::,,,........`.```............,,,:::.                     
                                           ,:::,,,,..............,,,,,::::`                        
                                               `.::::::,,,,,,,::::::,`                             
</pre>

<p>It’s hard to believe it’s been 2 years already! Thanks so much to Sebastian for creating this amazing project!</p>

<p>We’ve grown a lot:</p>

<ul>
  <li>200+ contributors</li>
  <li>There’s been ~113 releases since 6.0.0 and 512 release total.</li>
  <li>~4.5 million downloads of <code class="highlighter-rouge">babel-core</code> in the last month</li>
  <li>1400+ results for <code class="highlighter-rouge">babel-plugin</code> </li>
  <li>700+ results for <code class="highlighter-rouge">babel-preset</code> </li>
  <li>4500+ users on our </li>
</ul>

<p>Thanks so much for using and contributing to our community!</p>

<p>If you haven’t checked recently, we’ve moved back to </p>

<p>Like most open source projects, Babel is maintained be just a few people working in their free time. We’ll be working on making it easier to contribute in various ways (not just to the main codebase).</p>

<p>What Evan Czaplicki says in  is really relevant to any project, big or small. A big part of contributing is just talking, using, writing about the project.</p>

<p>To that point, we should setup a curated, up-to-date  and maybe a newsletter to talk about the awesome stuff people are making with Babel (a new plugin, a new tool, or just an idea).</p>

<p>Hopefully, we can work more with TC-39 like we do with t with Babel.</p>

<p>We’ve also released .</p>

<p>The future of Babel is bright!</p>

<h2 id="-spec-compliancy">👓 Spec Compliancy</h2>
<p>)</p>

<p>This change implements the , currently at stage 2 (and is planned to be pushed to stage 3 at the current TC-39 meeting). It includes the following features:</p>

<ul>
  <li>Transforms async generator functions (<code class="highlighter-rouge">async function* g() { }</code>) to wrapped generator functions, similar to the current async-to-generator transform.</li>
</ul>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="nx">async</span> <span class="kd">function</span><span class="o">*</span> <span class="nx">agf</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">await</span> <span class="mi">1</span><span class="p">;</span>
  <span class="k">yield</span> <span class="mi">2</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
</div>

<ul>
  <li>Transforms <code class="highlighter-rouge">for-await</code> statements into for loops containing yield expressions.</li>
</ul>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="nx">async</span> <span class="kd">function</span> <span class="nx">f</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">for</span> <span class="nx">await</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">x</span> <span class="nx">of</span> <span class="nx">y</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">g</span><span class="p">(</span><span class="nx">x</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

<p>Example Usage</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="nx">async</span> <span class="kd">function</span><span class="o">*</span> <span class="nx">genAnswers</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">stream</span> <span class="o">=</span> <span class="p">[</span> <span class="nx">Promise</span><span class="p">.</span><span class="nx">resolve</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span> <span class="nx">Promise</span><span class="p">.</span><span class="nx">resolve</span><span class="p">(</span><span class="mi">9</span><span class="p">),</span> <span class="nx">Promise</span><span class="p">.</span><span class="nx">resolve</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span> <span class="p">];</span>
  <span class="kd">var</span> <span class="nx">total</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="k">for</span> <span class="nx">await</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">val</span> <span class="nx">of</span> <span class="nx">stream</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">total</span> <span class="o">+=</span> <span class="nx">await</span> <span class="nx">val</span><span class="p">;</span>
    <span class="k">yield</span> <span class="nx">total</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">forEach</span><span class="p">(</span><span class="nx">ai</span><span class="p">,</span> <span class="nx">fn</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">ai</span><span class="p">.</span><span class="nx">next</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">r</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">r</span><span class="p">.</span><span class="nx">done</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">fn</span><span class="p">(</span><span class="nx">r</span><span class="p">);</span>
      <span class="k">return</span> <span class="nx">forEach</span><span class="p">(</span><span class="nx">ai</span><span class="p">,</span> <span class="nx">fn</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">});</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">output</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="k">return</span> <span class="nx">forEach</span><span class="p">(</span><span class="nx">genAnswers</span><span class="p">(),</span> <span class="kd">function</span><span class="p">(</span><span class="nx">val</span><span class="p">)</span> <span class="p">{</span> <span class="nx">output</span> <span class="o">+=</span> <span class="nx">val</span><span class="p">.</span><span class="nx">value</span> <span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="nx">assert</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="nx">output</span><span class="p">,</span> <span class="mi">42</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
</div>

<p>)</p>

<p>Parser support was added in </p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="c1">// Example</span>
<span class="kr">class</span> <span class="nx">Foo</span> <span class="p">{</span>
  <span class="p">[</span><span class="nx">x</span><span class="p">]</span>
  <span class="p">[</span><span class="s1">'y'</span><span class="p">]</span>
<span class="p">}</span>

<span class="kr">class</span> <span class="nx">Bar</span> <span class="p">{</span>
  <span class="p">[</span><span class="nx">p</span><span class="p">]</span>
  <span class="p">[</span><span class="nx">m</span><span class="p">]</span> <span class="p">()</span> <span class="p">{}</span>
<span class="p">}</span>
</code></pre>
</div>

<p>)</p>

<p>Parser support was added in </p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="c1">// Example</span>
<span class="kd">var</span> <span class="nx">a</span> <span class="err">:</span> <span class="p">{</span><span class="o">|</span> <span class="nx">x</span><span class="err">:</span> <span class="nx">number</span><span class="p">,</span> <span class="nx">y</span><span class="err">:</span> <span class="nx">string</span> <span class="o">|</span><span class="p">}</span> <span class="o">=</span> <span class="p">{</span> <span class="na">x</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="na">y</span><span class="p">:</span> <span class="s1">'foo'</span> <span class="p">};</span>
</code></pre>
</div>

<h2 id="-new-feature">🚀 New Feature</h2>

<p>)</p>

<p>Babel will now also take the options: <code class="highlighter-rouge">parserOpts</code> and <code class="highlighter-rouge">generatorOpts</code> (as objects).</p>

<p><code class="highlighter-rouge">parserOpts</code> will pass all properties down to the default <code class="highlighter-rouge">babylon</code> parser. You can also pass a <code class="highlighter-rouge">parser</code> option to substitute for a different parser.</p>

<p>This will allow passing down any of <code class="highlighter-rouge">babylon's</code> :</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="p">{</span>
  <span class="s2">"parserOpts"</span><span class="err">:</span> <span class="p">{</span>
    <span class="s2">"allowImportExportEverywhere"</span><span class="err">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="s2">"allowReturnOutsideFunction"</span><span class="err">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="s2">"sourceType"</span><span class="err">:</span> <span class="s2">"module"</span><span class="p">,</span>
    <span class="s2">"plugins"</span><span class="err">:</span> <span class="p">[</span><span class="s2">"flow"</span><span class="p">]</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

<p>You can also pass down <code class="highlighter-rouge">parserOpts.parser</code> and <code class="highlighter-rouge">generatorOpts.generator</code>. This will enable the use of  with Babel.</p>

<p>Recast is used in  to help convert between React releases.</p>

<p><img src="https://cloud.githubusercontent.com/assets/588473/16584612/04a82078-428b-11e6-9f79-a665eef848ea.gif" alt="recast" /></p>

<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"parserOpts"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"parser"</span><span class="p">:</span><span class="w"> </span><span class="s2">"recast"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"generatorOpts"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"generator"</span><span class="p">:</span><span class="w"> </span><span class="s2">"recast"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>Babel as a compiler has 3 steps: parsing, transforming, and generation.</p>

<p>At a high level, the process is:</p>
<ul>
  <li>parsing: take a string (input code) and turn it into JSON.</li>
  <li>transforming (plugins): take JSON and make a different JSON structure)</li>
  <li>code generation: turn the JSON back into a string (output code).</li>
</ul>

<p>The last step of babel is the code generator. Traditionally, the code generator doesn’t really need to care about the format of your code (spaces, quotes, etc). This is because the output code is your “compiled” code and will probably go in the dist directory, you will eventually minify it, etc.</p>

<p>But what if you want to write a babel plugin that runs on your source code and outputs to source (<code class="highlighter-rouge">babel src -d src</code> rather than <code class="highlighter-rouge">babel src -d lib</code>)? You would want your diff to be readable and for the plugin to only modify what is necessary by conforming to your style guide.</p>

<p>This is because you want to write a plugin that transforms the source itself. One use case is a project called  so we wanted to help support that usecase.</p>

<p>Once  are merged you should be able to make your own codemods with Babel as well!</p>

<p>)</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="p">{</span>
  <span class="nl">presets</span><span class="p">:</span> <span class="p">[</span><span class="s2">"@org/babel-preset-name"</span><span class="p">],</span> <span class="c1">// actual package</span>
  <span class="nx">presets</span><span class="err">:</span> <span class="p">[</span><span class="s2">"@org/name"</span><span class="p">]</span> <span class="c1">// shorthand name</span>
<span class="p">}</span>
</code></pre>
</div>

<p>)</p>

<p><code class="highlighter-rouge">useBuiltIns</code> - Do not use Babel’s helper’s and just transform to use the built-in method (Disabled by default).</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="p">{</span>
  <span class="s2">"plugins"</span><span class="err">:</span> <span class="p">[</span>
    <span class="p">[</span><span class="s2">"transform-object-rest-spread"</span><span class="p">,</span> <span class="p">{</span> <span class="s2">"useBuiltIns"</span><span class="p">:</span> <span class="kc">true</span> <span class="p">}]</span>
  <span class="p">]</span>
<span class="p">}</span>

<span class="c1">// source</span>
<span class="nx">z</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">x</span><span class="p">,</span> <span class="p">...</span><span class="nx">y</span> <span class="p">};</span>
<span class="c1">// compiled</span>
<span class="nx">z</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">assign</span><span class="p">({</span> <span class="nx">x</span> <span class="p">},</span> <span class="nx">y</span><span class="p">);</span>
</code></pre>
</div>

<p>)</p>

<p><code class="highlighter-rouge">babel-code-frame</code> is a standalone package that we use in Babel when reporting errors.</p>

<p>Now there is an  to specify the number of lines above and below the error</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code>  <span class="mi">1</span> <span class="o">|</span> <span class="kr">class</span> <span class="nx">Foo</span> <span class="p">{</span>
<span class="o">&gt;</span> <span class="mi">2</span> <span class="o">|</span>   <span class="nx">constructor</span><span class="p">()</span>
    <span class="o">|</span>                <span class="o">^</span>
  <span class="mi">3</span> <span class="o">|</span> <span class="p">}</span>
</code></pre>
</div>

<p>)</p>

<p>We previously made presets with commonjs exports</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">plugins</span><span class="p">:</span> <span class="p">[</span>
    <span class="nx">require</span><span class="p">(</span><span class="s2">"babel-plugin-syntax-trailing-function-commas"</span><span class="p">)</span>
  <span class="p">]</span>
<span class="p">};</span>
</code></pre>
</div>

<p>Now you can use export default as well</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kr">import</span> <span class="nx">syntaxTrailingCommas</span> <span class="nx">from</span> <span class="s2">"..."</span><span class="p">;</span>
<span class="kr">export</span> <span class="k">default</span> <span class="p">{</span>
  <span class="na">plugins</span><span class="p">:</span> <span class="p">[</span>
    <span class="nx">syntaxTrailingCommas</span>
  <span class="p">]</span>
<span class="p">};</span>
</code></pre>
</div>

<h2 id="-polish">💅 Polish</h2>

<p>)</p>

<p>Before</p>

<p><img width="611" alt="screen shot 2016-09-27 at 11 12 47 am" src="https://cloud.githubusercontent.com/assets/588473/18879735/6ba2820a-84a3-11e6-9e3f-fa8612620867.png" /></p>

<p>After</p>

<p><img width="611" alt="screen shot 2016-09-27 at 3 50 02 pm" src="https://cloud.githubusercontent.com/assets/588473/18889266/38829f96-84ca-11e6-8a19-0a39e440a0d3.png" /></p>

<h2 id="-notable-bug-fixes">🐛 Notable Bug Fixes</h2>
<p>)</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="c1">// `typeof Symbol.prototype` should be 'object'</span>
<span class="k">typeof</span> <span class="nx">Symbol</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">===</span> <span class="s1">'object'</span>
</code></pre>
</div>

<p>)</p>

<p>Fix an issue with defaults not being overidden. This was causing options like <code class="highlighter-rouge">comments: false</code> not to work correctly.</p>

<p>)</p>

<div class="highlighter-rouge"><pre class="highlight"><code>// this wasn't exporting correctly before
export default ({ onClick }) =&gt; {
  return &lt;div onClick={() =&gt; onClick()}&gt;&lt;/div&gt;;
}
</code></pre>
</div>

<p>)</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kr">export</span> <span class="k">default</span> <span class="kr">class</span> <span class="p">{};</span>
<span class="c1">// wasn't correctly transforming to</span>
<span class="nx">exports</span><span class="p">[</span><span class="s2">"default"</span><span class="p">]</span> <span class="o">=</span> <span class="kr">class</span> <span class="p">{}</span>
<span class="c1">// with the es3-tranforms</span>
</code></pre>
</div>

<p>)</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="c1">// &lt;X&gt; wasn't stripped out</span>
<span class="kr">const</span> <span class="nx">find</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nx">X</span><span class="o">&gt;</span> <span class="p">(</span><span class="nx">f</span><span class="err">:</span> <span class="p">(</span><span class="nx">x</span><span class="err">:</span><span class="nx">X</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">X</span><span class="p">,</span> <span class="nx">xs</span><span class="err">:</span> <span class="nb">Array</span><span class="o">&lt;</span><span class="nx">X</span><span class="o">&gt;</span><span class="p">)</span><span class="err">:</span> <span class="p">?</span><span class="nx">X</span> <span class="o">=&gt;</span> <span class="p">(</span>
  <span class="nx">xs</span><span class="p">.</span><span class="nx">reduce</span><span class="p">(((</span><span class="nx">b</span><span class="p">,</span> <span class="nx">x</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">b</span> <span class="p">?</span> <span class="nx">b</span> <span class="p">:</span> <span class="nx">f</span><span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="p">?</span> <span class="nx">x</span> <span class="p">:</span> <span class="kc">null</span><span class="p">),</span> <span class="kc">null</span><span class="p">)</span>
<span class="p">)</span>
</code></pre>
</div>

<p>)</p>

<p>We noticed that we can not make this optimizations if there are function calls or member expressions on the right hand side of the assignment since the function call or the member expression (which might be a getter with side-effect) could potentially change the variables we are assigning to.</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="p">[</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="nx">a</span><span class="p">(),</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">x</span><span class="p">];</span>
<span class="c1">// was tranforming to</span>
<span class="nx">x</span> <span class="o">=</span> <span class="nx">a</span><span class="p">();</span>
<span class="nx">y</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">x</span><span class="p">;</span>
<span class="c1">// now transforms to </span>
<span class="kd">var</span> <span class="nx">_ref</span> <span class="o">=</span> <span class="p">[</span><span class="nx">a</span><span class="p">(),</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">x</span><span class="p">];</span>
<span class="nx">x</span> <span class="o">=</span> <span class="nx">_ref</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
<span class="nx">y</span> <span class="o">=</span> <span class="nx">_ref</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
</code></pre>
</div>

<p>)</p>

<hr />

<p>Check out  for the rest of the changelog!</p>
---------------
<h1 id="#title_21" >22、Babili (babel-minify)</h1>

[https://babeljs.io/blog/2016/08/30/babili](https://babeljs.io/blog/2016/08/30/babili)
<p>We released  as beta (0.0.1) a few days ago under an MIT license!</p>

<blockquote>
  <p>Try it out in the Babel  slack room!</p>
</blockquote>

<p>There are a lot of (valid) questions about why a new minifier is a good idea, so this post should help with that.</p>

<p>TL;DR: Babili can accept ES2015+ input, while current minifiers are mostly limited to ES5, requiring code to be transpiled before minification. This is becoming unncessary as people begin to ship ES2015 to clients. Babili is also modular/flexible (being a  means it supports user plugins) and can be used as a preset or CLI tool. Babili will also be able to make ES2015+ specific optimizations.</p>

<h2 id="pronunciation">Pronunciation</h2>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="c"># sounds like "bah billy" or "Babadi" (from DBZ)</span>
say Babili
</code></pre>
</div>

<p>Babili is Babylon in Akkadian.</p>

<blockquote>
  <p>If you can’t remember the name, babel-minify works too (made  for the name).</p>
</blockquote>

<h2 id="why-minify">Why minify?</h2>

<p>At a basic level,  removes unnecessary characters from a program without changing its functionality – things like comments, whitespace, newlines, and extra parentheses. Advanced minification may transform programs into smaller equivalents and remove redundant/unreachable code.</p>

<p>Minification is primarily useful for decreasing the size of the JavaScript payload sent from the server to the client: users will download less code to use your website. Advanced minification can also result in shorter parse time (less code to parse) and in some cases faster runtime (e.g. advanced optimizations like function inlining).</p>

<h2 id="current-minifiers">Current minifiers</h2>

<p>Tools such as ).</p>

<p>We currently use tools like Babel to compile ES2015 code down to ES5 code to support older browsers. Then we use something like Uglify to cut down on the bundle size.</p>

<p>As browsers implement more ES2015 features and we drop support for older browser versions, there is a sliding window of the version of ECMAScript you write in and the target ECMAScript version you minify to. However since Uglify cannot parse ES2015+, you would still have to compile down to ES5 anyway.</p>

<h2 id="babili">Babili</h2>

<p>That’s where Babili comes in.</p>

<p>Babili is ES2015+ aware because it is built using the Babel toolchain.
It is written as a set of Babel plugins, consumable with the .</p>

<h2 id="example">Example</h2>

<p>Say we’re targeting the latest versions of Chrome, Firefox, Edge, and Safari – all of which support . Then, compiling ES2015 classes to a constructor function and prototype methods (ES5) results in more code (and potentially loses any optimizations browsers might have for classes).</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kr">class</span> <span class="nx">Mangler</span> <span class="p">{</span>
  <span class="nx">constructor</span><span class="p">(</span><span class="nx">program</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">program</span> <span class="o">=</span> <span class="nx">program</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="c1">// need this since otherwise Mangler isn't used</span>
<span class="k">new</span> <span class="nx">Mangler</span><span class="p">();</span> 
</code></pre>
</div>

<p>Before, we might run Babel to transpile  and run Uglify on the compiled code to send to the browser.</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="c1">// ES2015 code -&gt; Babel -&gt; Uglify/Babili -&gt; Minified ES5 Code</span>
<span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="kd">function</span> <span class="nx">a</span><span class="p">(</span><span class="nx">b</span><span class="p">){</span><span class="nx">_classCallCheck</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">a</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">program</span><span class="o">=</span><span class="nx">b</span><span class="p">};</span><span class="nx">a</span><span class="p">();</span>
</code></pre>
</div>

<p>With Babili, you can just run the minifier which works on ES2015 code.</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="c1">// ES2015 code -&gt; Babili -&gt; Minified ES2015 Code</span>
<span class="kr">class</span> <span class="nx">a</span><span class="p">{</span><span class="nx">constructor</span><span class="p">(</span><span class="nx">b</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">program</span><span class="o">=</span><span class="nx">b</span><span class="p">}}</span><span class="k">new</span> <span class="nx">a</span><span class="p">;</span>
</code></pre>
</div>

<p>Also it’s important to note that this isn’t specific to ES2015. Because Babel updates as ECMAScript updates (with ), the minifier should be able to output whatever version of ECMAScript that is supported.</p>

<p>In the future, we might make use of the ES2015+ syntax information we have at compile time (e.g. we know that given function is an arrow function or that a given binding is block-scoped etc) to do advanced optimizations. And we can make use of the knowledge that we’re targeting an ES2015+ environment in creative ways.</p>

<p>We’re just getting started so let us know if you have any ideas!</p>

<h3 id="some-of-the-plugins"></h3>

<p>To give an idea of some of the transforms:</p>

<p>:</p>

<p>Tries to evaluate expressions and inline the result. For now only deals with numbers and strings.</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="mi">2</span> <span class="o">*</span> <span class="mi">3</span><span class="p">;</span>
<span class="s2">"b"</span> <span class="o">+</span> <span class="nx">a</span> <span class="o">+</span> <span class="s2">"c"</span> <span class="o">+</span> <span class="s2">"d"</span> <span class="o">+</span> <span class="nx">g</span> <span class="o">+</span> <span class="nx">z</span> <span class="o">+</span> <span class="s2">"f"</span> <span class="o">+</span> <span class="s2">"h"</span> <span class="o">+</span> <span class="s2">"z"</span>
</code></pre>
</div>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="mi">6</span><span class="p">;</span>
<span class="s2">"b"</span> <span class="o">+</span> <span class="nx">a</span> <span class="o">+</span> <span class="s2">"cd"</span> <span class="o">+</span> <span class="nx">g</span> <span class="o">+</span> <span class="nx">z</span> <span class="o">+</span> <span class="s2">"fhz"</span><span class="p">;</span>
</code></pre>
</div>

<p>:</p>

<p>Context- and scope- aware variable renaming.</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">globalVariableName</span> <span class="o">=</span> <span class="mi">42</span><span class="p">;</span>
<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">longLocalVariableName</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">longLocalVariableName</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">longLocalVariableName</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">globalVariableName</span> <span class="o">=</span> <span class="mi">42</span><span class="p">;</span>
<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">a</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

<h2 id="usage">Usage</h2>

<h3 id="babel-preset">Babel Preset</h3>

<p>If you already use Babel, you can just add the  preset (<code class="highlighter-rouge">babel-preset-babili</code>) to your config.</p>

<p>You will want to enable this only in production, so use the  which uses either <code class="highlighter-rouge">process.env.BABEL_ENV</code> or <code class="highlighter-rouge">process.env.NODE_ENV</code></p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>npm install babel-preset-babili --save-dev
</code></pre>
</div>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="c1">// previous .babelrc</span>
<span class="p">{</span> <span class="s2">"presets"</span><span class="err">:</span> <span class="p">[</span><span class="s2">"es2015"</span><span class="p">]</span> <span class="p">}</span>
<span class="c1">// .babelrc</span>
<span class="p">{</span>
  <span class="s2">"presets"</span><span class="err">:</span> <span class="p">[</span><span class="s2">"es2015"</span><span class="p">],</span>
  <span class="s2">"env"</span><span class="err">:</span> <span class="p">{</span>
    <span class="s2">"production"</span><span class="err">:</span> <span class="p">{</span>
      <span class="s2">"presets"</span><span class="err">:</span> <span class="p">[</span><span class="s2">"babili"</span><span class="p">]</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

<p>One issue with using Babili as a preset is that then Babili would only run per-file rather than on the whole bundle. Minification usually happens after bundling as with the “UglifyJsPlugin” in webpack. However, running it after bundling 
would lose the speed benefits (needs to be measured) of doing the transpiling/minification in the same step. Again, this is something we need to think about: how to intergrate or pass more information to the bundler.</p>

<h3 id="babili-cli">Babili CLI</h3>

<p>If you don’t use Babel, you can use our standalone CLI tool . (Currently it’s just a wrapper for <code class="highlighter-rouge">babel-cli</code> + the preset). You could run this after transpiling (or not) in place of Uglify.</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>npm install babili --save-dev
</code></pre>
</div>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>babili src -d lib
<span class="c"># equivalent to </span>
<span class="c"># babel src -d lib --presets=babili --no-babelrc</span>
</code></pre>
</div>

<h3 id="webpack">Webpack</h3>

<p>You can just use the preset with .</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>npm install babel-core babel-loader babel-preset-babili
</code></pre>
</div>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="nx">module</span><span class="err">:</span> <span class="p">{</span>
  <span class="nl">loaders</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="na">test</span><span class="p">:</span> <span class="sr">/</span><span class="se">\.</span><span class="sr">js$/</span><span class="p">,</span>
      <span class="na">loader</span><span class="p">:</span> <span class="s1">'babel'</span><span class="p">,</span>
      <span class="na">query</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">presets</span><span class="p">:</span> <span class="p">[</span><span class="s1">'babili'</span><span class="p">]</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</code></pre>
</div>

<p>Or use it seperately with the , who also works on Babili).</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>npm install babili-webpack-plugin --save-dev
</code></pre>
</div>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="c1">// webpack.config.js</span>
<span class="kr">const</span> <span class="nx">BabiliPlugin</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"babili-webpack-plugin"</span><span class="p">);</span>
<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">entry</span><span class="p">:</span> <span class="c1">//...,</span>
  <span class="na">output</span><span class="p">:</span> <span class="c1">//...,</span>
  <span class="na">plugins</span><span class="p">:</span> <span class="p">[</span>
    <span class="k">new</span> <span class="nx">BabiliPlugin</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span>
  <span class="p">]</span>
<span class="p">}</span>
</code></pre>
</div>

<p>We want to have a better story with integration with Webpack/bundlers in the near future! Also check out .</p>

<h2 id="proscons">Pros/Cons</h2>

<p><strong>Uglify Pros</strong></p>

<ul>
  <li>
    <p>No change to existing tooling if you are already minifying.</p>
  </li>
  <li>
    <p>Battle-tested/production ready (it’s been around for years and has wide adoption (we are all using it)!</p>
  </li>
  <li>
    <p>It’s super fast and outputs small code already.</p>
  </li>
</ul>

<p><strong>Uglify Cons</strong></p>

<ul>
  <li>
    <p>Custom parser/tooling, so it’s difficult to output/minify ES2015+ and make changes.</p>
  </li>
  <li>
    <p>Not modular, and currently no way to create own plugins/minification strategies outside of core.</p>
  </li>
</ul>

<p><strong>Babili Pros:</strong></p>

<ul>
  <li>
    <p>ES2015+ aware (nothing special needs to be done because we can use the babylon parser) and Babel will update as standards/browsers update.</p>
  </li>
  <li>
    <p>Uses the existing Babel toolchain, can consume as a Babel preset or standalone.</p>
  </li>
  <li>
    <p>Potential for custom smart transforms for React/Flow, etc.</p>
  </li>
  <li>
    <p>Could use Flow/Typescript annotations to enable advanced minification.</p>
  </li>
  <li>Each minification step can be split into its own plugin, and there’s plenty of options for customization. This makes it easier to contribute and to find/submit issues for specific problems. It also means that people can independently create their own experimental plugins before upstreaming them into core.
    <ul>
      <li>For example:  just turns <code class="highlighter-rouge">true</code> into <code class="highlighter-rouge">!0</code> which is straightforward to write.</li>
    </ul>
  </li>
  <li>Should be an easy transition if people are familiar with transpiling with Babel already.</li>
</ul>

<p><strong>Babili Cons:</strong></p>

<ul>
  <li>
    <p>We released it early, so there aren’t many users yet. Early adopters will have to deal with a tool that isn’t as battle-tested as Uglify at first.</p>
  </li>
  <li>
    <p>Right now, the performance is worse/size is worse than Uglify on our benchmark tests. However, this is something we’ll be focusing on improving.</p>
  </li>
</ul>

<p>TL;DR: Babili should be able to keep up with the ECMAScript standard as new features get added as well as target the environments you need to support. It has a lot of potential: it may not be as production-ready as Uglify at the moment since it was just released but as we continue to optimize with more users it should be more than capable.</p>

<h2 id="how-to-help">How to Help</h2>

<p> had been working on this project for a while but we decided to release it earlier as a beta to allow the community to test it out and both contribute through reporting bugs and patches.</p>

<p>It’s still early days for this project so there’s a lot to help out with! Our next priority is to make Babili more stable/robust for a 1.0.0 release.</p>

<p>We will be working to get it as fast and produce code sizes as small as Uglify/ in simple mode.</p>

<ul>
  <li><strong>Testing on more codebases</strong>: This will help everyone greatly. Because a minifier runs on all code it has potential for a lot of edge cases/bugs not covered in our basic unit tests. Hopefully we can setup a way to report issues easily; now that the  supports the minifier it should be easier to reproduce/link bugs. In the future we want options to enable specific plugins so we can pinpoint minimal reproduction steps.</li>
  <li><strong>Project infrastructure/maintenance</strong>: We want to create more robust benchmarking, setup integration tests on popular open source projects (run the minifier, and then run all the project’s unit tests).</li>
  <li><strong>Check the output</strong>: If something can be more simplified, it should be straightforward to create an issue and suggest a new transformation to an existing plugin or create a new one. We have the benefit of being modular so anyone can also make their own plugins and then we can figure out whether to include them in the core preset.</li>
</ul>

<p>Huge thanks to  project!</p>
---------------
<h1 id="#title_22" >23、6.14.0 Released</h1>

[https://babeljs.io/blog/2016/08/24/6.14.0](https://babeljs.io/blog/2016/08/24/6.14.0)
<p>A new <code class="highlighter-rouge">es2017</code>, <code class="highlighter-rouge">latest</code> preset, and lots of fixes in this release.</p>

<p>It’s been a while since the last post! If you haven’t seen it, we started posting some notes at .</p>

<p>And… we usually post , but I figured it could go as a post as well for minor versions.</p>

<h2 id="take-me-to-flavor-town">TAKE ME TO FLAVOR TOWN</h2>

<p> A new preset for <code class="highlighter-rouge">es2017</code>: it includes the 2 previous stage-3 plugins:</p>

<ul>
  <li>async/await (via )</li>
  <li>.</li>
  <li>Thanks to  for transferring the npm package</li>
</ul>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="c1">// .babelrc</span>
<span class="p">{</span> <span class="s2">"presets"</span><span class="err">:</span> <span class="p">[</span><span class="s2">"es2017"</span><span class="p">]</span> <span class="p">}</span>
</code></pre>
</div>

<p> A new preset called <code class="highlighter-rouge">latest</code> to include at transforms ES2015+ (currently ES2015, ES2016, ES2017). You can also pass options down to the <code class="highlighter-rouge">es2015</code> preset.</p>

<blockquote>
  <p>We also will be working on getting a target/env (autoprefixer) preset soon.</p>
</blockquote>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="c1">// .babelrc</span>
<span class="p">{</span> <span class="s2">"presets"</span><span class="err">:</span> <span class="p">[</span><span class="s2">"latest"</span><span class="p">]</span> <span class="p">}</span>
<span class="c1">// with options</span>
<span class="p">{</span> <span class="s2">"presets"</span><span class="err">:</span> <span class="p">[</span>
  <span class="p">[</span><span class="s2">"latest"</span><span class="p">,</span> <span class="p">{</span>
    <span class="s2">"es2015"</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">"modules"</span><span class="p">:</span> <span class="kc">false</span> 
    <span class="p">}</span>
  <span class="p">}]</span>
<span class="p">]</span> <span class="p">}</span>
</code></pre>
</div>

<p> plugins support this option.</p>

<blockquote>
  <p><code class="highlighter-rouge">spec</code> for arrow functions adds a runtime check to make sure arrow functions are not instantiated (since they transform into normal functions).
<code class="highlighter-rouge">spec</code> for template literals wraps all expressions in <code class="highlighter-rouge">String</code> rather than simple string concatenation.</p>
</blockquote>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="c1">// .babelrc</span>
<span class="p">{</span>
  <span class="s2">"presets"</span><span class="err">:</span> <span class="p">[</span>
    <span class="p">[</span><span class="s2">"es2015"</span><span class="p">,</span> <span class="p">{</span> <span class="s2">"spec"</span><span class="p">:</span> <span class="kc">true</span> <span class="p">}]</span>
  <span class="p">]</span>
<span class="p">}</span>
</code></pre>
</div>

<p> soon.</p>

<p> sourcemaps will also now have a <code class="highlighter-rouge">names</code> field for identifiers to allow debuggers to do re-aliasing of mangled identifiers.</p>

<p> For spec compilancy, we now will throw on a file with multiple export default.</p>

<h3 id="notable-bug-fixes">Notable Bug Fixes</h3>

<p> Fix class inheritance in IE &lt;=10 without <code class="highlighter-rouge">loose</code> mode.</p>

<p> Support the <code class="highlighter-rouge">ignore</code> config option in <code class="highlighter-rouge">.babelrc</code>.</p>

<p> Flow-only class props were not be stripped without <code class="highlighter-rouge">transform-class-properties</code>.</p>

<h4 id="guy-fieri">Guy Fieri</h4>
<p>)</p>

<p>)</p>

<p>Thanks!</p>

<blockquote>
  <p>And check out  for the rest of the changelog.</p>
</blockquote>
---------------
<h1 id="#title_23" >24、Babel Doctor</h1>

[https://babeljs.io/blog/2015/11/03/babel-doctor](https://babeljs.io/blog/2015/11/03/babel-doctor)
<blockquote>
  <p>Babel Doctor is <s>heavily inspired</s> ripped from the awesome
 by
.</p>
</blockquote>

<hr />

<blockquote>
  <p>babel-doctor has been removed as of v6.18.0 of <code class="highlighter-rouge">babel-cli</code>. If anyone needs it we will bring it back as a standalone npm module called <code class="highlighter-rouge">babel-doctor</code>.</p>
</blockquote>

<p>We launched  last week. This was a
pretty big change from the previous batteries included Babel and with it came a host of
potential environment issues.</p>

<p>In order to combat this we now include a <code class="highlighter-rouge">babel-doctor</code> command with the <code class="highlighter-rouge">babel-cli</code> that
detects common problems with your Babel installation such as:</p>

<ul>
  <li>Missing <code class="highlighter-rouge">.babelrc</code>.</li>
  <li>Duplicate Babel core modules</li>
  <li>Outdated Babel core modules</li>
</ul>

<h2 id="usage">Usage</h2>

<p>First, make sure you have the Babel CLI installed.</p>

<div class="language-sh highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>npm install -g babel-cli@^6.1.0
</code></pre>
</div>

<p>Then simply <code class="highlighter-rouge">cd</code> into your project directory and run:</p>

<div class="language-sh highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>babel-doctor

Babel Doctor
Running sanity checks on your system. This may take a few minutes...

✔ Found config at /Users/sebastian/.babelrc
✔ All babel packages appear to be up to date
✔ No duplicate babel packages found

Everything looks all right!

</code></pre>
</div>

<hr />

<p>We hope this makes it easier to setup and use Babel in your project.</p>

<p>Happy hacking!</p>
---------------
<h1 id="#title_24" >25、文章： Zendesk的TensorFlow产品部署经验</h1>
Wai Chee Yau
[http://www.infoq.com/cn/articles/how-zendesk-serves-tensorflow-models-in-production?utm_campaign=infoq_content&utm_source=infoq&utm_medium=feed&utm_term=global](http://www.infoq.com/cn/articles/how-zendesk-serves-tensorflow-models-in-production?utm_campaign=infoq_content&utm_source=infoq&utm_medium=feed&utm_term=global)
<img src="http://www.infoq.com/resource/articles/how-zendesk-serves-tensorflow-models-in-production/zh/smallimage/logo-cloud.jpg"/><p>Zendesk是美国一家做客户服务的公司，提供产品创新和定价等服务，他们的机器学习平台使用的是TensorFlow；之前InfoQ从TensorFlow与Kubernetes/Docker的结合上给出了一些企业实践文章，而在模型部署上，这篇文章是个好例子；Zendesk使用TensorFlow Serving来加载TensorFlow模型，使用修改后的protobuf生成原生可用（bazel-free）的Python gRPC客户端，同时介绍了模型压缩、AB测试等经验。此文由原作者授权，InfoQ中文站翻译并分享。</p> <i>By Wai Chee Yau</i> <i> Translated by 尚剑</i>
---------------
<h1 id="#title_25" >26、Datasets for Machine Learning</h1>

[http://blog.webkid.io/datasets-for-machine-learning/](http://blog.webkid.io/datasets-for-machine-learning/)
<p>An important step in machine learning is creating or finding suitable data for training and testing an algorithm. Working with a good data set will help you to avoid or notice errors in your algorithm and improve the results of your application. As creating your own dataset is a very time consuming task in most cases, in this article I will present you with some useful sets for text classification and image classification problems.</p>
<p></p><h4 class="index-headline"></li></ul><p></p>
<p></p><h4 class="index-headline"></li></ul><p></p>
<h1 id="Text-classification">Text classification</h1><p>In the following sections you will find datasets that can be used for common text classification tasks such as the detection of spam messages, sentiment analysis and the classification by the subject of a document.</p>
<h3 id="•-Spam-Non-Spam">• Spam - Non Spam</h3><p>The task of spam filtering is very common in text classification. Therefore, a lot of datasets can be found for this purpose.</p>
<p><strong>SMS Spam Corpus</strong><br>The  consists of text messages belonging to one of two classes. Each element is either labeled as spam or ham. The set can be downloaded as big (1002 ham, 322 spam) or small (1002 spam, 82 spam) version.</p>
<p><strong>Enron Dataset</strong><br>If you want to have a look at spam filtering in emails instead, you might be interested in the , which provides a collection of thousands of mails, classified as spam or ham. It can be downloaded in a raw or preprocessed version.</p>
<p>Other datasets for spam classification in mails that might be interesting for you are .</p>
<h3 id="•-Sentiment-Analysis">• Sentiment Analysis</h3><p>Another task that can be solved by Machine Learning is sentiment analysis of texts. An example for this task would be finding out if a text states a positive or negative opinion about a certain subject.</p>
<p><strong>Twitter Sentiment Analysis Training Corpus</strong><br>In case you’re interested in tweet sentiment classification, the  might be the dataset you’re looking for. It consists of more then 1 million tweets in a .csv file. Each element is labeled as either positive (1) or negative (0).</p>
<p><strong>Movie Review Data</strong><br>More complex texts can be found in the , which provides a collection of 1,000 positive and 1,000 negative movie comments. The comments are available as unprocessed .html files and as processed texts. Part of this dataset is also a collection of sentences labeled as subjective or objective.</p>
<p>A list of more useful datasets for sentiment classification was put together in  by Kavita Ganesan.</p>
<h3 id="•-Classification-by-subject">• Classification by subject</h3><p>Classifying documents by their subject is a complex problem. Depending on the kinds of documents you want to work with, you will need an appropriate dataset for that exact case. An often investigated case is the classification of newspaper articles.</p>
<p><strong>20 Newsgroups</strong><br>The  contains around 20,000 documents which are almost evenly distributed over 20 categories. The data is split into a train and test set. Some of the newsgroups are closely related, while others have nothing to do with each other. The groups in the dataset are the following:</p>
<img src="/datasets-for-machine-learning/20newsgroups.png" alt="Excerpt of the Chars74K dataset" title="Excerpt of the Chars74K dataset">
<p style="font-size:10px; font-style: italic; text-align:center;">Organization of the 20 newsgroups dataset, Source: </p>

<p><strong>Reuters-21578</strong><br>A dataset that is often used for evaluating text classification algorithms is the . It consists of texts that appeared in the Reuters newswire in 1987 and was put together by Reuters Ltd. staff. Often only subsets of this dataset are used as the documents are not evenly distributed over the categories. In many cases only the 10 or 90 categories with the most documents are used.</p>
<p>A very helpful collection of single labeled text datasets is provided on . Not only will you find an overview of useful data, but also human readable and preprocessed versions of the datasets, which might save you a lot of time and trouble.</p>
<h1 id="Image-classification">Image classification</h1><p>In the following sections we will introduce some datasets that you might find useful if you want to use machine learning for image classification. The listed datasets range from simple handwritten numbers to images of complex objects and might be useful for getting started with image classification or testing your algorithm.</p>
<h3 id="•-Numbers-and-Letters">.</p>
<img src="/datasets-for-machine-learning/mnist.png" alt="Excerpt of the MNIST dataset" title="Excerpt of the MNIST dataset">
<p style="font-size:10px; font-style: italic; text-align:center;">Excerpt of the MNIST dataset</p>

<p><strong>Chars74K</strong><br>Another task that can be solved by machine learning is character recognition. For this purpose the  can be used for testing and training. It contains more than 74,000 images of letters and numbers which are categorized into 64 different classes. The characters are handwritten, obtained from natural images or taken from computer fonts. Due to the bigger amount of classes and the fact that the data is available as color images, this dataset is a lot more complex than the MNIST set.</p>
<img src="/datasets-for-machine-learning/chars74k.png" alt="Excerpt of the Chars74K dataset" title="Excerpt of the Chars74K dataset">
<p style="font-size:10px; font-style: italic; text-align:center;">Excerpt of the Chars74K dataset, Source: </p>

<h3 id="•-Faces">.</p>
<img src="/datasets-for-machine-learning/frontalfaces.png" alt="Frontal Faces in the Wild dataset" title="Frontal Faces in the Wild dataset">
<p style="font-size:10px; font-style: italic; text-align:center;">Examples from the Frontal Faces dataset</p>

<p><strong>Labeled Faces in the Wild</strong><br>A commonly used set for face detection is the . It holds more then 13,000 images that were collected from the web. Many of the people in the set are represented by more than one picture, which is useful for face recognition evaluation.</p>
<img src="/datasets-for-machine-learning/lfw.png" alt="Labeled Faces in the Wild dataset" title="Labeled Faces in the Wild dataset">
<p style="font-size:10px; font-style: italic; text-align:center;">Examples from the Labeled Faces in the Wild dataset</p>

<h3 id="•-Animals">. It covers 37 categories of different cat and dog races with 200 images per category. Unlike a lot of other datasets, the pictures included are not the same size. The cool thing about this dataset is that not only the images are provided, but also information about the position of the animal’s face and about the fore- and background of the image (see image below).</p>
<img src="/datasets-for-machine-learning/pet-dataset.png" alt="Examples from the Oxford-IIIT pet dataset" title="Examples from the Oxford-IIIT pet dataset">
<p style="font-size:10px; font-style: italic; text-align:center;">Examples from the Oxford-IIIT pet dataset, Source: </p>

<p><strong>KTH-ANIMALS</strong><br>In case you are looking for a more general animal dataset, the  and provides images for 19 different classes. Each class is represented by around 100 pictures of different sizes. As in the Oxford-IIIT pet dataset, there is also information provided about the fore- and background.</p>
<img src="/datasets-for-machine-learning/kth.png" alt="Overview of the the KTH-Animals dataset" title="Overview of the the KTH-Animals dataset">
<p style="font-size:10px; font-style: italic; text-align:center;">Overview of the KTH-Animals dataset Source: </p>

<h3 id="•-Various-objects">.<br>The CIFAR-10 dataset consists of 60,000 images, equally distributed over 10 categories. In case you are looking for a more complex set with more categories, you can use the CIFAR-100 dataset, which provides pictures from 100 classes and 20 superclasses.</p>
<img src="/datasets-for-machine-learning/cifar10.png" alt="Excerpt of the CIFAR-10 dataset" title="Excerpt of the CIFAR-10 dataset">
<p style="font-size:10px; font-style: italic; text-align:center;">Excerpt of the CIFAR-10 dataset, Source: </p>

<p>Both CIFAR sets can be downloaded for python, matlab or as binary version. If you prefer to work with the data as png images, you can use  to convert the dataset.</p>
<p><strong>STL-10</strong><br>The images provided in the CIFAR datasets are very small, so if you want to work with higher resolution pictures, the  could be interesting for you. The dataset contains labeled pictures of 10 classes and is similar to the CIFAR-10 dataset, but the images have the size of 96x96 pixels. There are also fewer labeled examples per class, but the set has a large collection of unlabeled images that can be used for unsupervised training.</p>
<img src="/datasets-for-machine-learning/stl10.png" alt="Excerpt of the STL-10 dataset" title="Excerpt of the STL-10 dataset">
<p style="font-size:10px; font-style: italic; text-align:center;">Excerpt of the STL-10 dataset, Source: </p>

<style>
  ul.indexlist a,
  h4.index-headline a{
    text-decoration: none;
  }
  ul.indexlist a:hover,
  h4.index-headline a:hover{
    text-decoration: underline;
  }
  h4.index-headline{
    margin:0
  }
</style>
---------------
<h1 id="#title_26" >27、视频演讲： 美拍直播在平衡中体系化演化实践</h1>
洪小军
[http://www.infoq.com/cn/presentations/the-practice-of-system-evolution-in-meipai?utm_campaign=infoq_content&utm_source=infoq&utm_medium=feed&utm_term=global](http://www.infoq.com/cn/presentations/the-practice-of-system-evolution-in-meipai?utm_campaign=infoq_content&utm_source=infoq&utm_medium=feed&utm_term=global)
<img src="http://www.infoq.com/resource/presentations/the-practice-of-system-evolution-in-meipai/zh/mediumimage/hongxiaojun270.jpg"/><p>美拍具有短视频和直播两大属性，在过去的2年多业务在快速发展，系统也在不断朝着高可用、可扩展的方向发展。在这个过程中出现过单场直播近百万同时在线、近十亿点赞和千万评论，直播IM如何去演化做支撑？流媒体直播如何一步步朝着智能融合调度方向发展，为未来的直播进一步发展和演化铺平道路。在这个过程中，我们在不断的搭积木，并且逐步在形成体系化的平台和系统。我们认为未来直播将是多数app的一种基础功能，而不是完整的产品，美图全线拥有10几款产品，所以我们一直努力在把直播做体系化，为将来的业务发展提供更好的技术支撑。在这个议题中也会探讨下美图的部分相关的基础设施的体系化工作。</p> <i>By 洪小军</i>
---------------
<h1 id="#title_27" >28、Brexit in interactive maps and charts</h1>

[http://blog.webkid.io/brexit-maps-charts/](http://blog.webkid.io/brexit-maps-charts/)
<p>This morning, Britain voted to leave the European Union. Here are some maps and charts that show the referendum results and what consequences might follow.</p>
<h3 id="Financial-Times-EU-referendum-results"></h3><p>Detailed breakdown of the referendum results in an interactive map as well as charts for every regional poll.</p>
<p><img src="ft-eu-referendum-results.png" alt="ft-eu-referendum-results"></p>
<h3 id="Reuters-Britain-votes-to-leave-EU"></h3><p>Interactive map of the referendum results.</p>
<p><img src="reuters-map.png" alt="reuters-map"></p>
<h3 id="The-New-York-Times-How-Britain-voted-in-the-E-U-Referendum"></h3><p>A static map of referendum results with focus on London.</p>
<p><img src="nyt-map.png" alt="nyt-map"></p>
<h3 id="Wall-Street-Journal-‘Brexit’-Referendum"></h3><p>Live results from the referendum with focus on stock development.</p>
<p><img src="wsj-map.png" alt="wsj-map"></p>
<h3 id="The-Guardian-EU-referendum-results-in-full-find-out-how-your-area-voted"></h3><p>Live map of the results as well as scatter plots with demographic data.</p>
<p><img src="guardian-map.png" alt="guardian-map"></p>
<h3 id="NZZ-Alle-Resultate-aus-Grossbritannien-auf-einen-Blick"></h3><p>Map of results plus some charts with more detailed findings.</p>
<p><img src="nzz-map.png" alt="nzz-map"></p>
<h3 id="The-New-York-Times-What-Is-Driving-the-‘Brexit’-Debate-and-What-a-‘Leave’-Vote-Could-Mean"></h3><p>Some charts that explain what could happen if Britain leaves the EU.</p>
<p><img src="nyt-charts.png" alt="nyt-charts"></p>
<h3 id="Financial-Times-A-people-divided"></h3><p>Scatter plot of voting results vs. education.</p>
<blockquote class="twitter-tweet" data-lang="en"><p lang="en" dir="ltr">This chart shows the less well educated voted to leave in the highest numbers in the EU vote </blockquote>

<h3 id="Quartz-World-currencies-are-tanking-on-Brexit-but-bitcoin-is-surging"></h3><p>Chart that shows how Bitcoin price is increasing whereas most other currencies are weakening.</p>
<p><img src="quartz-chart.png" alt="quartz-chart"></p>
<h3 id="NZZ-Map-of-voter-participation"></blockquote>


<script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>
---------------
<h1 id="#title_28" >29、架构周报| 浅析MySQL JDBC连接配置上的两个误区</h1>
ArchSummit峰会
[http://www.infoq.com/cn/news/2017/03/Arch-weekly-MySQL-JDBC?utm_campaign=infoq_content&utm_source=infoq&utm_medium=feed&utm_term=global](http://www.infoq.com/cn/news/2017/03/Arch-weekly-MySQL-JDBC?utm_campaign=infoq_content&utm_source=infoq&utm_medium=feed&utm_term=global)
<img src="http://www.infoq.com/styles/i/logo_bigger.jpg"/><p>浅析MySQL JDBC连接配置上的两个误区</p> <i>By ArchSummit峰会</i>
---------------
<h1 id="#title_29" >30、精通敏捷测试</h1>
Shane Hastie
[http://www.infoq.com/cn/news/2017/03/mastering-agile-testing?utm_campaign=infoq_content&utm_source=infoq&utm_medium=feed&utm_term=global](http://www.infoq.com/cn/news/2017/03/mastering-agile-testing?utm_campaign=infoq_content&utm_source=infoq&utm_medium=feed&utm_term=global)
<img src="http://www.infoq.com/styles/i/logo_bigger.jpg"/><p>采用敏捷开发实践可以加速软件交付已经成为共识。但是，如果没有将质量保证实践直接纳入到开发过程，就不可避免地会出现产品质量问题。为了始终可以获得高质量的产品，工作实践和团队角色都需要作出改变，从而做到品质优先，而不是在最后进行测试。</p> <i>By Shane Hastie</i> <i> Translated by 谢丽</i>
---------------
<h1 id="#title_30" >31、Analysing Satellite Images With Google Earth Engine</h1>

[http://blog.webkid.io/analysing-satellite-images-with-google-earth-engine/](http://blog.webkid.io/analysing-satellite-images-with-google-earth-engine/)
<p>In our  to calculate the data and used it in order to create an interactive map application.</p>
<h4 id="The-Technology">“. </p>
<h4 id="Green-Cities-Project"> to measure the vegetation within the official city borders. The advantage of this approach is that not only parks and forests are taken into account, but also gardens, single trees and smaller green areas. Just everything you can see on the satellite images.</p>
<p>Other examples for journalistic projects that use satellite images are ““ by The New York Times.</p>
<h2 id="Getting-Started-With-Earth-Engine">.</p>
<h4 id="Loading-Data">Loading Data</h4><p>With Earth Engine you can easily load data stored in Fusion Tables. In our case we had to load the shape of Germany and the different ones of the cities:</p>
<pre><code class="language-javascript">var germany = ee.FeatureCollection(&#39;ft:1KDrYXBDlAx1fhcfmWRx7u_qqN2O_gwBNInjnGmnZ&#39;);
var cities = ee.FeatureCollection(&#39;ft:1w4PgU3okfzwKFEIpH32oPMlOtei6hUWa9tkXv5Rt&#39;);
</code></pre>
<p>The Fusion Table with the polygons of the cities also containes data about the cities themselfes, like the names, population and the state they are in.<br><code>FeatureCollections</code> have helper methods to aggregate, sort or filter data and many more. </p>
<h4 id="Using-Landsat-Images"> of the public catalogue. There are satellite images from Landsat or Sentinel but also geopysical, climate or demographic data sets you can work with. We decided to work with Landsat imagery because it provides images from a period of more than 30 years and the resolution with 30x30m was enough for our use case. The images we used in our application were shot between 2005 and 2015. We created a <code>FeatureCollection</code> as a kind of lookup for the Landsat <code>ImageCollections</code> we wanted to use for our calculations:</p>
<pre><code class="language-javascript">var landsats = ee.FeatureCollection([
  // we don&#39;t store geometry (null), only the properties (collection, nir, red, from and to) we need
  ee.Feature(null, { collection: ee.ImageCollection(&#39;LANDSAT/LT5_L1T_TOA&#39;), nir: &#39;B4&#39;, red: &#39;B3&#39;, from: 1984, to: 1992 }),
  ee.Feature(null, { collection: ee.ImageCollection(&#39;LANDSAT/LT4_L1T_TOA&#39;), nir: &#39;B4&#39;, red: &#39;B3&#39;, from: 1992, to: 1994 }),
  ee.Feature(null, { collection: ee.ImageCollection(&#39;LANDSAT/LT5_L1T_TOA&#39;), nir: &#39;B4&#39;, red: &#39;B3&#39;, from: 1994, to: 1999 }),
  ee.Feature(null, { collection: ee.ImageCollection(&#39;LANDSAT/LE7_L1T_TOA&#39;), nir: &#39;B4&#39;, red: &#39;B3&#39;, from: 1999, to: 2003 }),
  ee.Feature(null, { collection: ee.ImageCollection(&#39;LANDSAT/LT5_L1T_TOA&#39;), nir: &#39;B4&#39;, red: &#39;B3&#39;, from: 2003, to: 2012 }),
  ee.Feature(null, { collection: ee.ImageCollection(&#39;LANDSAT/LE7_L1T_TOA&#39;), nir: &#39;B4&#39;, red: &#39;B3&#39;, from: 2012, to: 2013 }),
  ee.Feature(null, { collection: ee.ImageCollection(&#39;LANDSAT/LC8_L1T_TOA&#39;), nir: &#39;B5&#39;, red: &#39;B4&#39;, from: 2013, to: 2016 })
]);
</code></pre>
<p>The properties are the ImageCollection, the names of the bands we need for the calculation of the NDVI (near infrared and red) and the time range (from - to) where the satellite was active. We then wrote a helper function that returns the matching Landsat data for the passed year:</p>
<pre><code class="language-javascript">function getLandsatByYear(year) {
  return landsats
    // filter where passed year is lower than or equal &#39;from&#39; property 
    .filter(ee.Filter.lte(&#39;from&#39;, year)
    // and filter where passed year is greater than &#39;to&#39; property 
    .and(ee.Filter.gt(&#39;to&#39;, year)))
    // return first matching in order to return a single object
    .first();
}
</code></pre>
<p>There is a  of the different bands of the Landsat 8 you can check out, if you are interested.</p>
<h4 id="Creating-An-Image-Collection">Creating An Image Collection</h4><p>For our analysis we had to create an image collection that only contains the images we could really use in our application. We had to filter the different Landsat collections by:</p>
<ul>
<li><strong>bounds</strong> - Only the area of Germany</li>
<li><strong>time range</strong> - Only the vegetation-rich months june and july of the years 2005 - 2015</li>
<li><strong>cloud cover</strong> - Only images with less than 5% clouds</li>
</ul>
<p>Fortunately the <code>ImageCollection</code> object has functions like <code>filterBounds</code>, <code>filterDate</code> or <code>filterMetadata</code> to do this: </p>
<pre><code class="language-javascript">var accumulateImages = function(year, imageCollection){
  // eg. 2006-06-01
  var startDate = ee.Date(ee.String(ee.Number(year).toInt()).cat(startDay));
  // eg. 2006-07-31
  var endDate = ee.Date(ee.String(ee.Number(year).toInt()).cat(endDay));
  var landsat = getLandsatByYear(year);

  // a collection of images for the passed year and an added ndvi band 
  var ndviCollection = ee.ImageCollection(landsat.get(&#39;collection&#39;))
    .filterBounds(germany)
    .filterDate(startDate, endDate)
    .filterMetadata(&#39;CLOUD_COVER&#39;, &#39;less_than&#39;, cloudCoverMax)
    .map(addNDVI(landsat));

  return ee.ImageCollection(imageCollection).merge(ndviCollection);
}
</code></pre>
<p>We then iterated over a list containing the years between and 2005 and 2015 and used the function above to accumulate our filtered image collection (<code>resultCollection</code>).</p>
<pre><code class="language-javascript">var yearList = ee.List.sequence(2005, 2015);
var resultCollection = yearList.iterate(accumulateImages, ee.ImageCollection([]));
</code></pre>
<p>As you can see in the <code>accumulateImages</code> we also used a function called <code>addNDVI</code>. In this function we add a new band to every image in our collection. It is the band that holds the ndvi values for every pixel in the images:</p>
<pre><code class="language-javascript">function addNDVI(landsat) {
  return function(image) {
    return image.addBands(
      image.normalizedDifference([
        landsat.get(&#39;nir&#39;), landsat.get(&#39;red&#39;)
      ]).rename(&#39;ndvi&#39;));
  }
}
</code></pre>
<p>We used the <code>normalizedDifference</code> function of the <code>Image</code> object to calculate the NDVI. You could also do the calculation on your own like this: </p>
<pre><code class="language-javascript">var red = image.select(&#39;B3&#39;);
var nearInfrared = image.select(&#39;B4&#39;);

image.addBands(
  nearInfrared.subtract(red).divide(nearInfrared.add(red))
).rename(&#39;ndvi&#39;));
</code></pre>
<h4 id="A-Green-Amount-Value-For-Every-City">A Green Amount Value For Every City</h4><p>In our final application we wanted to assign a rank to the vegetation amount of every city. Therefore we had to create one image based on our ImageCollection which we can use to calculate our result. For creating the final image we used the median reducer. This reducer takes all pixels of the images inside the ImageCollection that are on top of each other and creates a new median pixel:</p>
<pre><code class="language-javascript">var resultCollectionReduced = ee.ImageCollection(resultCollection)
  .select(&#39;ndvi&#39;)
  .reduce(ee.Reducer.median());
</code></pre>
<p>You can select a certain band (in this case the “ndvi” band) of the ImageCollection and than use a reducer. There are different reducers like “min”, “max”, “sum” or “median”, the one we used. </p>
<img src="/analysing-satellite-images-with-google-earth-engine/reducer.png" alt="reducer" title="reducer">
<p>After this operation we have a NDVI value for every pixel in our image. We can now count the pixels inside the city borders and then calculate the amount of vegetation. We took a NDVI threshold of 0.45, so every pixel that has a NDVI which is equal or greater that 0.45 has vegetation and everything below doesn’t. We did this with the following function:</p>
<pre><code class="language-javascript">function addGreenamount(ndviReduced, threshold, feature){
  var ndviAll = ndviReduced.gte(-1);
  var ndviHigh = ndviReduced.gte(threshold);

  // count all pixels
  var allReducedSum = ndviAll.reduceRegion({
    reducer: ee.Reducer.sum(),
    geometry: feature.geometry(),
    scale: 30
  });

  // count all pixels with an NDVI value &gt;= passed threshold
  var partReducedSum = ndviHigh.reduceRegion({
    reducer: ee.Reducer.sum(),
    geometry: feature.geometry(),
    scale: 30
  });

  var value_all = ee.Number(allReducedSum.get(&#39;ndvi_median&#39;));
  var value_high = ee.Number(partReducedSum.get(&#39;ndvi_median&#39;));

  // return amount of pixels with a NDVI value &gt;= passed threshold
  return value_high.divide(value_all).multiply(100);
}
</code></pre>
<p>We can now call this function on all the cities in our FeatureCollection and add a new property “greenamount” to every feature that gets returned by the <code>addGreenamount</code> function.</p>
<pre><code class="language-javascript">cities = cities.map(function(feature){
  return feature.set(
    &#39;greenamount&#39;, addGreenamount(resultCollectionReduced, 0.45, feature)
  );
});
</code></pre>
<h4 id="Exporting-The-Results">Exporting The Results</h4><p>In our case we needed a colored image of the NDVI values for our visualization and the polygons of the cities with the added vegetation amounts. For the image export we have to create a RGB image. For this we take the final image and use the native <code>visualize</code> function. Then we can export it with the Earth Engine <code>Export</code> function:</p>
<pre><code class="language-javascript">var ndviRGB = resultCollectionReduced.visualize({
  min: 0.45,
  max: 1,
  palette: [&#39;#101721&#39;,&#39;#282e36&#39;, &#39;#2f423d&#39;, &#39;#345744&#39;, &#39;#376d4b&#39;, &#39;#398552&#39;, &#39;#399b58&#39;, &#39;#37b35e&#39;, &#39;#30cc64&#39;, &#39;#24e56a&#39;, &#39;#00ff70&#39;]
});

// export colored map of germany
Export.image(ndviRGB, &#39;germany_ndvi&#39;, {
  scale: 30,
  region: germany.geometry(),
  maxPixels: 130000000000
});
</code></pre>
<p>This creates a TIF image and stores it in your Google Drive account. We had to increase the <code>maxPixels</code> number because of the large area we wanted to export. In order to export the cities with the belonging data we used the GeoJSON export:</p>
<pre><code class="language-javascript">Export.table(cities, &#39;greencities_export&#39;, { fileFormat: &#39;GeoJSON&#39; });
</code></pre>
<p>You can also export CSV, KML, or KMZ with the <code>Export.table</code> function. As I just saw the function we are using in our script is now deprecated and you should use this one instead:</p>
<pre><code class="language-javascript">Export.table.toDrive({
  collection: cities, 
  description: &#39;greencities_export&#39;,
  fileFormat: &#39;GeoJSON&#39;
});
</code></pre>
<p>If you have any questions you can contact me on  or use the comment section below.</p>
---------------
<h1 id="#title_31" >32、从Java 9反向移植对象反序列化过滤器</h1>
Abraham Marín Pérez
[http://www.infoq.com/cn/news/2017/03/deserialise-filter-backport?utm_campaign=infoq_content&utm_source=infoq&utm_medium=feed&utm_term=global](http://www.infoq.com/cn/news/2017/03/deserialise-filter-backport?utm_campaign=infoq_content&utm_source=infoq&utm_medium=feed&utm_term=global)
<img src="http://www.infoq.com/styles/i/logo_bigger.jpg"/><p>JEP 290让开发人员可以在反序列化对象时对传入数据进行过滤。该提案最初是针对Java 9提出的，但现在已经反向移植到Java 6、7、8。该特性提供了一种机制，可以在处理对象输入流时过滤传入数据，并且可以帮助预防反序列化漏洞。前不久，这种漏洞曾影响了Apache Commons及其他库。</p> <i>By Abraham Marín Pérez</i> <i> Translated by 谢丽</i>
---------------
<h1 id="#title_32" >33、Webkid Interactives</h1>

[http://blog.webkid.io/webkid-interactives/](http://blog.webkid.io/webkid-interactives/)
<p>Today we launched our first  (german).</p>
<iframe id="embed" src="http://interactive.webkid.io/syria-sankey" width="100%" height="625" frameborder="0"></iframe>

<p>Feel free to embed this graphic in your website with the following code:</p>
<pre><code class="language-markup">&lt;iframe src=&quot;http://interactive.webkid.io/syria-sankey&quot; width=&quot;100%&quot; height=&quot;625&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;
</code></pre>
<style>
  #embed{
    height:625px;
  }
</style>
---------------
<h1 id="#title_33" >34、How we created an interactive map with MapboxGL</h1>

[http://blog.webkid.io/mapbox-gl-data-visualization/](http://blog.webkid.io/mapbox-gl-data-visualization/)
<p>In our latest project, we have visualized the . The interactive map is implemented using MapboxGL and a raster tile fallback for older browsers which do not support WebGL. This post explains the differences between the two technologies and the process of creating the visualization.</p>
<h3 id="Why-should-I-use-vector-tiles">. You first had to put all the data into TileMill, style the data with CartoCSS, generate MBTiles (which could take multiple hours sometimes) and upload it to Mapbox.</p>
<p>With Mapbox Studio, all these steps have become a lot of easier and faster - there is no need to learn CartoCSS anymore, for example. Because no images have to be generated anymore, it is now possible to style the whole world in realtime. Another big improvement is that the style changes you do in Mapbox Studio will be available instantly in MapboxGL. That means for example that changing a color scheme for a data visualization or fixing errors in your data takes minutes instead of hours now.</p>
<p>The technology of vector tiles heavily improves the look and feel of web maps, too. Big changes compared to raster tiles are: .</p>
<h3 id="How-we-prepared-the-data">How we prepared the data</h3><p>In the interactive, we wanted to show how bike-friendly Berlin’s streets are. For that, we are using two different datasets that we have to merge together and calculate statistics on:</p>
<ul>
<li>A shapefile containing the street network of Berlin</li>
<li>A shapefile containing all bike paths of main roads in Berlin</li>
</ul>
<img src="/mapbox-gl-data-visualization/qgis-raw-data.png" alt="QGis Raw Data Screenshot" title="QGis Raw Data Screenshot">
<p>There were several problems with the datasets that we had to solve before being able to get our visualization running: </p>
<ul>
<li>The street dataset did have duplicate paths for some streets as they were going through different districts of the city. For being able to do the statistics correctly, we needed to merge them - even though they did not have the same ids.</li>
<li>Some of the streets had to be removed as we did not want to show them in our visualization - for example highways or tunnels.</li>
<li>The bike path dataset did not have attributes for identifying to which street they belong. This was something we would need to calculate the percentage of bicycle-road-coverage for each street.</li>
</ul>
<p>So, how did we solve these problems? </p>
<p>To merge the streets together, we created a script (NodeJS + ) that will first merge all streets by their name and district. This helped us to reduce the number of duplicate streets. Still, some streets needed to be merged when they are going through different districts. We have accomplished this by buffering all streets by ten meters and looking for street-parts that have the same name and are intersecting. We ran this script multiple times, as long as nothing gets merged anymore.</p>
<p>In the next step, we removed highways and tunnels by simply looking at their name and removing the feature from the dataset.</p>
<p>The most complex part of the data processing was to associate the bike paths with their mainroad counterparts. As they did not have any common id, we first buffered them to later intersect them with the roads to find out to which they belong.</p>
<img src="/mapbox-gl-data-visualization/qgis-buffer-bike.png" alt="QGis Buffer Cylcle Roads Screenshot" title="QGis Buffer Cylcle Roads Screenshot">
<p>Now we wrote a script that looks for each bike path with which road it is intersecting. With all the intersections, it filters out the street that has the same name. </p>
<p>Now with the length of each bike path, we could add that to the street and calculate the percentage of bike-path-coverage for it. Now we were ready to create our final visualization.</p>
<h3 id="Create-a-map-with-Mapbox-Studio">Create a map with Mapbox Studio</h3><img src="/mapbox-gl-data-visualization/mapbox-start.png" alt="Mapbox Start Screenshot" title="Mapbox Start Screenshot">
<p>When creating a new map style, you are first asked to chose a basemap layer. This layer can be adjusted to your needs in the editor. On top of that we have added our dataset. For doing so, you can simply drag and drop shapefiles or geojson to the editor. After that you can create a new layer with the dataset as a source and add it to your map.</p>
<img src="/mapbox-gl-data-visualization/mapbox-edit.png" alt="Mapbox Edit Screenshot" title="Mapbox Edit Screenshot">
<p>With the powerful editing functions, you can now style the data to your needs. For example, you can define the line-width of streets based on zoom level or filter datasets by their attributes for only displaying partial data. We also added some custom labels which is done by uploading a geojson with point features that have a name property containing the label text.</p>
<img src="/mapbox-gl-data-visualization/mapbox-filter.png" alt="Mapbox Filter Screenshot" title="Mapbox Filter Screenshot">
<p>Once you are done with editing, you can publish your map and use it with MapboxGL in your frontend.</p>
<img src="/mapbox-gl-data-visualization/mapbox-publish.png" alt="Mapbox publish Screenshot" title="Mapbox publish Screenshot">
<h3 id="Make-an-interactive-map-with-MapboxGL">Make an interactive map with MapboxGL</h3><p>To create an interactive map with the map style we just created, we installed mapbox-gl in our project and initialized our map object:</p>
<pre><code class="language-javascript">import mapboxgl from &#39;mapbox-gl&#39;;

const map = new mapboxgl.Map({
  container: &#39;map&#39;,
  center: [13.3866103, 52.5170092],
  style: &#39;&lt;your map style id here&gt;&#39;,
  zoom: 12,
  maxBounds: [[12.4393,52.0795], [14.3262,52.9155]]
});
</code></pre>
<p>Now as the map is visible in the container, we only need to add interactivity such as displaying a tooltip on hover. It is somehow similar to create a tooltip with an UTFGrid. With the code example you can check which features are below the mouse while hovering the map. In the callback function we then check if there are map features hovered and display the tooltip with the properties of the closest one.</p>
<pre><code class="language-javascript">map.on(&#39;mousemove&#39;, (evt) =&gt; {

  //get all features close to the pointer
  map.featuresAt(evt.point, {
    radius: 15,
    layer: [&#39;radwege&#39;, &#39;buswege&#39;, &#39;andere_wege&#39;] //we chose which layers should be &#39;hoverable&#39;
  }, (err, features) =&gt; {

    //if features are hovered, display a tooltip with the data
    if(features.length) {
      tooltip.update(features[0].properties);
      tooltip.updatePosition(evt.point);
    }
    else {
      //if no features were found, hide the tooltip
      tooltip.hide(); 
    }

  })

});
</code></pre>
<p>Another huge feature of vector tiles is, that you can filter layers on the client which was not possible with raster tiles before. We used this feature to highlight a street that the user has searched for. This is how we implemented it:</p>
<pre><code class="language-javascript">/*
* Custom event listener, the data object contains
* the center of the street as LngLat array and the 
* id of the street that should be highlighted
*/
$(document).on(&#39;search:complete&#39;, (evt, data) =&gt; {

  //zoom to the center of the street with animation
  map.easeTo({
    center: data.center,
    zoom: 14
  });

  //filter the street layer and only display the selected street
  map.setFilter(&#39;hauptstrassen-radwege&#39;, [&#39;==&#39;, &#39;spatial_na&#39;, data.id]);

  // (filter other layers)
});
</code></pre>
<p>If you want to remove a filter, you can simply show all features with this code:</p>
<pre><code class="language-javascript">map.setFilter(&#39;hauptstrassen-radwege&#39;, [&#39;all&#39;]);
</code></pre>
<hr>
<h3 id="Summary">.</p>
<p>Still, MapboxGL needs WebGL which is not supported in all browsers. We had some problems on iOS Safari as well as older versions of Internet Explorer. That’s why we implemented a fallback with UTFGrid and Leaflet/MapboxJS. You can read more about creating these maps .</p>
<p>Thanks for reading!</p>
---------------
<h1 id="#title_34" >35、Using Spreadsheets as a CMS for data visualizations</h1>

[http://blog.webkid.io/spreadsheets-for-datavisualization/](http://blog.webkid.io/spreadsheets-for-datavisualization/)
<p>When we build visualizations at , we sometimes need small backends for our applications which enable our clients to change data after launch. This is especially useful when the app should update automatically. It also makes collaboration on data a lot easier.</p>
<p>For this purpose, we rely on spreadsheets most of the time, as they are easy to use for entering data as well as getting structured data out of them. There are different ways for putting the data into your frontend, which we will explain in this article.</p>
<hr>
<h2 id="Tabletop-js"> and enter some test values.</p>
<img src="/spreadsheets-for-datavisualization/example-spreadsheet.png" alt="example-spreadsheet" title="example-spreadsheet">
<p>Once you filled in some data, you have to make the dataset public to allow Tabletop making requests to it.</p>
<img src="/spreadsheets-for-datavisualization/example-publish.png" alt="example-publish" title="example-publish">
<p>Now as we have a dataset, we will fetch the data with the help of nodejs. You could also run this example in the browser.</p>
<pre><code class="language-javascript">const Tabletop = require(&#39;tabletop&#39;);

Tabletop.init({ 
  key: &#39;1R6nHAcmjHhT6UHgj7gKKuxSadYV_HyaFWoU13cadavs&#39;,
  callback: (data, tabletop) =&gt; {
    console.log(data);
  },
  simpleSheet: true
});
</code></pre>
<p>The script will simply get the data from the spreadsheet and print its content to the console. You can see that Tabletop returns the data as JSON so that you can use it easily for creating a visualization.</p>
<pre><code class="language-bash"># example output
[ { Date: &#39;01.01.2014&#39;, Value: &#39;100&#39;, Description: &#39;Lorem Ipsum&#39; },
  { Date: &#39;01.02.2014&#39;, Value: &#39;200&#39;, Description: &#39;Lorem Ipsum&#39; },
  { Date: &#39;01.03.2014&#39;, Value: &#39;300&#39;, Description: &#39;Lorem Ipsum&#39; },
  { Date: &#39;01.04.2014&#39;, Value: &#39;400&#39;, Description: &#39;Lorem Ipsum&#39; },
  { Date: &#39;01.05.2014&#39;, Value: &#39;500&#39;, Description: &#39;Lorem Ipsum&#39; },
  { Date: &#39;01.06.2014&#39;, Value: &#39;600&#39;, Description: &#39;Lorem Ipsum&#39; },
  { Date: &#39;01.07.2014&#39;, Value: &#39;700&#39;, Description: &#39;Lorem Ipsum&#39; },
  { Date: &#39;01.08.2014&#39;, Value: &#39;800&#39;, Description: &#39;Lorem Ipsum&#39; },
  { Date: &#39;01.09.2014&#39;, Value: &#39;900&#39;, Description: &#39;Lorem Ipsum&#39; },
  { Date: &#39;01.10.2014&#39;, Value: &#39;1000&#39;, Description: &#39;Lorem Ipsum&#39; },
  { Date: &#39;01.11.2014&#39;, Value: &#39;1100&#39;, Description: &#39;Lorem Ipsum&#39; },
  { Date: &#39;01.12.2014&#39;, Value: &#39;1200&#39;, Description: &#39;Lorem Ipsum&#39; },
  { Date: &#39;01.01.2015&#39;, Value: &#39;1300&#39;, Description: &#39;Lorem Ipsum&#39; },
  { Date: &#39;01.02.2015&#39;, Value: &#39;1400&#39;, Description: &#39;Lorem Ipsum&#39; },
  { Date: &#39;01.03.2015&#39;, Value: &#39;1500&#39;, Description: &#39;Lorem Ipsum&#39; },
  { Date: &#39;01.04.2015&#39;, Value: &#39;1600&#39;, Description: &#39;Lorem Ipsum&#39; },
  { Date: &#39;01.05.2015&#39;, Value: &#39;1700&#39;, Description: &#39;Lorem Ipsum&#39; },
  { Date: &#39;01.06.2015&#39;, Value: &#39;1800&#39;, Description: &#39;Lorem Ipsum&#39; },
  { Date: &#39;01.07.2015&#39;, Value: &#39;1900&#39;, Description: &#39;Lorem Ipsum&#39; },
  { Date: &#39;01.08.2015&#39;, Value: &#39;2000&#39;, Description: &#39;Lorem Ipsum&#39; },
  { Date: &#39;01.09.2015&#39;, Value: &#39;2100&#39;, Description: &#39;Lorem Ipsum&#39; } ]
</code></pre>
<hr>
<h2 id="Sheetsu"> is kind of similar to Tabletop - but instead of using it as a JavaScript-library, it offers a service that turns a Google spreadsheet into a REST-API that you can request from your application.</p>
<p>I am using the same spreadsheet as above and entering its url into the Sheetsu interface:</p>
<img src="/spreadsheets-for-datavisualization/sheetsu-example-1.png" alt="sheetsu-example-1" title="sheetsu-example-1">
<p>Now that the API-URL was generated by Sheetsu you can see that it returns our example dataset as JSON.</p>
<img src="/spreadsheets-for-datavisualization/sheetsu-example-2.png" alt="sheetsu-example-2" title="sheetsu-example-2">
<p>In your application, you could now request the dataset, for example by using jQuery:</p>
<pre><code class="language-javascript">$.getJSON(&#39;https://sheetsu.com/apis/381554f4&#39;, data =&gt; console.log(data));
</code></pre>
<hr>
<h2 id="Flatsheet-EditData">Flatsheet / EditData</h2><div class="borderd-img"><br><img src="/spreadsheets-for-datavisualization/flatsheet-start.png" alt="flatsheet-start" title="flatsheet-start"><br></div>

<p>.</p>
<p>Once you open EditData, you have several options. You could start with an empty dataset or upload an existing one.<br>The editing process is kind of slow, as you have to add rows and columns manually. After entering some data, you can download the dataset. Hopefully, flatsheet will offer an Api to directly get the data into our applications.</p>
<img src="/spreadsheets-for-datavisualization/editdata-editor.png" alt="editdata-editor" title="editdata-editor">
<hr>
<h2 id="Fieldbook">Fieldbook</h2><img src="/spreadsheets-for-datavisualization/fieldbook-editor.png" alt="fieldbook-editor" title="fieldbook-editor">
<p>With  you get an online editor for your data, similar to Google Spreadsheets. It is a bit more sophisticated and could be used for more complex datasets as well. The API might be useful when your application need a lot of data that has a nested structure.</p>
<img src="/spreadsheets-for-datavisualization/fieldbook-api-explorer.png" alt="fieldbook-api-explorer" title="fieldbook-api-explorer">
<hr>
<h2 id="Gridspree">Gridspree</h2><div class="borderd-img"><br><img src="/spreadsheets-for-datavisualization/gridspree-start.png" alt="gridspree-start" title="gridspree-start"><br></div>

<p> offers a small JavaScript library that you can use in your frontend. This enables you to write moustache-like templates for displaying the data.</p>
<img src="/spreadsheets-for-datavisualization/gridspree-example.png" alt="gridspree-example" title="gridspree-example">
<p>It has some limitations on API calls - you can only have 1000 calls per month atm.</p>
<hr>
<p><strong></strong>   </p>
<style>
  .borderd-img img{
    border: 1px solid #eee;
  }

</style>
---------------
<h1 id="#title_35" >36、图像方面的新闻：Xamarin的Kimono以及Google的Guetzli和Draco</h1>
Abel Avram
[http://www.infoq.com/cn/news/2017/03/kimono-guetzli-draco?utm_campaign=infoq_content&utm_source=infoq&utm_medium=feed&utm_term=global](http://www.infoq.com/cn/news/2017/03/kimono-guetzli-draco?utm_campaign=infoq_content&utm_source=infoq&utm_medium=feed&utm_term=global)
<img src="http://www.infoq.com/resource/news/2017/03/kimono-guetzli-draco/zh/headerimage/GettyImages-516946670.jpg"/><p>Xamarin开源了用于编辑SkiaSharp对象的工具，而Google则推出了减少2D JPEG和3D图形大小的方案。</p> <i>By Abel Avram</i> <i> Translated by 张卫滨</i>
---------------
<h1 id="#title_36" >37、多用户、多工作负载、5000节点集群：Kubernetes 1.6都有哪些看点？</h1>
木环
[http://www.infoq.com/cn/news/2017/03/Role-based-access-control?utm_campaign=infoq_content&utm_source=infoq&utm_medium=feed&utm_term=global](http://www.infoq.com/cn/news/2017/03/Role-based-access-control?utm_campaign=infoq_content&utm_source=infoq&utm_medium=feed&utm_term=global)
<img src="http://www.infoq.com/styles/i/logo_bigger.jpg"/><p>2017年3月29日，Kubernetes官方正式发布Kubernetes 1.6版本。Kubernetes称在这套最新发行版高度关注规模化与自动化的需求，旨在帮助用户在单一集群之上部署面向多用户的多种工作负载。 新的版本将能够支持5000节点大规模集群，亦推出了动态存储配置机制的稳定版本。基于角色的访问控制（简称RBAC：Role-based access control）机制、kubefed、kubeadm以及多种其它计划调度功能亦迎来了其beta测试版本。同时，还添加智能化默认设置选项，旨在帮助用户凭借相关高度自动化能力实现开箱即用。</p> <i>By 木环</i>
---------------
<h1 id="#title_37" >38、How interactive news and data journalism responded to the major events of 2015</h1>

[http://blog.webkid.io/2015-interactive-news-and-data-journalism/](http://blog.webkid.io/2015-interactive-news-and-data-journalism/)
<p>An unofficial and incomplete look at how major news outlets over the world reacted to the main events throughout the year 2015. If you find something wrong or missing, feel free to comment below.</p>
<h3 id="Charlie-Hebdo-Attacks">Charlie Hebdo Attacks</h3><p>The year started off with the shocking and disturbing attacks on the French satirical magazine “Charlie Hebdo” when two heavily armed shooters entered the office of the paper on 7th January - killing twelve people and leaving eleven injured. The manhunt occuring after the attacks in the center of Paris claimed another five lives.</p>
<p>The international media responded with detailed coverage explaining the events in detail. Interactive journalists around the world tried to visualize the events using interactive maps and timelines combined with pictures and videos taken by reporters at the scene.</p>
<p>While the story developed in France, the New York Times came up with a .</p>
<p>Five days after the attacks, The Guardian published  which shows the victims and their respective background.</p>
<h3 id="Germanwings-Flight-4U9525">Germanwings Flight 4U9525</h3><p>On 24th of March an Airbus-A320 operated by the German airline Germanwings was intentionally crashed in the french alps by one of the pilots which resulted in a death toll of 150. </p>
<p>While it was completely unclear how the crash has happened, news sites from all over the world started analyzing data obtained from  and charts visualizing the altitude of the plane.</p>
<p>After it became clear what has happened on board,  during the flight as one of the pilots locked out his colleague to crash the plane.</p>
<h3 id="Nepal-Quake">Nepal Quake</h3><p>The biggest natural disaster of 2015 happened in April, when a devastating earthquake hit Nepal near its capital Kathmandu. Over 9,000 people were killed and 23,000 injured.</p>
<p>News organizations quickly came up with .</p>
<p>Many others have published before-and-after image sliders  which show the destructive extent of the quake.</p>
<h3 id="Greek-Dept-Crisis">Greek Dept Crisis</h3><p>Greece, which is struggling an intense dept crisis since 2010 got international attention throughout 2015 by holding several important elections and negotiations accompanied by debates about the future of Greece in the Eurozone.</p>
<p>In interactive journalism, we saw .</p>
<p>The parliament elections in September were internationally covered by media outlets like .</p>
<h3 id="Refugee-Crisis">.</p>
<p>Available data on migrant flows led to many data journalism pieces that explain .</p>
<h3 id="The-Syrian-War-and-the-“Islamic-State”">The Syrian War and the “Islamic State”</h3><p>Directly connected with the refugee crisis are the terrible events that happen in Syria, where the civil war has grown at a fearful rate. While the “Islamic State” is growing, many western countries have started to send out forces to fight against the terrorist group.</p>
<p>In media, this topic has been ubiquitous all over the year: There have been .</p>
<h3 id="America’s-2016-Presidential-Election">.</p>
<p>The Wall Street Journal has produced several pieces on the topic, for example .</p>
<h3 id="Gun-Violence-in-USA">.</p>
<p>Other projects were using charts to report on .</p>
<p>One of the  was published by the New York Times. With impressive simplicity, they illustrated in detail which weapons were used in the mass shootings and how the offenders got their guns.</p>
<p>Not only the mass shootings were present in the media over the whole year. The killings by law enforcement officers in the United States have also been a topic in 2015. The Guardian covered that topic with a special site called  which allows the reader to browse through all victims of police shootings in 2015.</p>
<h3 id="Paris-Attacks"> and the facts that were know by then.</p>
<p>After recognisation of the masterminds behind the attacks, other articles showed the .</p>
<p>Coverage of the newspapers also included  directly after the attacks were taking place.</p>
<p>Shortly after the attackers were linked to the “Islamic State”, visualizations appeared that  which was linked to islamic terrorism again in November’s attacks.</p>
<h3 id="Climate-Change"> to cover the issue.</p>
<p>In November, the Climate Change Conference took place in Paris. On that occasion, the Financial Times published a . </p>
<p>In Germany, Correctiv - a nonprofit investigative newsroom published .</p>
---------------
<h1 id="#title_38" >39、Some simple tricks for creating responsive charts with D3</h1>

[http://blog.webkid.io/responsive-chart-usability-d3/](http://blog.webkid.io/responsive-chart-usability-d3/)
<p>In this post I have collected some techniques that I used recently when creating D3 Charts. With focus on small screens, these examples might help you to improve the readability and usability of your charts.</p>
<ul>
<li></li>
<li></li>
<li></li>
<li></li>
<li></li>
<li></li>
<li></li>
<li></li>
<li></li>
</ul>
<h4 id="Create-test-data">Create test data</h4><p>We will need some test data that we want to show in our visualization. Therefore, I created a simple node.js script that creates a <code>data.csv</code> file which contains a date and a value column.</p>
<pre><code class="language-javascript">var fs = require(&#39;fs&#39;);
var startDate = new Date(&#39;2014-1-1&#39;);
var endDate = new Date(&#39;2015-1-1&#39;);
var csv = &#39;date,value\n&#39;;

for(var i = startDate; i &lt; endDate; startDate.setDate(startDate.getDate() + 10)) {
  csv += &#39;&#39; + startDate.toString() + &#39;,&#39; + Math.random() + &#39;\n&#39;;
}

fs.writeFileSync(&#39;data.csv&#39;, csv);
</code></pre>
<p><em>create-data.js</em></p>
<p>You can run the script with this command:</p>
<pre><code class="language-shell">$ node create-data.js
</code></pre>
<p>After that, you will see that the file <code>data.csv</code> has been created. It look somewhat similar to this:</p>
<pre><code class="language-csv">date,value
Wed Jan 01 2014 00:00:00 GMT+0100 (CET),0.505003142170608
Sat Jan 11 2014 00:00:00 GMT+0100 (CET),0.5459181617479771
Tue Jan 21 2014 00:00:00 GMT+0100 (CET),0.14592946274206042
Fri Jan 31 2014 00:00:00 GMT+0100 (CET),0.7082753519061953
...
</code></pre>
<p><em>data.csv</em></p>
<h4 id="Setup-a-basic-chart">Setup a basic chart</h4><p>To get started with the example, create a new directory and add three files: <code>index.html</code>, <code>style.css</code> and <code>chart.js</code>.</p>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
  &lt;meta charset=&quot;UTF-8&quot;&gt;
  &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width&quot; /&gt;
  &lt;title&gt;D3 Line Chart&lt;/title&gt;
  &lt;link rel=&quot;stylesheet&quot; href=&quot;style.css&quot;&gt;
  &lt;script src=&quot;//d3js.org/d3.v3.min.js&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;div id=&quot;chart&quot;&gt;&lt;/div&gt;
  &lt;script src=&quot;chart.js&quot;&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p><em>index.html</em></p>
<pre><code class="language-javascript">var Chart = (function(window,d3) {

  var svg, data, x, y, xAxis, yAxis, dim, chartWrapper, line, path, margin = {}, width, height;

  d3.csv(&#39;data.csv&#39;, init); //load data, then initialize chart

  //called once the data is loaded
  function init(csv) {
    data = csv;

    //initialize scales
    xExtent = d3.extent(data, function(d,i) { return new Date(d.date) });
    yExtent = d3.extent(data, function(d,i) { return d.value });
    x = d3.time.scale().domain(xExtent);
    y = d3.scale.linear().domain(yExtent);

    //initialize axis
    xAxis = d3.svg.axis().orient(&#39;bottom&#39;);
    yAxis = d3.svg.axis().orient(&#39;left&#39;);

    //the path generator for the line chart
    line = d3.svg.line()
      .x(function(d) { return x(new Date(d.date)) })
      .y(function(d) { return y(d.value) });

    //initialize svg
    svg = d3.select(&#39;#chart&#39;).append(&#39;svg&#39;);
    chartWrapper = svg.append(&#39;g&#39;);
    path = chartWrapper.append(&#39;path&#39;).datum(data).classed(&#39;line&#39;, true);
    chartWrapper.append(&#39;g&#39;).classed(&#39;x axis&#39;, true);
    chartWrapper.append(&#39;g&#39;).classed(&#39;y axis&#39;, true);

    //render the chart
    render();
  }

  function render() {

    //get dimensions based on window size
    updateDimensions(window.innerWidth);

    //update x and y scales to new dimensions
    x.range([0, width]);
    y.range([height, 0]);

    //update svg elements to new dimensions
    svg
      .attr(&#39;width&#39;, width + margin.right + margin.left)
      .attr(&#39;height&#39;, height + margin.top + margin.bottom);
    chartWrapper.attr(&#39;transform&#39;, &#39;translate(&#39; + margin.left + &#39;,&#39; + margin.top + &#39;)&#39;);

    //update the axis and line
    xAxis.scale(x);
    yAxis.scale(y);

    svg.select(&#39;.x.axis&#39;)
      .attr(&#39;transform&#39;, &#39;translate(0,&#39; + height + &#39;)&#39;)
      .call(xAxis);

    svg.select(&#39;.y.axis&#39;)
      .call(yAxis);

    path.attr(&#39;d&#39;, line);
  }

  function updateDimensions(winWidth) {
    margin.top = 20;
    margin.right = 50;
    margin.left = 50;
    margin.bottom = 50;

    width = winWidth - margin.left - margin.right;
    height = 500 - margin.top - margin.bottom;
  }

  return {
    render : render
  }

})(window,d3);
</code></pre>
<p><em>chart.js</em></p>
<p>The script you see above is doing three things: It first loads the data from the csv file. Based on the data, it then initializes all variables which are used to display the chart. This includes creating the SVG that is needed for the chart and adding it to the DOM. All that stuff is done in the <code>init</code> function. After that, the chart is rendered based on the current viewport dimensions. The main thing to notice here is that the <code>init</code> function should only be called once, as it prepares everything for rendering, whereas <code>render</code> can be called many times and will render the chart according to viewport size and other parameters.</p>
<p>In <code>style.css</code> I added some CSS to make the chart look a bit better. This is just some basic styling taken from .</p>
<pre><code class="language-css">body {
  font: 12px sans-serif;
  margin: 0;
}

.axis path,
.axis line {
  fill: none;
  stroke: #000;
  shape-rendering: crispEdges;
}

.x.axis path {
  display: none;
}

.line {
  fill: none;
  stroke: steelblue;
  stroke-width: 1.5px;
}
</code></pre>
<p><em>style.css</em></p>
<p>All this code together produces a line chart:</p>
<p><img src="step-one.png" alt="line-chart-step-one"></p>
<p>Now we can add some more functionality that will improve the chart step by step.</p>
<h4 id="Render-the-chart-on-resize">Render the chart on resize</h4><p>In order to make the chart fit the screen once you resize the browser window I usually listen to the resize event and re-render the chart once the event is fired. In code that would look like this:</p>
<pre><code class="language-javascript">window.addEventListener(&#39;resize&#39;, Chart.render);
</code></pre>
<p><strong>Before:</strong></p>
<p><img src="before-resize.gif" alt="before-resize"></p>
<p><strong>After:</strong></p>
<p><img src="after-resize.gif" alt="after-resize"></p>
<h4 id="Use-aspect-ratio-instead-of-fixed-height">Use aspect ratio instead of fixed height</h4><p>I have seen many interactives, where the charts are given a fixed height. As you can see above, this makes it hard to read the chart on smaller screens because the width of the chart gets smaller than its height at some point. To get around this, I added a fixed aspect ratio which is used to calculate the height of the interactive. This makes the chart behave similar to an image or video element which always keeps its aspect ratio when resized to smaller viewports. In the setup that we use for creating the chart, we have to change one line in the <code>updateDimensions</code> function:</p>
<pre><code class="language-javascript">height = .7 * width; //aspect ratio is 0.7
</code></pre>
<p><em>function updateDimensions(winWidth)</em></p>
<p>If you resize the chart now, you can see that it resizes similar to an image.</p>
<p><img src="after-aspect-ratio.gif" alt="after-aspect-ratio"></p>
<h4 id="Inset-y-axis-labels-on-small-viewports">Inset y-axis labels on small viewports</h4><p>As you can see above, the y-axis labels are taking a lot of space on smaller screens. To give the actual chart as much space as possible, one possible solution could be to inset the labels and remove left and right margins when the screen gets smaller than a specific breakpoint. Therefore, you have to make some small adjustments to the <code>updateDimensions</code> and <code>render</code> function.</p>
<p>First, you should define a breakpoint which is used to check if we are on small screens or not. Of course, you could add multiple breakpoints if you want to render multiple different views of the chart.</p>
<pre><code class="language-javascript">var breakPoint = 768;
</code></pre>
<p>Then, in the <code>updateDimensions</code> function we check, if the screen is smaller than the breakpoint and remove the horizontal margins if necessary:</p>
<pre><code class="language-javascript```">margin.right = winWidth &lt; breakPoint ? 0 : 50;
margin.left = winWidth &lt; breakPoint ? 0 : 50;
</code></pre>
<p><em>function updateDimensions(winWidth)</em></p>
<p>After that, we need to configure the chart to inset the labels on small screens. This can be done directly in the <code>render</code> function by setting the orientation of the axis using D3:</p>
<pre><code class="language-javascript">yAxis.scale(y).orient(window.innerWidth &lt; breakPoint ? &#39;right&#39; : &#39;left&#39;);
</code></pre>
<p><em>function render()</em></p>
<p>You can see that the labels of the Y-Axis jump inside the chart, once we resize to the defined breakpoint.</p>
<p><img src="after-inset.gif" alt="after-inset"></p>
<h4 id="Prevent-overlapping-of-x-axis-labels">Prevent overlapping of x-axis labels</h4><p>Another common problem with responsive charts and D3 is that once the screen gets smaller, the labels of the x-axis could overlap. To accomplish that, we could check for the window size again and reduce the number of ticks on the X-Axis if the screen size is small. Sticking to the example, this is how you just show a label for every second month:</p>
<pre><code class="language-javascript">if(window.innerWidth &lt; breakPoint) {
  xAxis.ticks(d3.time.month, 2)
}
else {
  xAxis.ticks(d3.time.month, 1)
}
</code></pre>
<p><em>function render()</em></p>
<p>In the result, you can see that labels are not overlapping anymore.</p>
<p><strong>Before</strong></p>
<p><img src="before-x-axis.png" alt="before-x-axis"></p>
<p><strong>After</strong></p>
<p><img src="after-x-axis.png" alt="after-x-axis"></p>
<h4 id="Add-a-simple-swipe-gesture">Add a simple swipe gesture</h4><p>One thing that I often miss in interactive charts is the ability to swipe over the chart to see values or tooltips. In most cases, you have to tap exactly at the point that you want to see. In the next steps, I will explain how you can support a swipe gesture in interactive charts with few lines of code.</p>
<p><img src="touch-events.gif" alt="touch-events"><br><em>By swiping over the chart, the user can control the x-position of a tooltip</em></p>
<p>At first, we create a fake tooltip in our init function:</p>
<pre><code class="language-javascript">locator = chartWrapper.append(&#39;circle&#39;)
  .style(&#39;display&#39;, &#39;none&#39;)
  .attr(&#39;r&#39;, 10)
  .attr(&#39;fill&#39;, &#39;#f00&#39;);
</code></pre>
<p>Now, we need to listen to the <code>mousemove</code> event on the chart-wrapper to calculate the position of the locator.</p>
<pre><code class="language-javascript">chartWrapper.on(&#39;touchmove&#39;, onTouchMove);
</code></pre>
<p>In the <code>onTouchMove</code> function, we will get the touch position of the user. With the help of a linear scale, we map the x-coordinate to the index of the data array. With that index, we can get the data at the point that the user is currently focusing. That data is than used to position the locator:</p>
<pre><code class="language-javascript">var touchScale = d3.scale.linear().domain([0,width]).range([0,data.length-1]).clamp(true);

function onTouchMove() {
  var xPos = d3.touches(this)[0][0];
  var d = data[~~touchScale(xPos)];

  locator.attr({
    cx : x(new Date(d.date)),
    cy : y(d.value)
  })
  .style(&#39;display&#39;, &#39;block&#39;);
}
</code></pre>
<p>If we now swipe over the chart on touch devices, the locator or tooltip moves with the touch of the user.</p>
<h4 id="Create-generic-annotations">Create generic annotations</h4><p>For responsive charts, it can sometimes be a bit tricky to create annotations or labels that are keeping their position on all viewports. For achieving this, I am using the following technique. First I am creating a configuration object that stores the text and position of the labels I want to render into the chart:</p>
<pre><code class="language-javascript">var labels = [
  {
    x: new Date(&#39;03-15-2014&#39;),
    y: .17,
    text: &#39;Test Label 1&#39;,
    orient: &#39;right&#39;
  },
  {
    x: new Date(&#39;10-25-2014&#39;),
    y: .24,
    text: &#39;Test Label 2&#39;,
    orient: &#39;right&#39;
  }
]
</code></pre>
<p>Then, based on this configuration I render the labels using D3. Note that I am using the same scales that are used in for the whole chart. This gives you some freedom to adjust the position of the labels by adjusting the values in their config object. Another thing I am doing here is to set the orientation of the labels. This is done by simply setting the <code>text-anchor</code> property on the <code>text</code> nodes.</p>
<pre><code class="language-javascript">function renderLabels() {
  chartWrapper.selectAll(&#39;text.label&#39;)
    .data(labels)
    .enter()
    .append(&#39;text&#39;)
    .attr(&#39;x&#39;, function(d) { return x(d.x) })
    .attr(&#39;y&#39;, function(d) { return y(d.y) })
    .style(&#39;text-anchor&#39;, function(d) { return d.orient == &#39;right&#39; ? &#39;start&#39; : &#39;end&#39; })
    .text(function(d) { return d.text });
}
</code></pre>
<p>If you call <code>renderLabels</code> inside of the <code>render</code> function, you will notice that everytime the browser window is resized, new labels will be appended to the SVG. To prevent this, I check if labels are already existing. If the labels already exist, we just update their position respective to the scales. Now the <code>renderLabels</code> function looks like this:</p>
<pre><code class="language-javascript">function renderLabels() {

  var _labels = chartWrapper.selectAll(&#39;text.label&#39;);

  if(_labels[0].length &gt; 0) {
    //labels already exist
    _labels
      .attr(&#39;x&#39;, function(d) { return x(d.x) })
      .attr(&#39;y&#39;, function(d) { return y(d.y) })
  }
  else {
    //append labels if function is called for the first time
    _labels
      .data(labels)
      .enter()
      .append(&#39;text&#39;)
      .classed(&#39;label&#39;, true)
      .attr(&#39;x&#39;, function(d) { return x(d.x) })
      .attr(&#39;y&#39;, function(d) { return y(d.y) })
      .style(&#39;text-anchor&#39;, function(d) { return d.orient == &#39;right&#39; ? &#39;start&#39; : &#39;end&#39; })
      .text(function(d) { return d.text });
  }
}
</code></pre>
<p>If you look at the chart now, you can see that you have basic annotations that scale with the chart.</p>
<p><img src="after-labels.png" alt="after-labels"></p>
<h4 id="Conclusion"> recently.</p>
<p>The techniques I have mentioned here are just very basic examples. As with other examples, it always depend on what you want to visualize and what your dataset looks like. Anyway, you may find it useful to have a look at working examples and may reuse bits of code in your own charts. If you have any suggestions or found a mistake in my code, you can contact me via . Thanks for reading!</p>
---------------