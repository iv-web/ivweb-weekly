## 文章索引
1、 <a href="#1android-studio-31-正式发布默认使用-d8-dex-编译器" >Android Studio 3.1 正式发布，默认使用 D8 Dex 编译器</a><br/>
2、 <a href="#2fastlane-2880-发布ios-和安卓自动构建工具" >Fastlane 2.88.0 发布，iOS 和安卓自动构建工具</a><br/>
3、 <a href="#3webpack-430-发布模块加载打包工具" >Webpack 4.3.0 发布，模块加载打包工具</a><br/>
4、 <a href="#4cachet-v2314-发布强大的开源状态页面系统" >Cachet v2.3.14 发布，强大的开源状态页面系统</a><br/>
5、 <a href="#5gnucash-278-发布跨平台财务管理软件" >GnuCash 2.7.8 发布，跨平台财务管理软件</a><br/>
6、 <a href="#6ghost-1220-发布现代化在线写作平台" >Ghost 1.22.0 发布，现代化在线写作平台</a><br/>
7、 <a href="#7hibernate-validator-609-发布进一步改进性能" >Hibernate Validator 6.0.9 发布，进一步改进性能</a><br/>
8、 <a href="#8infinispan-921final-发布分布式集群缓存系统" >Infinispan 9.2.1.Final 发布，分布式集群缓存系统</a><br/>
9、 <a href="#9intellij-idea-20181-正式发布支持-jdk-10" >Intellij IDEA 2018.1 正式发布，支持 JDK 10</a><br/>
10、 <a href="#10firefox-5902-发布修复多项程序崩溃问题" >Firefox 59.0.2 发布，修复多项程序崩溃问题</a><br/>
11、 <a href="#11开源-ip-地址定位库-ip2region-16-发布增加-c#-支持" >开源 IP 地址定位库 ip2region 1.6 发布，增加 C# 支持</a><br/>
12、 <a href="#12seaslog-之企业级日志行为规范发布" >SeasLog 之企业级日志行为规范发布</a><br/>
13、 <a href="#13unity-在-github-发布-unity-引擎和编辑器的-c#-源代码" >Unity 在 GitHub 发布 Unity 引擎和编辑器的 C# 源代码</a><br/>
14、 <a href="#14kubernetes-110-发布稳定存储安全和网络" >Kubernetes 1.10 发布：稳定存储，安全和网络</a><br/>
15、 <a href="#15osc-深圳源创会前端专场回顾有些妹子怎么拍都好看" >OSC 深圳源创会前端专场回顾：有些妹子怎么拍都好看</a><br/>
16、 <a href="#16thinkphp-516-版本发布-引入中间件和路由提速" >ThinkPHP 5.1.6 版本发布 —— 引入中间件和路由提速</a><br/>
17、 <a href="#17majiang_algorithm-104-发布一种简单高效的胡牌算法" >majiang_algorithm 1.0.4 发布，一种简单高效的胡牌算法</a><br/>
18、 <a href="#18禅道-982-版本发布主要优化细节修复-bug" >禅道 9.8.2 版本发布，主要优化细节，修复 Bug</a><br/>
19、 <a href="#19act-183-发布---包含多项有趣更新" >ACT 1.8.3 发布 - 包含多项有趣更新</a><br/>
20、 <a href="#20how-to-use-heatmaps-to-track-clicks-on-your-wordpress-website" >How To Use Heatmaps To Track Clicks On Your WordPress Website</a><br/>
21、 <a href="#21码云周刊-|-web-开发时代盘点-5-个前端-ui-优秀框架" >码云周刊 | Web 开发时代，盘点 5 个前端 UI 优秀框架</a><br/>
22、 <a href="#22apache-基金会-19-岁啦红薯表示和我同岁哦" >Apache 基金会 19 岁啦！红薯表示：和我同岁哦</a><br/>
23、 <a href="#23easyswoole-基于-swoole-server-的常驻内存型框架" >EasySwoole — 基于 Swoole Server 的常驻内存型框架</a><br/>
24、 <a href="#24每日一博-|-总结-jdk15-jdk18-的各个新特性" >每日一博 | 总结 JDK1.5-JDK1.8 的各个新特性</a><br/>
25、 <a href="#25码云推荐-|-golang-的强大-sql-orm-库-toyorm" >码云推荐 | Golang 的强大 SQL ORM 库 Toyorm</a><br/>
26、 <a href="#26kde-赢得-linux-journal-的最佳桌面环境读者选择奖" >KDE 赢得 Linux Journal 的最佳桌面环境读者选择奖</a><br/>
27、 <a href="#27gnome-330-almeria-正式版将于-9-月-6-日发布" >GNOME 3.30 “Almeria” 正式版将于 9 月 6 日发布</a><br/>
28、 <a href="#28oschina-周二乱弹-希望巴叔早点康复" >OSChina 周二乱弹 —— 希望巴叔早点康复</a><br/>
29、 <a href="#29linuslinux-内核-416-正式版有望本周末发布" >Linus：Linux 内核 4.16 正式版有望本周末发布</a><br/>
30、 <a href="#30fsf-宣布-2017-年度的自由软件奖得主" >FSF 宣布 2017 年度的自由软件奖得主</a><br/>
31、 <a href="#31文章-spring-5的servlet和反应式技术栈解析" >文章： Spring 5的Servlet和反应式技术栈解析</a><br/>
32、 <a href="#32文章-阿里巴巴aaai-2018录用论文知识图谱实体链接无监督学习框架colink" >文章： 阿里巴巴AAAI 2018录用论文：知识图谱实体链接无监督学习框架CoLink</a><br/>
33、 <a href="#33文章-一个简单可参考的api网关架构设计" >文章： 一个简单可参考的API网关架构设计</a><br/>
34、 <a href="#34视频演讲-如何打造自己的-pwa-应用" >视频演讲： 如何打造自己的 PWA 应用</a><br/>
35、 <a href="#35视频演讲-从视觉计算近期进展管窥ai之abcde" >视频演讲： 从视觉计算近期进展“管窥”AI之ABCDE</a><br/>
36、 <a href="#36视频演讲-从kubernetes到cloud-native云原生应用之路" >视频演讲： 从Kubernetes到Cloud Native——云原生应用之路</a><br/>
37、 <a href="#37web正面临威胁请加入我们为之奋斗" >Web正面临威胁，请加入我们为之奋斗</a><br/>
38、 <a href="#38ionic宣布用于创建web混合和本机应用的capacitor-100-alpha版" >Ionic宣布用于创建Web、混合和本机应用的Capacitor 1.0.0 Alpha版</a><br/>
39、 <a href="#39最高法院就microsoft云计算案的法律问题开展口头辩论" >最高法院就Microsoft云计算案的法律问题开展口头辩论</a><br/>
40、 <a href="#40rust在2018年将专注于开发效率webassembly嵌入式等方面" >Rust在2018年将专注于开发效率、WebAssembly、嵌入式等方面</a><br/>
41、 <a href="#41update-on-async-rendering" >Update on Async Rendering</a><br/><h1 id="#title_0" >1、Android Studio 3.1 正式发布，默认使用 D8 Dex 编译器</h1>

[https://www.oschina.net/news/94625/android-studio-3-1-released](https://www.oschina.net/news/94625/android-studio-3-1-released)
<p>Android Studio 3.1 稳定版已发布，重点围绕产品质量和应用开发效率进行改进。</p><ul class=" list-paddingleft-2"><li><p></p><ul class=" list-paddingleft-2"><li><p><strong>System Images and Frameless Device Skins -&nbsp;</strong>Android Emulator&nbsp;现在支持 API 24（Nougat） - API 27（Oreo）的 Google Play Store 和 Google API 。 并新增无边框模式，以帮助测试&nbsp;18：9 屏比的设备。</p></li></ul><p><img data-cke-saved-src="https://static.oschina.net/uploads/space/2018/0327/110627_CFD8_2896879.png" src="https://static.oschina.net/uploads/space/2018/0327/110627_CFD8_2896879.png" width="1600" height="839"/><br/></p><h3>Optimize</h3><ul class=" list-paddingleft-2"><li><p><strong>C++ CPU Profiling&nbsp;</strong>-<strong>&nbsp;</strong>新增&nbsp;C ++ 代码性能分析器</p></li></ul><p><img data-cke-saved-src="https://static.oschina.net/uploads/space/2018/0327/110908_1zhU_2896879.png" src="https://static.oschina.net/uploads/space/2018/0327/110908_1zhU_2896879.png" width="1600" height="918"/><br/></p><ul class=" list-paddingleft-2"><li><p><strong>Network Profiler Updates: Threads &amp; Network Request&nbsp;</strong>-<strong>&nbsp;</strong>新增网络线程视图来检查多线程网络流量，并添加了一个新的网络请求选项卡，以便随着时间的推移深入了解网络请求。&nbsp;</p></li></ul><p><img data-cke-saved-src="https://static.oschina.net/uploads/space/2018/0327/111008_Bx6Z_2896879.png" src="https://static.oschina.net/uploads/space/2018/0327/111008_Bx6Z_2896879.png" width="1600" height="918"/></p>
---------------
<h1 id="#title_1" >2、Fastlane 2.88.0 发布，iOS 和安卓自动构建工具</h1>

[https://www.oschina.net/news/94639/fastlane-2-88-0-released](https://www.oschina.net/news/94639/fastlane-2-88-0-released)
<p>Fastlane 是一个针对于 iOS 和 Android 全方位自动化流程的工具。利用目前支持的工具可以做所有包含自动化和可持续化构建的每个环节，比如单元测试、截图、分发渠道、上传元数据和 ipa 包提交审核等等。</p><p>Fastlane 2.88.0 已发布，更新内容包括：</p><ul class=" list-paddingleft-2"><li><p>[action] Fix crashlytics to not autoload gsp_path if api_token is set&nbsp;</p></li><li><p>Improve error message when specified scheme is not found</p></li><li><p>[action] Support checking remote git tags existence</p></li><li><p>Use Android environment to find adb (don&#39;t just rely on it being in PATH)&nbsp;</p></li><li><p>[snapshot] Make sure matched window has a non-empty frame</p></li><li><p>[swift] Fixes string return value and shows all lanes (even without description)&nbsp;</p></li><li><p>[scan] Default skip_build to true in Scanfile template</p></li></ul><p>源码下载：</p><ul class=" list-paddingleft-2"><li><p></p></li></ul>
---------------
<h1 id="#title_2" >3、Webpack 4.3.0 发布，模块加载打包工具</h1>

[https://www.oschina.net/news/94640/webpack-4-3-0-released](https://www.oschina.net/news/94640/webpack-4-3-0-released)
<p>Webpack&nbsp;是一个现代 JavaScript 应用程序的模块打包器 (module bundler) 。当 Webpack 处理应用程序时，它会递归地构建一个依赖关系图，其中包含应用程序需要的每个模块，然后将所有这些模块打包成少量的&nbsp;bundle&nbsp;- 通常只有一个，由浏览器加载。</p><p>自上个月发布 4.0 正式版本后，经过数个版本的迭代，Webpack 4.x 已趋于稳定。</p><p>Webpack 4.3.0&nbsp;更新内容：</p><ul class=" list-paddingleft-2"><li><p>支持&nbsp;[contenthash] 占位符</p></li><li><p><code>browser</code>&nbsp;字段被正确用于&nbsp;<code>electron-renderer</code></p></li><li><p>将对象传递给&nbsp;<code>output.library</code> 时，正确设置 <code>devtoolNamespace</code> 默认值</p></li></ul><p></p>
---------------
<h1 id="#title_3" >4、Cachet v2.3.14 发布，强大的开源状态页面系统</h1>

[https://www.oschina.net/news/94638/cachet-2-3-14](https://www.oschina.net/news/94638/cachet-2-3-14)
<p>Cachet 是一个漂亮而强大的开源状态页面系统，基于 Laravel ，提供允许获取、添加以及删除事件、组件和指标的 API 。</p><p>功能特性：</p><ul class=" list-paddingleft-2"><li><p>列表显示你的服务组件</p></li><li><p>报告事件</p></li><li><p>自定义状态页面外观</p></li><li><p>为事件消息提供 Markdown 支持</p></li><li><p>JSON API</p></li><li><p>多语言支持</p></li><li><p>度量指标</p></li><li><p>多数据库支持：MySQL、PostgresSQL 和 SQLite</p></li><li><p>通过邮件订阅通知</p></li><li><p>使用 Google Authenticator 提供双重身份认证</p></li></ul><p><img height="930" data-cke-saved-src="https://static.oschina.net/uploads/space/2018/0327/175922_144k_2896879.png" src="https://static.oschina.net/uploads/space/2018/0327/175922_144k_2896879.png" width="1300"/></p><p>Cachet v2.3.14 是一个小版本更新，主要是通过 Backport 的方式，支持在 metric_points 中使用表前缀&nbsp;。</p>
---------------
<h1 id="#title_4" >5、GnuCash 2.7.8 发布，跨平台财务管理软件</h1>

[https://www.oschina.net/news/94637/gnucash-2-7-8-released](https://www.oschina.net/news/94637/gnucash-2-7-8-released)
<p>GnuCash 是一个适用于个人或小型企业的财务软件，采用 GPL 协议开源，支持 GNU / Linux、BSD、Solaris、Mac OS X 及 Microsoft Windows。GnuCash 易于使用，且功能强大，它可以追踪银行帐户、股票、收入与支出，也可以基于专业的会计原则确保帐目平衡并提供准确的报表。</p><p>GnuCash 2.7.8 是最新的开发版本，包含最新的功能和改进，但更多的是建议测试使用。日常使用请下载&nbsp;</p></li></ul>
---------------
<h1 id="#title_5" >6、Ghost 1.22.0 发布，现代化在线写作平台</h1>

[https://www.oschina.net/news/94636/ghost-1-22-0-released](https://www.oschina.net/news/94636/ghost-1-22-0-released)
<p>Ghost 是一个完全开源的平台，它能帮助你快速建立并运行一个现代化的在线写作平台。它驱动着博客、杂志以及像 Zappos 和 Sky News 等新闻媒体。</p><p>Ghost 的编辑环境基于 Markdown ，所有已发布的内容都会存放在一个易于搜索的存档中，可供快速查找。且使用简单，添加 logo、创建导航菜单和注入分析代码通过几次点击就可以完成。<br/></p><p><img height="1262" data-cke-saved-src="https://static.oschina.net/uploads/space/2018/0327/160916_yDUh_2896879.png" src="https://static.oschina.net/uploads/space/2018/0327/160916_yDUh_2896879.png" width="2000"/></p><p>Ghost 1.22.0&nbsp;已发布，这是一个小的改进版本，允许同一篇文章有多个作者。</p><p>更多细节可点此查阅</p></li></ul>
---------------
<h1 id="#title_6" >7、Hibernate Validator 6.0.9 发布，进一步改进性能</h1>

[https://www.oschina.net/news/94635/hibernate-validator-609-released](https://www.oschina.net/news/94635/hibernate-validator-609-released)
<p>Hibernate Validator 6.0.9.Final&nbsp;已发布，建议 6.x 版本的用户尽快升级，它是 6.0.8.Final&nbsp;的直接替换版本，带来了一些不错的改进并修复 bug 。</p><p>性能改进：</p><ul class=" list-paddingleft-2"><li><p>进一步的性能调整，使得 Hibernate Validator 在常见用例中更快。</p></li></ul><p>约束验证程序有效负载调整：</p><ul class=" list-paddingleft-2"><li><p>做了一些更改以修复缓存问题，并更改有效内容传递到约束验证程序的方式。</p></li><li><p>有效负载现在是 HibernateConstraintValidatorContext 的一部分，而不是 HibernateConstraintValidatorInitializationContext 的一部分，这意味着它现在被设计用于 isValid（） 方法而不是 init（）方法。</p></li></ul><p>Karaf&nbsp;现在分成几个较小的功能，依赖关系更加细化，可精确选择所需的东西：</p><ul class=" list-paddingleft-2"><li><p><code>hibernate-validator</code></p></li><li><p><code>hibernate-validator-jsoup</code></p></li><li><p><code>hibernate-validator-joda-time</code></p></li><li><p><code>hibernate-validator-javax-money</code></p></li><li><p><code>hibernate-validator-groovy</code></p></li><li><p><code>hibernate-validator-paranamer</code></p></li></ul><p></p>
---------------
<h1 id="#title_7" >8、Infinispan 9.2.1.Final 发布，分布式集群缓存系统</h1>

[https://www.oschina.net/news/94634/infinispan-9-2-1-final-released](https://www.oschina.net/news/94634/infinispan-9-2-1-final-released)
<p>Infinispan 9.2.1.Final&nbsp;已发布，该版本包含&nbsp;</p></li></ul>
---------------
<h1 id="#title_8" >9、Intellij IDEA 2018.1 正式发布，支持 JDK 10</h1>

[https://www.oschina.net/news/94633/intellij-idea-2018-1-released](https://www.oschina.net/news/94633/intellij-idea-2018-1-released)
<p>Intellij IDEA 2018.1 正式版已发布：</p><ul class=" list-paddingleft-2"><li><p></p></li></ul><p>亮点包括：<br/></p><p>1. 支持JUnit 5的@Tag注解</p><p>2. 允许在debug模式下不修改代码的情况下抛出异常或打印断点的堆栈信息</p><p><img alt="" data-cke-saved-src="https://www.jetbrains.com/idea/whatsnew/img/2018.1/DebuggerLogConsole.gif" src="https://www.jetbrains.com/idea/whatsnew/img/2018.1/DebuggerLogConsole.gif"/></p><p>3. 高亮折叠代码中的错误信息</p><p><img alt="" data-cke-saved-src="https://www.jetbrains.com/idea/whatsnew/img/2018.1/EditorHighlightsFoldedCode.gif" src="https://www.jetbrains.com/idea/whatsnew/img/2018.1/EditorHighlightsFoldedCode.gif"/></p><p>4. 支持在替换面板预览替换后的结果</p><p><img alt="" data-cke-saved-src="https://www.jetbrains.com/idea/whatsnew/img/2018.1/Replace.png" src="https://www.jetbrains.com/idea/whatsnew/img/2018.1/Replace.png"/></p><p>5. 合并Android Studio 3.0的特性</p><p>6. Spring Boot启动后，左侧边栏添加一个新的图标，便于通过新的REST client模拟HTTP请求</p><p><img alt="" data-cke-saved-src="https://www.jetbrains.com/idea/whatsnew/img/2018.1/SpringBootREST.gif" src="https://www.jetbrains.com/idea/whatsnew/img/2018.1/SpringBootREST.gif"/></p><p>7. 新的文档UI</p><p><img alt="" data-cke-saved-src="https://www.jetbrains.com/idea/whatsnew/img/2018.1/DocumentationUI.png" src="https://www.jetbrains.com/idea/whatsnew/img/2018.1/DocumentationUI.png"/></p><p>8. 支持最新的TS 2.7</p><p>9. Project Language Level 支持JDK 10</p>
---------------
<h1 id="#title_9" >10、Firefox 59.0.2 发布，修复多项程序崩溃问题</h1>

[https://www.oschina.net/news/94631/firefox-59-0-2-released](https://www.oschina.net/news/94631/firefox-59-0-2-released)
<p>3月26日，Firefox 59.0.2 版本发布，此次更新的包括桌面与安卓版本。<br/></p><p>详细信息查看：)</p></li></ul>
---------------
<h1 id="#title_10" >11、开源 IP 地址定位库 ip2region 1.6 发布，增加 C# 支持</h1>

[https://www.oschina.net/news/94630/ip2region-1-6-released](https://www.oschina.net/news/94630/ip2region-1-6-released)
<p><span style="color:#333333;font-family:&quot;font-size:16px;background-color:#FFFFFF;">ip2region 是准确率 99.9% 的 IP 地址定位库，0.0x毫秒级查询，数据库文件大小只有 3.3M，提供了 Java、PHP、C、Python、Node.js、Golang、C#的查询绑定和 Binary、B树、内存三种查询算法，妈妈再也不同担心我的 IP 地址定位！</span></p><p><span style="color:#333333;font-family:&quot;font-size:16px;background-color:#FFFFFF;"><strong>ip2region 1.6更新如下：</strong></span></p><p><span style="color:#333333;font-family:&quot;font-size:16px;background-color:#FFFFFF;">1，增加了C#的binding并且上线，感谢 </span></p>
---------------
<h1 id="#title_11" >12、SeasLog 之企业级日志行为规范发布</h1>

[https://www.oschina.net/news/94629/seaslog-enterprise-log-specification](https://www.oschina.net/news/94629/seaslog-enterprise-log-specification)
<p>注：2017年云智慧研发团队发布此《企业级日志行为规范》。这份日志规范并不涉及任何商业机密，故分享给社区，愿整个社区在日志生产和使用过程中更加规范和高效。</p><p>该规范共包括：前言、工具组件选用、目录名称、级别定义和配置、日志文件和输出、日志内容和格式，六个方面。以下为规范正文。</p><h3>日志规范</h3><h3><strong>前言</strong></h3><p>良好的日志书写使用将为开发和运维提供便利；良好的日志级别定义和配置，将在为快速定位问题的前提上，可以有效地提升性能。</p><p>根据约束力强弱及故障敏感性,规约依次分为［强制］、［推荐］、［参考］三大类。</p><p>对于规约条目的延伸信息中,&quot;说明&quot;对内容做了引申和解释;</p><p>&quot;［正例］&quot;提倡什么样的编码和实现方式;</p><p>&quot;［反例］&quot;说明需要提防的雷区,以及真实的错误案例。</p><h3>工具组件选用</h3><p><strong>PHP</strong></p><p>［推荐］使用SeasLog作为日志记录工具。</p><p>较Log4php,MonoLog而言，具有更好的性能和使用便捷性。</p><p>［参考］&nbsp; &nbsp;<br/></p>
---------------
<h1 id="#title_12" >13、Unity 在 GitHub 发布 Unity 引擎和编辑器的 C# 源代码</h1>

[https://www.oschina.net/news/94628/unity-c-sharp-reference-source-code](https://www.oschina.net/news/94628/unity-c-sharp-reference-source-code)
<p>3月23日我们在GitHub上发布了Unity引擎和编辑器的C#源代码，仅供Unity学习参考使用。</p><p><strong>为何如此决定</strong></p><p>为了了解或改进自己的Unity项目，一直以来有用户对Unity .NET程序集反汇编，我们的服务条款明确允许这样做。但反汇编有二大缺点：</p><ul class=" list-paddingleft-2"><li><p>尽管这不难做，但过程还是十分麻烦。</p></li><li><p>反汇编后导出的结果不会给出最初的注释和变量名，这样要理解代码会很困难。</p></li></ul><p>为了提供方便，不少社区成员不辞辛劳向GitHub仓库提供反汇编的代码。实话说，我们对这件事的感觉比较复杂。一方面，我们很高兴看到用户为壮大Unity社区提供实用的服务。但另一方面，这种行为从严格意义上说是违法的。虽然我们的服务条款允许进行反汇编，但服务条款里却不允许将这些代码发布。</p><p>我们经过良久的考虑，决定解决这些问题的最好办法只有一个：<span style="color: rgb(255, 0, 0);">那就是我们自己发布源代码</span>。</p><p><strong>要点解释</strong></p><p>为了防止产生误解和标题党，我们认为需要花些篇幅具体解释一下我们的做法。</p><p><span style="color: rgb(255, 0, 0);"><strong>我们不会将Unity开源</strong></span><strong>。</strong>抱歉，我们也没有开源的计划。我们并非不喜欢开源，事实上我们其实有很多开源项目，例如：UI系统，Networking等。请参考：</p>
---------------
<h1 id="#title_13" >14、Kubernetes 1.10 发布：稳定存储，安全和网络</h1>

[https://www.oschina.net/news/94626/kubernetes-1-10-released](https://www.oschina.net/news/94626/kubernetes-1-10-released)
<p><strong>Kubernetes 团队宣布，其 2018 年第一个版本 Kubernetes 1.10 发布！</strong></p><p>本次发布发布包括了不断推进的 Kubernetes 的成熟性、可扩展性和可插拔性。最新版本加强了三个关键领域的功能，包括存储，安全和网络。此版本中值得注意的加强包括引入外部 kubectl 认证凭据程序（alpha）；安装时将测试服务切换到 CoreDNS（beta；以及将容器存储接口（CSI，Container Storage Interfac）和持久本地卷（beta）。</p><p><img data-cke-saved-src="http://p3.pstatp.com/large/pgc-image/1522123807455f84b59f72a" src="http://p3.pstatp.com/large/pgc-image/1522123807455f84b59f72a" alt="Kubernetes 1.10发布：稳定存储，安全和网络"/></p><p>关于该版本的关键功能详述：</p><h4>存储 — CSI 和本地存储转移到测试版</h4><p>这是Storage Special Interest Group（SIG）的一个有影响力的发布，标志着他们在多个功能方面的工作达到了顶点。容器存储接口（CSI）的Kubernetes实现在此版本中转为beta版：安装新的卷插件现在与部署Pod一样简单。这反过来又使第三方存储提供商能够在核心Kubernetes代码库之外独立提供他们的解决方案。延续了Kubernetes生态系统内的可扩展性。</p><p>在此版本中，持久（非共享）本地存储管理发展为beta版，使本地连接（非网络连接）存储成为持久卷资源。这意味着分布式文件系统和数据库的性能更高，成本更低。</p><p>此版本还包括对持久卷的很多更新。 Kubernetes可以自动防止删除Pod（Beta）正在使用的持久性卷声明，并防止删除与持久性卷声明（测试版）绑定的持久性卷。这有助于确保以正确的顺序删除存储API对象。</p><h4>安全性 — 可扩展的认证提供（alpha）</h4><p>已经高度可扩展的Kubernetes在1.10与外部kubectl证书提供者（alpha）一起获得了另一个扩展。云提供商，供应商和其他平台开发人员现在可以发布二进制插件来处理特定云提供商IAM服务的身份验证，或者与不支持树形的内部身份验证系统（例如Active Directory）集成。这补充了1.9中添加的云控制器管理器的功能。</p><h4>网络 — CoreDNS作为DNS提供商（beta）</h4><p><img data-cke-saved-src="http://p3.pstatp.com/large/pgc-image/1522124269542ba1b94b96f" src="http://p3.pstatp.com/large/pgc-image/1522124269542ba1b94b96f" alt="Kubernetes 1.10发布：稳定存储，安全和网络"/></p><p>在安装时将DNS服务切换到CoreDNS的功能现在处于beta版。 CoreDNS具有较少的活动组件，是一个单一的可执行文件和一个进程，并支持其他用例。</p><p>社区中的每个特殊兴趣小组（SIG）继续为其各自的专业领域提供最多要求的增强，修复和功能。有关SIG的完整内容列表，请访问发行说明。</p><p>更多信息，请访问官方网站。</p>
---------------
<h1 id="#title_14" >15、OSC 深圳源创会前端专场回顾：有些妹子怎么拍都好看</h1>

[https://www.oschina.net/question/3802184_2276862](https://www.oschina.net/question/3802184_2276862)
<p>虽然活了几十年仍然不知道中奖是什么感觉，但是我坚信，梦想还是要有的，万一实现了呢？</p>
---------------
<h1 id="#title_15" >16、ThinkPHP 5.1.6 版本发布 —— 引入中间件和路由提速</h1>

[https://www.oschina.net/news/94624/thinkphp-5-1-6-released](https://www.oschina.net/news/94624/thinkphp-5-1-6-released)
<h3>ThinkPHP V5——12载初心不改，你值得信赖的PHP框架</h3><p>已经更新。</p>
---------------
<h1 id="#title_16" >17、majiang_algorithm 1.0.4 发布，一种简单高效的胡牌算法</h1>

[https://www.oschina.net/news/94623/majiang-algorithm-1-0-4-released](https://www.oschina.net/news/94623/majiang-algorithm-1-0-4-released)
<h3>麻将胡牌算法</h3><p>majiang_algorithm是带多张鬼牌的通用胡牌算法，采用查表方式，简单高效。</p><h3>表生成</h3><p>在生成表的阶段，时间是不值钱的，所以生成方法我们可以任意穷举。</p><p>首先分为普通、风、箭三张表。</p><p>穷举出所有的key，比如普通表，就是000000000-444420000，因为每一种牌最大4张，且总和不超过14张牌。</p><p>对于每个key，生成这个key在不同鬼的情况下的胡牌信息列表。</p><p>胡牌信息列表的内容是，在N张鬼的情况下，这个key胡什么牌，并且是否有将。</p><p>例如1万2万5万5万：110020000，生成的胡牌信息有。</p><blockquote><p>1万2万5万5万：鬼0 有将 胡3万（0个鬼的时候，这个牌胡3万，此时有将）<br/>1万2万5万5万：鬼1 无将 胡3万胡5万（1个鬼的时候，这个牌胡3万5万，此时无将）<br/>1万2万5万5万：鬼1 有将 胡了（1个鬼的时候，这个牌已经胡了（鬼变成3万），此时有将）<br/>1万2万5万5万：等等...</p></blockquote><h3>胡牌算法</h3><p>有了前面辛苦生成的表格，那么判断胡牌算法就很简单了。对玩家手上的牌进行编码，变成多个key和鬼牌总数。N，例如手牌如下<br/><img alt="" data-cke-saved-src="https://static.oschina.net/uploads/img/201803/25191135_apAz.png" src="https://static.oschina.net/uploads/img/201803/25191135_apAz.png"/></p><p>得到key：110020000、020000000和鬼牌总数2。</p><p>对每个key查询表，得到对应的胡牌信息列表。</p><p>针对每组列表，过滤掉鬼牌总数&gt;N的项以及没有胡的项，上面的例子就会有。</p><blockquote><p>1万2万5万5万：鬼1 有将 胡了<br/>2筒2筒：鬼1 无将 胡</p></blockquote><p>简单递归下，看看几组胡牌信息列表里，是否满足鬼牌总数和只有一个将的约束。</p><p>如果有任意组合满足，则胡了，在上面的例子里，恰好满足条件，于是胡了。</p><p>总耗时：查表耗时*M + 递归M层分配鬼和将的耗时M是花色数目，M&lt;=5。</p><h3>查胡算法</h3><p>与胡牌算法类似，根据key查出胡牌信息列表。</p><p>简单递归下，找出满足鬼的总数和只有一个将的约束时，所有不能胡的胡牌信息里可胡牌的集合，就是这手牌能胡什么牌。</p>
---------------
<h1 id="#title_17" >18、禅道 9.8.2 版本发布，主要优化细节，修复 Bug</h1>

[https://www.oschina.net/news/94622/zentao-9-8-2-released](https://www.oschina.net/news/94622/zentao-9-8-2-released)
<p>禅道项目管理软件集产品管理、项目管理、质量管理、文档管理、组织管理和事务管理于一体，是一款功能完备的项目管理软件，完美地覆盖了项目管理的核心流程。禅道官网：</p>
---------------
<h1 id="#title_18" >19、ACT 1.8.3 发布 - 包含多项有趣更新</h1>

[https://www.oschina.net/news/94621/actframework-1-8-3-released](https://www.oschina.net/news/94621/actframework-1-8-3-released)
<p>
	本来昨天就该发布的，难得 sonatype 的同步故障让我给赶上了，于是拖到了今天。</p><p>
	重要的事情先说</p><ol class=" list-paddingleft-2"><li><p><strong>act-ebean 更名为 act-ebean-java7</strong></p></li><li><p><strong>act-ebean2 更名为 act-ebean</strong></p></li><li><p><strong>act-starter-ebean-aaa 更名为 act-starter-ebean-aaa-java7</strong></p></li><li><p><strong>act-starter-ebean-all 更名为 act-starter-ebean-all-java7</strong></p></li><li><p><strong>act-starter-ebean2-aaa 更名为 act-starter-ebean-aaa</strong></p></li><li><p><strong>act-starter-ebean2-all 更名为 act-starter-ebean-all</strong></p></li></ol><h2>
	错误修复：</h2><ol class=" list-paddingleft-2"><li><p></p></li></ol><h2>
	重要更新</h2><h3>
	1. API 文档生成现在可以直接解析 JavaDoc, 生成服务端点和参数的描述</h3><p>
	代码：</p><pre>&nbsp;&nbsp;&nbsp;&nbsp;/**&nbsp;&nbsp;*&nbsp;Login&nbsp;a&nbsp;user&nbsp;with&nbsp;username&nbsp;and&nbsp;password.&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;username&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;username&nbsp;&nbsp;*&nbsp;@param&nbsp;password&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;password&nbsp;&nbsp;*/&nbsp;@PostAction&nbsp;public&nbsp;void&nbsp;login(String&nbsp;username,&nbsp;String&nbsp;password)&nbsp;{}</pre><p>
	生成的文档：</p><p> </p><h3>
	2. 输入输出模型的进一步优化</h3><p>
	在 1.8.0 的时候我们引入的直接响应输出，可以让大响应（包括 JSON 和 CSV）生成的过程由在内存中生成字串再输出变成一边生成结果，一边输出到响应，大大降低了大响应时候的内存消耗。</p><p>
	但是后来的性能测试发现在小的响应输出的时候直接输出比生成响应内容之后再输出要慢20%。这次对输入输出都做了进一步的优化：</p><ol class=" list-paddingleft-2"><li><p>
		默认所有的响应都按照老的方式输出	</p></li><li><p>
		发现某次响应超过限制（可配置），该方法以后所有的响应都按照直接输出方式进行	</p></li><li><p>
		对于直接输出，采用 ThreadLocal 分配的 buffer 进行缓存，尽可能提高这种方式的吞吐量	</p></li><li><p>
		默认使用 InputStream （会将 I/O 转变为阻塞式）来解析 form post，第一解析之后，所有对该请求接口的输入在 session 解析完之后采用非阻塞式获得 form post body 再调用应用的响应函数，最大限度地提高系统响应能力	</p></li></ol><h3>
	3. 支持 docker</h3><p>
	新的 maven 构建工具支持 docker 了。</p><p>
	构建 docker 容器：</p><pre>mvn&nbsp;-Pdocker&nbsp;package</pre><p>
	发布 docker 容器：</p><pre>mvn&nbsp;-Pdocker&nbsp;install</pre><h3>
	4. 更新 osgl-tool 到 1.8.1 版</h3><p>
	关于 osgl-tool 1.8 的更新我会在单独的博客中说明</p><hr/><p>
	关于 act-1.8.3 的更多细节参见：</p><ul class=" list-paddingleft-2"><li><p></p></li></ul><p>
	和 act-1.8.3 同时发布的有</p><ul class=" list-paddingleft-2"><li><p>
		act-aaa-1.4.1	</p></li><li><p>
		act-beetl-1.4.0 - 支持 profile 分离的 beetl 配置	</p></li><li><p>
		act-beetlsql-1.4.4	</p></li><li><p>
		act-ebean-java7-1.5.2	</p></li><li><p>
		act-ebean-1.6.1	</p></li><li><p>
		act-eclipelink-1.2.2	</p></li><li><p>
		act-excel-1.4.2	</p></li><li><p>
		act-freemarker-1.3.1	</p></li><li><p>
		act-hibernate-1.2.2	</p></li><li><p>
		act-jax-rs-1.0.1	</p></li><li><p>
		act-morphia-1.4.1	</p></li><li><p>
		act-mustache-1.4.1	</p></li><li><p>
		act-sociallink-0.12.1	</p></li><li><p>
		act-storage-0.13.1	</p></li><li><p>
		act-thymeleaf-1.3.1	</p></li><li><p>
		act-velocity-1.3.1	</p></li></ul><p><strong>最重要的留到最后</strong></p><p>
	J2Cache 是个两级缓存框架，它是真正的高性能缓存框架。没有能够集成 J2Cache 是 Act 最大的遗憾</p>
---------------
<h1 id="#title_19" >20、How To Use Heatmaps To Track Clicks On Your WordPress Website</h1>
Adelina Tuca
[https://www.smashingmagazine.com/2018/03/heatmaps-track-links-wordpress/](https://www.smashingmagazine.com/2018/03/heatmaps-track-links-wordpress/)
<p>There are lots of ways to measure the performance of a web page and the most popular one is by far Google Analytics. But knowing exactly what images, words, or elements on your site catch your site visitor’s specific attention is not possible with these tools alone.</p>

<p>Sometimes, you simply want to know <strong>what makes your page great in terms of design, layout, content structure</strong> (you name it) and what prompts people to take one intentional action instead of another. You will be probably surprised to learn that there’s actually a solution to your question: heatmaps.</p>

<p>Unlike , which works with numbers and statistics, the heatmaps show you the exact spots that receive the most engagement on a given page. Through heatmaps, you will know what are the most clicked areas on a page, what paragraphs people select while scanning your content, and what is the scrolling behavior of your clients (e.g., how many went below the fold or how many reached the bottom of the page).</p>

<p>In this article, we will talk about why heatmaps are so efficient for your marketing goals and how they can be integrated with your WordPress site.</p>

<h3 id="why-use-heatmaps-on-your-wordpress-site">Why Use Heatmaps On Your WordPress Site</h3>

<p>Before progressing to the &ldquo;how to&rdquo; part, you might want to know why it&rsquo;s worth it to dedicate valuable time on implementing heatmaps for your WordPress site and what their actual role is.</p>

<p>First off, visual marketing is constantly growing as many more people now  and skip a plain, non-interactive one. If a certain action requires too many steps and a hard to maneuver platform, they eventually give up, and you lose clients.</p>

<aside class="product-panel product-panel__tilted product-panel--book">
    <div class="container product-panel--book__container">
      <div class="panel__description panel__description--book">
    <p>Getting the process <em>just</em> right ain't an easy task. That's why we've set up <strong>'this-is-how-I-work'-sessions</strong> — with smart cookies sharing what works really well for them. A part of the , of course.</p>
      <a href="/membership/" class="btn btn--green btn--large">
        Explore features&nbsp;→
      </a>
      </div>
      <div class="panel__image panel__image--book">
        <a href="/membership/" class="books__book__image">
        <div class="books__book__img">
          <img src="/images/smashing-cat/cat-scubadiving-panel.svg" alt="Smashing TV, with live sessions for professional designers and developers." width="310" height="400">
        </div>
      </a>
      </div>
    </div>
  </aside>


<div class="c-garfield-the-cat">


<p>Of course, great content is still the key, but the way your site is structured and combines various elements will influence the activity of your visitors, which is either convert (engage) or leave.</p>

<p>Marketing experts researched this kind of behavior over time:</p>

<ul>
<li><p> think visual marketing is the most important form of content for their business, second only to blogging (38%);</p></li>

<li><p> prioritized creating visual content assets in 2016;</p></li>

<li><p> with a website if the content/layout is unattractive.</p></li>
</ul>

<p>But what were heatmaps built for specifically? A heatmap can help you discover valuable and, sometimes, surprising facts about your audience.</p>

<p>If you add one to your WordPress site, you can:</p>

<ul>
<li><p>Track your visitors’ clicks and become aware of their expectations while browsing through your site. This way, you can adjust your pages and make them catchier and more compelling.</p></li>

<li><p>Find out what is of interest for people. You’ll know what information they are looking for, so you can put it in the spotlight and use it to your favor.</p></li>

<li><p>Analyze the scrolling behavior. See how many visitors reached the bottom area of the site and how many left immediately without browsing further through the sections.</p></li>

<li><p>Keep an eye on the cursor movement and see what pieces of content your audience is hovering over (or selecting) in a text.</p></li>
</ul>











<figure >
	<a href="https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/790a06e5-bb0f-4d82-badd-88a8f3e2b96e/wordpress-heatmaps-image-0.jpg">
		<img
			srcset="https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_400/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/790a06e5-bb0f-4d82-badd-88a8f3e2b96e/wordpress-heatmaps-image-0.jpg 400w,
			        https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_800/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/790a06e5-bb0f-4d82-badd-88a8f3e2b96e/wordpress-heatmaps-image-0.jpg 800w,
			        https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_1200/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/790a06e5-bb0f-4d82-badd-88a8f3e2b96e/wordpress-heatmaps-image-0.jpg 1200w,
			        https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_1600/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/790a06e5-bb0f-4d82-badd-88a8f3e2b96e/wordpress-heatmaps-image-0.jpg 1600w,
			        https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_2000/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/790a06e5-bb0f-4d82-badd-88a8f3e2b96e/wordpress-heatmaps-image-0.jpg 2000w"
			src="https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_400/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/790a06e5-bb0f-4d82-badd-88a8f3e2b96e/wordpress-heatmaps-image-0.jpg"
			sizes="100vw"
			alt="Scrolling behavior heatmap"
		/>
	</a>

	
		<figcaption>
			Scrolling behavior heatmap
		</figcaption>
	
</figure>


<p>Again, using heatmaps is not only about tracking clicks for fun, it can have many implications for your business’ growth. They can influence purchases or conversions of any kind (it depends on what you want to achieve with your site).</p>

<p>You will know if your call-to-action buttons get the attention you intended, compared to other elements on the same page. Maybe other design elements you placed on your sales page distract people from clicking the buy button, and this can be seen on the hot spots map. Based on the results, you can change the way they look, their position, their styling, etc., hence sales increase.</p>

<p>Bloggers can also use the heatmaps because this way they will know how to create customer-friendly, appealing layouts for their content. <strong>Some layouts generate more traffic than others</strong>, and it&rsquo;s up to you to find out which ones.</p>

<p>If people linger on a certain piece of information, it means it’s valuable for them, and you can use it to your favor by placing a link or a button nearby. Or you can simply create a separate post with even more information on that topic.</p>

<h3 id="how-to-add-a-heatmap-to-your-wordpress-site">How To Add A Heatmap To Your WordPress Site</h3>

<p>No matter if we are talking about plugins originally made for WordPress or third-party tools, the integration is not difficult at all. Usually, the most difficult part about heatmaps is the  interpretation of the results &mdash; the conclusions along with the implications they have on your business and how to use them to your advantage.</p>

<p>When it comes to installing them, you just need to choose one tool and start the tests. are the best and most popular tools that will help you in this direction. <em>Heatmap for WordPress</em> and <em>Hotjar</em> are free, while the other three come in premium plans (they offer free trials, though).</p>

<p>It’s important to mention that all these tools (except for <em>Heatmap for WordPress</em>) work with as well, not only WordPress. They are universal; it’s just that the WordPress developers found an easy way to integrate them with the latter so that the non-coders won’t struggle much with it. To integrate them with any other website builder, such as Squarespace for instance, you need to play with the code a little bit.</p>

<p>So, how to set up the heatmaps on your site? Let’s use Hotjar because it does a good job overall. It is intuitive, modern, and quick to implement in WordPress.</p>

<p>In this case, let’s take <em>Hotjar Connecticator</em> plugin as an example. After installing and activating it, you need to create an account on hotjar.com, add the URL of the site you want to monitor (you can add more sites later), and copy the provided tracking code to the plugin’s page in your WordPress dashboard (as seen below).</p>











<figure >
	<a href="https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/421b4b22-1e09-42b9-80ff-9b7283f5afa3/wordpress-heatmaps-image-1.jpg">
		<img
			srcset="https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_400/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/421b4b22-1e09-42b9-80ff-9b7283f5afa3/wordpress-heatmaps-image-1.jpg 400w,
			        https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_800/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/421b4b22-1e09-42b9-80ff-9b7283f5afa3/wordpress-heatmaps-image-1.jpg 800w,
			        https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_1200/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/421b4b22-1e09-42b9-80ff-9b7283f5afa3/wordpress-heatmaps-image-1.jpg 1200w,
			        https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_1600/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/421b4b22-1e09-42b9-80ff-9b7283f5afa3/wordpress-heatmaps-image-1.jpg 1600w,
			        https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_2000/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/421b4b22-1e09-42b9-80ff-9b7283f5afa3/wordpress-heatmaps-image-1.jpg 2000w"
			src="https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_400/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/421b4b22-1e09-42b9-80ff-9b7283f5afa3/wordpress-heatmaps-image-1.jpg"
			sizes="100vw"
			alt=""
		/>
	</a>

	
</figure>


<p>Now, it’s time to create the heatmap, which can be done right from the Hotjar platform (you can’t customize anything on your WordPress dashboard). So, click on Heatmaps, then New Heatmap.</p>

<p>Next, you need to choose your Page Targeting preferences. Do you want to track the hot spots on a single page? Do you test several pages at the same time to compare their results? That works too. If you need the latter, you have some URL formats available, so you can make sure you can target all the pages from a specific category (sorted by type, publishing date, etc.) You can even write the exact words that the links contain and Hotjar starts tracking the pages.</p>

<p>An interesting thing about Hotjar is that it lets you exclude page elements that you don’t want to monitor by adding their CSS selectors. This way, you can <strong>avoid being distracted by unneeded things</strong> when you compare or analyze the results and can focus only on the ones that you want to test.</p>

<p>After you create the heatmap, the first screenshot with the hot spots will be provided only after the page starts to get visitors and clicks, so don&rsquo;t expect results right away. The tool tracks all the views you had on that page since the heatmap was created so that you can make reports based on the views and the number of clicks. This kind of reports let you know you how clickable (or not) your content is.</p>

<p>Here’s how the first screenshot provided by Hotjar looks (the testing was done on an uncustomized version of  WordPress theme):</p>











<figure >
	<a href="https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/cfe55cca-5187-4e5e-9e08-40e3d1c890d5/wordpress-heatmaps-image-2.jpg">
		<img
			srcset="https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_400/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/cfe55cca-5187-4e5e-9e08-40e3d1c890d5/wordpress-heatmaps-image-2.jpg 400w,
			        https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_800/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/cfe55cca-5187-4e5e-9e08-40e3d1c890d5/wordpress-heatmaps-image-2.jpg 800w,
			        https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_1200/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/cfe55cca-5187-4e5e-9e08-40e3d1c890d5/wordpress-heatmaps-image-2.jpg 1200w,
			        https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_1600/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/cfe55cca-5187-4e5e-9e08-40e3d1c890d5/wordpress-heatmaps-image-2.jpg 1600w,
			        https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_2000/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/cfe55cca-5187-4e5e-9e08-40e3d1c890d5/wordpress-heatmaps-image-2.jpg 2000w"
			src="https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_400/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/cfe55cca-5187-4e5e-9e08-40e3d1c890d5/wordpress-heatmaps-image-2.jpg"
			sizes="100vw"
			alt=""
		/>
	</a>

	
</figure>


<p>Another awesome thing about this tool is that it provides you the option to create simple and interactive polls to ask your users why they’re leaving your page or what were the things they didn’t enjoy about your page.</p>

<h3 id="case-study-how-we-improved-landing-pages-on-themeisle-and-codeinwp-with-heatmaps">Case Study: How We Improved Landing Pages On ThemeIsle And CodeinWP With Heatmaps</h3>

<p>The theory sounds captivating, and it’s almost always easier than the practice itself. But does this method really work? Is it efficient? Do you get pertinent results and insights at the end of the day?</p>

<p>The answer is: Yes, if you have patience.</p>

<p>We love heatmaps at and use them on many of our pages. The pages are mostly related to WordPress themes since the company is an online shop that sells themes and plugins for this particular platform.</p>

<p>One of the most popular pieces of content from  is related to themes as well. We have a large range of listings, and many of them rank in top three of Google results page. Lately, we have experimented with two types of layouts for the lists: one that has a single screenshot presenting the theme’s homepage and another providing three screenshots: homepage, single post page, and mobile display.</p>


  <div id="sponsors-article" data-impression="true" class="c-promo-box c-promo-box--ad sponsors hidden" data-audience="non-subscriber" data-remove="true"></div>



<p>The main thing we noticed after comparing the two versions was that quite the same number of people reached to end of the list, but the clicks distribution was different: the listing with more visuals didn&rsquo;t get as many clicks in the bottom half as the one with only one screenshot. This means that the list with more visuals is more explanatory because it offers more samples from the theme’s design, which helps people realize faster which ones are appealing to them. Given this fact, there’s no need for extra clicks to see how a theme looks.</p>

<p>In the one-screenshot case, people dig deeper to find more details about a theme, since there’s only the homepage that they can see from the picture. Hence, they will click more to get to the theme&rsquo;s page and launch its live demo.</p>

<p>So, if you’re looking for advertising opportunities or you’re using affiliate links, the one-picture version will help you more in terms of user engagement and time spent on your site.</p>











<figure >
	<a href="https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/1b49f4c2-f056-42b6-927b-7a84444beb25/wordpress-heatmaps-image-3.jpg">
		<img
			srcset="https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_400/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/1b49f4c2-f056-42b6-927b-7a84444beb25/wordpress-heatmaps-image-3.jpg 400w,
			        https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_800/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/1b49f4c2-f056-42b6-927b-7a84444beb25/wordpress-heatmaps-image-3.jpg 800w,
			        https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_1200/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/1b49f4c2-f056-42b6-927b-7a84444beb25/wordpress-heatmaps-image-3.jpg 1200w,
			        https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_1600/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/1b49f4c2-f056-42b6-927b-7a84444beb25/wordpress-heatmaps-image-3.jpg 1600w,
			        https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_2000/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/1b49f4c2-f056-42b6-927b-7a84444beb25/wordpress-heatmaps-image-3.jpg 2000w"
			src="https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_400/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/1b49f4c2-f056-42b6-927b-7a84444beb25/wordpress-heatmaps-image-3.jpg"
			sizes="100vw"
			alt=""
		/>
	</a>

	
</figure>












<figure >
	<a href="https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/be3e2b6a-4d07-4e98-b8ef-3a328e590ad6/wordpress-heatmaps-image-4.jpg">
		<img
			srcset="https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_400/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/be3e2b6a-4d07-4e98-b8ef-3a328e590ad6/wordpress-heatmaps-image-4.jpg 400w,
			        https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_800/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/be3e2b6a-4d07-4e98-b8ef-3a328e590ad6/wordpress-heatmaps-image-4.jpg 800w,
			        https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_1200/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/be3e2b6a-4d07-4e98-b8ef-3a328e590ad6/wordpress-heatmaps-image-4.jpg 1200w,
			        https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_1600/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/be3e2b6a-4d07-4e98-b8ef-3a328e590ad6/wordpress-heatmaps-image-4.jpg 1600w,
			        https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_2000/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/be3e2b6a-4d07-4e98-b8ef-3a328e590ad6/wordpress-heatmaps-image-4.jpg 2000w"
			src="https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_400/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/be3e2b6a-4d07-4e98-b8ef-3a328e590ad6/wordpress-heatmaps-image-4.jpg"
			sizes="100vw"
			alt=""
		/>
	</a>

	
</figure>


<p>Another example of using heatmaps is Hestia theme&rsquo;s documentation page. During the testing process, we noticed that a significant number of users are interested in upgrading to the premium version after seeing the number of clicks on the word &ldquo;Upgrade&rdquo;, which convinced us to move the upgrade button to a more obvious place and improve the destination page that contains the premium features of the theme.</p>

<p>Speaking of premium features, another experiment of ours was to track the cursor movement and see what are the features people are hovering over more when checking the documentation. Based on the results, we used the most popular items on many landing pages that were seeking conversion - which, in this case, was the upgrade to the premium theme by our free users.</p>











<figure >
	<a href="https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/b479edf4-5894-47cc-99c3-cb79e64d94d1/wordpress-heatmaps-image-5.png">
		<img
			srcset="https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_400/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/b479edf4-5894-47cc-99c3-cb79e64d94d1/wordpress-heatmaps-image-5.png 400w,
			        https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_800/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/b479edf4-5894-47cc-99c3-cb79e64d94d1/wordpress-heatmaps-image-5.png 800w,
			        https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_1200/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/b479edf4-5894-47cc-99c3-cb79e64d94d1/wordpress-heatmaps-image-5.png 1200w,
			        https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_1600/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/b479edf4-5894-47cc-99c3-cb79e64d94d1/wordpress-heatmaps-image-5.png 1600w,
			        https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_2000/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/b479edf4-5894-47cc-99c3-cb79e64d94d1/wordpress-heatmaps-image-5.png 2000w"
			src="https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_400/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/b479edf4-5894-47cc-99c3-cb79e64d94d1/wordpress-heatmaps-image-5.png"
			sizes="100vw"
			alt=""
		/>
	</a>

	
</figure>


<p>We also created a heatmap for our FAQ page to track the less clicked questions, which we replaced subsequently with other relevant ones. The test is still in progress, as we are trying to improve our support services and offer the customers smoother experiences with our products.</p>











<figure >
	<a href="https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/e803c363-90f6-42bd-95ea-18f8f8110771/wordpress-heatmaps-image-6.png">
		<img
			srcset="https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_400/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/e803c363-90f6-42bd-95ea-18f8f8110771/wordpress-heatmaps-image-6.png 400w,
			        https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_800/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/e803c363-90f6-42bd-95ea-18f8f8110771/wordpress-heatmaps-image-6.png 800w,
			        https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_1200/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/e803c363-90f6-42bd-95ea-18f8f8110771/wordpress-heatmaps-image-6.png 1200w,
			        https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_1600/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/e803c363-90f6-42bd-95ea-18f8f8110771/wordpress-heatmaps-image-6.png 1600w,
			        https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_2000/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/e803c363-90f6-42bd-95ea-18f8f8110771/wordpress-heatmaps-image-6.png 2000w"
			src="https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_400/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/e803c363-90f6-42bd-95ea-18f8f8110771/wordpress-heatmaps-image-6.png"
			sizes="100vw"
			alt=""
		/>
	</a>

	
</figure>


<h3 id="the-importance-of-a-b-testing">The Importance Of A/B Testing</h3>

<p>After getting great insights from the heatmaps, you don’t have to stop there. Create alternatives for your pages based on the results and use the A/B testing method to see which ones perform better.</p>

<p>A/B testing is probably the most popular method with which you can compare two or more versions of the same page. The end goal is to find out which one converts better. You should try it because it definitely helps you get closer to your goals and offers you a new perspective on how your content is being consumed by your audience.</p>

<p>So, after using heatmaps for a while and tracking the behavior of your users, start to make a plan on how to improve your site’s usability. Create alternatives, don’t stick with only one. If you have more than one idea, put them all to test and observe people’s reactions. The goal here is to create the most efficient landing page, the one that has the best chances to convert or to receive the expected engagement.</p>

<p>But how does A/B testing work?</p>

<p>Well, there are several plugins built to make this method work on your WordPress site, but  is the most popular based on the reviews it has on WordPress.org directory (and it&rsquo;s also free). After installing the plugin, you can choose the type of experiment you want to run. It has a large range of options to compare: pages, posts, headlines, widgets, and more.</p>











<figure >
	<a href="https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/4b84fe1d-5d0e-46f1-a0dc-ec20e62cc01e/wordpress-heatmaps-image-7.jpg">
		<img
			srcset="https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_400/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/4b84fe1d-5d0e-46f1-a0dc-ec20e62cc01e/wordpress-heatmaps-image-7.jpg 400w,
			        https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_800/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/4b84fe1d-5d0e-46f1-a0dc-ec20e62cc01e/wordpress-heatmaps-image-7.jpg 800w,
			        https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_1200/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/4b84fe1d-5d0e-46f1-a0dc-ec20e62cc01e/wordpress-heatmaps-image-7.jpg 1200w,
			        https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_1600/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/4b84fe1d-5d0e-46f1-a0dc-ec20e62cc01e/wordpress-heatmaps-image-7.jpg 1600w,
			        https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_2000/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/4b84fe1d-5d0e-46f1-a0dc-ec20e62cc01e/wordpress-heatmaps-image-7.jpg 2000w"
			src="https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_400/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/4b84fe1d-5d0e-46f1-a0dc-ec20e62cc01e/wordpress-heatmaps-image-7.jpg"
			sizes="100vw"
			alt=""
		/>
	</a>

	
</figure>


<p>Now, starting an experiment is really easy, it takes a few minutes. When you create it, you need to add the original page you want to run tests on, the alternative you want to compare it to, and the goal (what you are trying to achieve with the experiment: get page views, clicks, or direct people to an external source). After stopping the experiments, the plugin will show you detailed results that revolve around the goal you set in the first place. So, at the end of the test, you can tell which page performed better, and you can use it on your site… until a new idea comes to your mind and you should start testing again. Because digital marketing is not about assuming and hoping that things will happen, <strong>it&rsquo;s about making things happen</strong>. That&rsquo;s why you should always test, test, and test again.</p>

<p>By the way, with Nelio A/B Testing plugin, you can create heatmaps too, but they are not as sophisticated as the plugins listed earlier and don’t deliver as many insights. But you can try it out if you want to run quick experiments and need some basic information about a page.</p>

<h3 id="conclusion">Conclusion</h3>

<p>If you want to have a successful business or to be the author of a bold project, keep adjusting your strategies. Try new things every day, every week. To be able to adjust, it’s not enough to simply know your audience but to also test its behavior and make the next moves based on that.</p>

<p><strong>Marketing is not about guessing what your customers want</strong>; it’s about finding it yourself and offering them that one thing they need. The heatmaps method will help you along the way by sketching people’s behavior on your site and highlighting what they care most about. It&rsquo;s simple, fast, visual (you don&rsquo;t need to dig too much into statistics to understand your audience), and fun.</p>

<p>Knowing what your users’ actions are when they land on your web pages could be something truly fascinating, and you can learn a lot from it.</p>




<div class="signature">
  <img src="/images/logo/logo--red.svg" alt="Smashing Editorial">
  <span>(mc, ra, il)</span>
</div>


</div>
---------------
<h1 id="#title_20" >21、码云周刊 | Web 开发时代，盘点 5 个前端 UI 优秀框架</h1>

[https://my.oschina.net/gitosc/blog/1650082](https://my.oschina.net/gitosc/blog/1650082)
<p>随着 Web 技术的不断发展，前端开发框架层出不穷，各有千秋，今天小编为大家奉上前端 UI 框架的开源项目，希望大家能够喜欢！</p>
---------------
<h1 id="#title_21" >22、Apache 基金会 19 岁啦！红薯表示：和我同岁哦</h1>

[https://www.oschina.net/news/94618/the-apache-software-foundation-19](https://www.oschina.net/news/94618/the-apache-software-foundation-19)
<p><img data-cke-saved-src="https://static.oschina.net/uploads/space/2018/0327/083856_2Ap4_2903254.png" src="https://static.oschina.net/uploads/space/2018/0327/083856_2Ap4_2903254.png" width="439" height="304"/></p><p>3 月 26 日，Apache 软件基金会（ASF）宣布了其 19 岁生日。作为全球最大的开源基金会，拥有数十个免费（免费）企业级 Apache 项目，涵盖人工智能和深度学习，大数据，构建管理，云计算，内容管理，DevOps，物联网和边缘计算，移动，服务器和 Web 框架等众多领域。 “由 Apache 提供支持”的应用程序的范围包括：</p><ul class=" list-paddingleft-2"><li><p>80M + 使用 Apache HTTP Server 的网站<br/></p></li><li><p>2.6-terabyte，获得普利策奖的巴拿马文件（Pulitzer Prize-winning Panama Papers）调查<br/></p></li><li><p>美国联邦航空局的全系统信息管理<br/></p></li><li><p>每天在 Netflix 举办 500+B 每日活动<br/></p></li><li><p>跨 Android / Blackberry / iOS / Ubuntu / Windows / Windows Phone / OS X 平台的移动应用程序开发统一<br/></p></li><li><p>在 Facebook 的 300PB 数据仓库中请求处理<br/></p></li><li><p>为苹果，迪斯尼，华为，塔塔和其他无数人提供云端服务<br/></p></li><li><p>在美国宇航局喷气推进实验室访问多任务，多仪器科学数据系统的内容<br/></p></li></ul><p>ASF 主席 Phil Steitz 表示，现在他们拥有 6,618 名提交者，去年刚刚增加了 504 名，得到了 48 家企业赞助商和数千名个人捐助者的慷慨支持。</p><p>Apache 社区在过去 12 个月取得的成功主要包括：<br/></p><ul class=" list-paddingleft-2"><li><p>继续监管 Apache 存储库中1 90M + 代码行<br/></p></li><li><p>从 Apache 镜像下载 9M+ 源代码（不包括便利的二进制文件）</p></li><li><p>在 225,500 次提交中，3,255 名提交者更改了 71,186,324 行代码<br/></p></li><li><p>194 个顶级项目委员会管理着 319 个项目<br/></p></li><li><p>从 Apache 孵化器毕业的 20 个新顶级项目<br/></p></li><li><p>目前正在 Apache 孵化器中进行开发的 54 个新项目<br/></p></li><li><p>21,893 位作者通过 1,131 个邮件列表发送了 1,771,557 封 662,661 个主题的电子邮件<br/></p></li><li><p>收到来自全球所有互联网连接国家的网络请求<br/></p></li><li><p>每周在 apache.org 上的 35M 页面浏览量。<br/></p></li></ul><p>&nbsp;原文：</p>
---------------
<h1 id="#title_22" >23、EasySwoole — 基于 Swoole Server 的常驻内存型框架</h1>

[https://www.oschina.net/p/easyswoole](https://www.oschina.net/p/easyswoole)
<p>EasySwoole 是一款基于 Swoole Server 开发的常驻内存型 PHP 框架，专为 API 而生，摆脱传统 PHP 运行模式在进程唤起和文件加载上带来的性能损失。</p>
---------------
<h1 id="#title_23" >24、每日一博 | 总结 JDK1.5-JDK1.8 的各个新特性</h1>

[https://my.oschina.net/zhuqingbo0501/blog/1784693](https://my.oschina.net/zhuqingbo0501/blog/1784693)
<p>要了解一门语言，最好的方式就是要能从基础的版本进行了解，升级的过程，以及升级的新特性，这样才能循序渐进的学好一门语言。</p>
---------------
<h1 id="#title_24" >25、码云推荐 | Golang 的强大 SQL ORM 库 Toyorm</h1>

[https://gitee.com/bigpigeon/toyorm](https://gitee.com/bigpigeon/toyorm)
<p>这是 Golang 的强大的 sql orm 库，包含一些有趣的功能</p>
---------------
<h1 id="#title_25" >26、KDE 赢得 Linux Journal 的最佳桌面环境读者选择奖</h1>

[https://www.oschina.net/news/94614/kde-the-best-desktop-environment-linux-journal](https://www.oschina.net/news/94614/kde-the-best-desktop-environment-linux-journal)
<p>近日，著名 Linux 期刊&nbsp;Linux Journal 公布了由读者投票得出的最佳桌面环境读者选择奖 —— KDE。<br/></p><p><img data-cke-saved-src="https://static.oschina.net/uploads/space/2018/0327/013519_AYv8_2720166.jpg" src="https://static.oschina.net/uploads/space/2018/0327/013519_AYv8_2720166.jpg"/></p><p>通过推特进行投票的具体结果排名</p><ul class=" list-paddingleft-2"><li><p>KDE: 35%</p></li><li><p>GNOME: 20%</p></li><li><p>Xfce: 15%</p></li><li><p>Cinnamon: 11%</p></li><li><p>MATE: 7%</p></li><li><p>Other: 7%</p></li><li><p>Unity: 3%</p></li><li><p>LXQt: 1%</p></li></ul><p><img alt="" data-cke-saved-src="https://static.oschina.net/uploads/space/2018/0327/011617_BAjX_2720166.png" src="https://static.oschina.net/uploads/space/2018/0327/011617_BAjX_2720166.png"/></p><p>可以看到，支持 KDE 的人数远高于分别排名第二、三的&nbsp;GNOME 和 Xfce。KDE&nbsp;凭借其稳定性、性能、丰富的功能集以及忠实的粉丝，在今年的 Linux&nbsp;Journal 读者选择奖中荣获“最佳桌面环境”称号。</p><p>Linux Journal 读者 Larry Coombes 表示，他投票 KDE 的原因很多，其中包括：</p><blockquote><ol class=" list-paddingleft-2"><li><p>完全可配置。对于希望将其 Linux 桌面环境配置为模拟他们长期使用的 Windows&nbsp;(XP or 7) 的渲染方式的新用户而言，KDE 是必不可少的选择。另外，当新用户问我：“Linux 可以做 XYZ 吗？我可以在 Windows 上做到这一点哦......”。对于 KDE，答案总是“是的，可以”，十分节省交流的时间！</p></li><li><p>我也尝试过其他的桌面环境，但对键盘快捷键支持的体验都比不上 KDE，而这对于我的使用来说是必不可少的。我需要教导孩子、需要从一个应用程序跳到另一个应用程序、混淆文件等等。使用 KDE，我可以最大限度地减少对触摸板的操作，并将笔记本当作适当的便携式设备。我有大约 50 个键盘快捷键来推动我的工作 —— 并且能够在出租车和火车上使用！</p></li></ol></blockquote><p>原文：</p>
---------------
<h1 id="#title_26" >27、GNOME 3.30 “Almeria” 正式版将于 9 月 6 日发布</h1>

[https://www.oschina.net/news/94613/gnome-3-30-almeria-desktop-environment](https://www.oschina.net/news/94613/gnome-3-30-almeria-desktop-environment)
<p>GNOME 项目宣布了下一版本的发布时间表。开发人员表示，你还没有</p>
---------------
<h1 id="#title_27" >28、OSChina 周二乱弹 —— 希望巴叔早点康复</h1>

[https://my.oschina.net/xxiaobian/blog/1785354](https://my.oschina.net/xxiaobian/blog/1785354)
<p>去广场玩，好多人夸金毛妮妮，跟我说：“你这个金毛好金啊！”我不知道回什么，只好指着哈士奇：“你这个哈士奇也很哈哈哈啊。”</p>
---------------
<h1 id="#title_28" >29、Linus：Linux 内核 4.16 正式版有望本周末发布</h1>

[https://www.oschina.net/news/94611/linux-kernel-4-16-will-release-this-weekend](https://www.oschina.net/news/94611/linux-kernel-4-16-will-release-this-weekend)
<p>在发布多个候选版本之后，Linus Torvalds表示极有可能会在本周末放出Linux Kernel 4.16正式稳定版。Torvalds表示他并没有计划发布第8个候选版本的打算，认为目前的更新规模比较合理。</p><p><img data-cke-saved-src="https://static.oschina.net/uploads/space/2018/0327/074724_ODLz_2903254.png" src="https://static.oschina.net/uploads/space/2018/0327/074724_ODLz_2903254.png" width="528" height="365"/><br/></p><p>新版本除了驱动方面的升级之外，Torvalds表示本次更新重点集中在网络方面，此外gpu, pinctrl, rdma, iio和misc都进行了修复。他同时表示本次版本更新还对支持文档和架构（主要是x86）进行了更新，此外还对mm进行了一些修复。</p><p>在他今天更新的邮件列表中，Torvalds表示到目前为止，4.16分支的开发工作如期进行，而且整个开发内容要比预想的要多。4.16分支之所以重点在网络上，是因为在RC6中没有涉及网络更新，这意味着在RC7中包含了大约2.5周的网络更新内容。</p><p>来源：</p>
---------------
<h1 id="#title_29" >30、FSF 宣布 2017 年度的自由软件奖得主</h1>

[https://www.oschina.net/news/94610/2017-free-software-awards-winners](https://www.oschina.net/news/94610/2017-free-software-awards-winners)
<p>自由软件基金会（FSF）主席 RMS 在 MIT 举行的 LibrePlanet 2018 会议上</p>
---------------
<h1 id="#title_30" >31、文章： Spring 5的Servlet和反应式技术栈解析</h1>
Rossen Stoyanchev
[http://www.infoq.com/cn/articles/Servlet-and-Reactive-Stacks-Spring-Framework-5?utm_campaign=infoq_content&utm_source=infoq&utm_medium=feed&utm_term=global](http://www.infoq.com/cn/articles/Servlet-and-Reactive-Stacks-Spring-Framework-5?utm_campaign=infoq_content&utm_source=infoq&utm_medium=feed&utm_term=global)
<img src="https://res.infoq.com/articles/Servlet-and-Reactive-Stacks-Spring-Framework-5/zh/smallimage/logo-1521040881141.jpg"/><p>Spring 5支持传统的基于Servlet的技术栈和反应式技术栈，而应用程序有转向异步和非阻塞并发的趋势。这篇文章将探讨这两种技术栈，并告诉我们该如何做出选择。
</p> <i>By Rossen Stoyanchev</i> <i> Translated by 无明</i>
---------------
<h1 id="#title_31" >32、文章： 阿里巴巴AAAI 2018录用论文：知识图谱实体链接无监督学习框架CoLink</h1>
钟泽轩等
[http://www.infoq.com/cn/articles/aaai-colink-unsupervised-framework-for-user-identity-linkage?utm_campaign=infoq_content&utm_source=infoq&utm_medium=feed&utm_term=global](http://www.infoq.com/cn/articles/aaai-colink-unsupervised-framework-for-user-identity-linkage?utm_campaign=infoq_content&utm_source=infoq&utm_medium=feed&utm_term=global)
<img src="https://res.infoq.com/articles/aaai-colink-unsupervised-framework-for-user-identity-linkage/zh/smallimage/GettyImages-544982936 copy-1521920458158.jpg"/><p>CoLink使用了一种能同时操作两个独立模型的协同训练算法，并且能以无监督学习的方式迭代式地让两个模型彼此互相增强。我们还提出使用“序列到序列”学习作为基于属性的模型非常有效，这种方法能将属性对齐难题当作机器翻译问题处理。我们将 CoLink 应用到了将企业网络中的员工映射到他们的领英个人资料的实体信息链接任务上。实验结果表明CoLink在F1分数上的表现超过之前最佳的无监督方法的20%以上。</p> <i>By 钟泽轩等</i>
---------------
<h1 id="#title_32" >33、文章： 一个简单可参考的API网关架构设计</h1>
王苏龙
[http://www.infoq.com/cn/articles/api-gateway-architecture-design?utm_campaign=infoq_content&utm_source=infoq&utm_medium=feed&utm_term=global](http://www.infoq.com/cn/articles/api-gateway-architecture-design?utm_campaign=infoq_content&utm_source=infoq&utm_medium=feed&utm_term=global)
<img src="https://res.infoq.com/articles/api-gateway-architecture-design/zh/smallimage/logo-small-1510585675128-1521919018101.jpg"/><p>传统企业正在做微服务架构转型的开发人员或者架构师，希望本文对您能起到一定的引导作用。</p> <i>By 王苏龙</i>
---------------
<h1 id="#title_33" >34、视频演讲： 如何打造自己的 PWA 应用</h1>
钟恒
[http://www.infoq.com/cn/presentations/how-to-build-your-own-pwa-application?utm_campaign=infoq_content&utm_source=infoq&utm_medium=feed&utm_term=global](http://www.infoq.com/cn/presentations/how-to-build-your-own-pwa-application?utm_campaign=infoq_content&utm_source=infoq&utm_medium=feed&utm_term=global)
<img src="https://res.infoq.com/presentations/how-to-build-your-own-pwa-application/zh/mediumimage/zhongheng270-1521947756260.jpg"/><p>虽然近年来 Web App 大放异彩，但是其本身仍然有很多弊端。低速网络带来的影响，与原生应用的差距等等，而 PWA（渐进式 Web 应用程序）、React Native、weex 等解决方案也应运而生。相对于 RN 和 weex，PWA 更为容易上手，更利于前端开发者理解。
本次分享我将结合在声享项目中的实践给大家介绍如何打造打造一个可靠、快速、互动性更好的 PWA 应用。如何利用 Service Worker 增强我们的应用。</p> <i>By 钟恒</i>
---------------
<h1 id="#title_34" >35、视频演讲： 从视觉计算近期进展“管窥”AI之ABCDE</h1>
山世光
[http://www.infoq.com/cn/presentations/from-the-recent-progress-of-visual-computing-see-abcde-in-ai?utm_campaign=infoq_content&utm_source=infoq&utm_medium=feed&utm_term=global](http://www.infoq.com/cn/presentations/from-the-recent-progress-of-visual-computing-see-abcde-in-ai?utm_campaign=infoq_content&utm_source=infoq&utm_medium=feed&utm_term=global)
<img src="https://res.infoq.com/presentations/from-the-recent-progress-of-visual-computing-see-abcde-in-ai/zh/mediumimage/shanshiguang270-1521462668638.jpg"/><p>报告将在回顾计算机视觉领域近期部分重要进展的基础上，对此次AI热潮背后的深度学习技术源起和基本原理做概括性的介绍，特别是将探寻深度学习与脑神经科学的关系。之后，将以一个具体的例子为切入点，介绍深度学习给AI研发带来的方法论上的变迁，继而分析深度学习对全面实现AI的不足之处以及未来需要努力的方向。</p> <i>By 山世光</i>
---------------
<h1 id="#title_35" >36、视频演讲： 从Kubernetes到Cloud Native——云原生应用之路</h1>
宋净超
[http://www.infoq.com/cn/presentations/from-kubernetes-to-cloud-native-cloud-native-applications?utm_campaign=infoq_content&utm_source=infoq&utm_medium=feed&utm_term=global](http://www.infoq.com/cn/presentations/from-kubernetes-to-cloud-native-cloud-native-applications?utm_campaign=infoq_content&utm_source=infoq&utm_medium=feed&utm_term=global)
<img src="https://res.infoq.com/presentations/from-kubernetes-to-cloud-native-cloud-native-applications/zh/mediumimage/songjingchao270-1521471711029.jpg"/><p>云计算经过了十多年的发展，已然进入的云原生的新阶段，企业应用优先考虑部署在云环境，如何顺应云原生的大潮，使用容器和Kubernetes构建云原生平台，践行DevOps理念和敏捷IT，开源软件和社区如何助力IT转型，所有这些问题的解决方案就是PaaS平台，其对于企业的重要性不言而喻。

本次分享将带您回顾容器和kubernetes的发展路径，以及我对kubernetes如何应用在生产的思考。

</p> <i>By 宋净超</i>
---------------
<h1 id="#title_36" >37、Web正面临威胁，请加入我们为之奋斗</h1>
Tim Berners Lee
[http://www.infoq.com/cn/news/2018/03/Web-threat-join-fight-it?utm_campaign=infoq_content&utm_source=infoq&utm_medium=feed&utm_term=global](http://www.infoq.com/cn/news/2018/03/Web-threat-join-fight-it?utm_campaign=infoq_content&utm_source=infoq&utm_medium=feed&utm_term=global)
<img src="http://www.infoq.com/styles/i/logo_bigger.jpg"/><p>万维网如今已经诞生29年，全世界的网民数量将超过一半以上人口，这标志着Web历史上的一个里程碑。我们为此欣喜的同时，也需要正视Web所面临的各种现实威胁。我们每一个人都需要致力于改善Web环境，缩小数字鸿沟，让Web服务于人，憧憬Web的未来并为之奋斗。让我们携手共进，实现更宏大的Web梦想！</p> <i>By Tim Berners Lee</i> <i> Translated by 张健欣</i>
---------------
<h1 id="#title_37" >38、Ionic宣布用于创建Web、混合和本机应用的Capacitor 1.0.0 Alpha版</h1>
Dylan Schiemann
[http://www.infoq.com/cn/news/2018/03/capacitor-1-alpha-release?utm_campaign=infoq_content&utm_source=infoq&utm_medium=feed&utm_term=global](http://www.infoq.com/cn/news/2018/03/capacitor-1-alpha-release?utm_campaign=infoq_content&utm_source=infoq&utm_medium=feed&utm_term=global)
<img src="http://www.infoq.com/styles/i/logo_bigger.jpg"/><p>Ionic团队已经宣布了Capacitor的第一个alpha版本 ，这是一种用JavaScript在移动和桌面平台上构建Web、混合和原生应用的新方法。</p> <i>By Dylan Schiemann</i> <i> Translated by 冬雨</i>
---------------
<h1 id="#title_38" >39、最高法院就Microsoft云计算案的法律问题开展口头辩论</h1>
Michael Stiefel
[http://www.infoq.com/cn/news/2018/03/supreme-court-cloud-oralargument?utm_campaign=infoq_content&utm_source=infoq&utm_medium=feed&utm_term=global](http://www.infoq.com/cn/news/2018/03/supreme-court-cloud-oralargument?utm_campaign=infoq_content&utm_source=infoq&utm_medium=feed&utm_term=global)
<img src="http://www.infoq.com/styles/i/logo_bigger.jpg"/><p>2018年2月27日，美国最高法院听取了Microsoft云计算案的口头辩论。本案对Microsoft的裁决，可能将会要求位于美国的企业提交其存储在国外服务器上的美国执法数据。在这种情况下，位于美国的企业可能将无法为国外提供许多云计算服务。</p> <i>By Michael Stiefel</i> <i> Translated by 盖磊</i>
---------------
<h1 id="#title_39" >40、Rust在2018年将专注于开发效率、WebAssembly、嵌入式等方面</h1>
Sergio De Simone
[http://www.infoq.com/cn/news/2018/03/rust-2018-roadmap?utm_campaign=infoq_content&utm_source=infoq&utm_medium=feed&utm_term=global](http://www.infoq.com/cn/news/2018/03/rust-2018-roadmap?utm_campaign=infoq_content&utm_source=infoq&utm_medium=feed&utm_term=global)
<img src="http://www.infoq.com/styles/i/logo_bigger.jpg"/><p>Rust团队发布了2018年的Rust路线图，将开发效率放在了首位，并把目标锁定了如下四个主要领域：Web Service、WebAssembly、基于命令行的应用程序和嵌入式设备。</p> <i>By Sergio De Simone</i> <i> Translated by 无明</i>
---------------
<h1 id="#title_40" >41、Update on Async Rendering</h1>

[https://reactjs.org/blog/2018/03/27/update-on-async-rendering.html](https://reactjs.org/blog/2018/03/27/update-on-async-rendering.html)
<p>For over a year, the React team has been working to implement asynchronous rendering. Last month during his talk at JSConf Iceland, . Now we’d like to share with you some of the lessons we’ve learned while working on these features, and some recipes to help prepare your components for async rendering when it launches.</p>
<p>One of the biggest lessons we’ve learned is that some of our legacy component lifecycles tend to encourage unsafe coding practices. They are:</p>
<ul>
<li><code>componentWillMount</code></li>
<li><code>componentWillReceiveProps</code></li>
<li><code>componentWillUpdate</code></li>
</ul>
<p>These lifecycle methods have often been misunderstood and subtly misused; furthermore, we anticipate that their potential misuse may be more problematic with async rendering. Because of this, we will be adding an “UNSAFE_” prefix to these lifecycles in an upcoming release. (Here, “unsafe” refers not to security but instead conveys that code using these lifecycles will be more likely to have bugs in future versions of React, especially once async rendering is enabled.)</p>
<h2 id="gradual-migration-path">Gradual Migration Path</h2>
<p>, so this change will be gradual. Our current plan is:</p>
<ul>
<li><strong>16.3</strong>: Introduce aliases for the unsafe lifecycles, <code>UNSAFE_componentWillMount</code>, <code>UNSAFE_componentWillReceiveProps</code>, and <code>UNSAFE_componentWillUpdate</code>. (Both the old lifecycle names and the new aliases will work in this release.)</li>
<li><strong>A future 16.x release</strong>: Enable deprecation warning for <code>componentWillMount</code>, <code>componentWillReceiveProps</code>, and <code>componentWillUpdate</code>. (Both the old lifecycle names and the new aliases will work in this release, but the old names will log a DEV-mode warning.)</li>
<li><strong>17.0</strong>: Remove <code>componentWillMount</code>, <code>componentWillReceiveProps</code>, and <code>componentWillUpdate</code> . (Only the new “UNSAFE_” lifecycle names will work from this point forward.)</li>
</ul>
<p><strong>Note that if you’re a React application developer, you don’t have to do anything about the legacy methods yet. The primary purpose of the upcoming version 16.3 release is to enable open source project maintainers to update their libraries in advance of any deprecation warnings. Those warnings will not be enabled until a future 16.x release.</strong></p>
<p>We maintain over 50,000 React components at Facebook, and we don’t plan to rewrite them all immediately. We understand that migrations take time. We will take the gradual migration path along with everyone in the React community.</p>
<hr>
<h2 id="migrating-from-legacy-lifecycles">Migrating from Legacy Lifecycles</h2>
<p>If you’d like to start using the new component APIs introduced in React 16.3 (or if you’re a maintainer looking to update your library in advance) here are a few examples that we hope will help you to start thinking about components a bit differently. Over time, we plan to add additional “recipes” to our documentation that show how to perform common tasks in a way that avoids the problematic lifecycles.</p>
<p>Before we begin, here’s a quick overview of the lifecycle changes planned for version 16.3:</p>
<ul>
<li>We are <strong>adding the following lifecycle aliases</strong>: <code>UNSAFE_componentWillMount</code>, <code>UNSAFE_componentWillReceiveProps</code>, and <code>UNSAFE_componentWillUpdate</code>. (Both the old lifecycle names and the new aliases will be supported.)</li>
<li>We are <strong>introducing two new lifecycles</strong>, static <code>getDerivedStateFromProps</code> and <code>getSnapshotBeforeUpdate</code>.</li>
</ul>
<h3 id="new-lifecycle-getderivedstatefromprops">New lifecycle: <code>getDerivedStateFromProps</code></h3>
<p><div class="gatsby-highlight">
        <pre class="gatsby-code-jsx"><code><span class="token keyword">class</span> <span class="token class-name">Example</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token keyword">static</span> <span class="token function">getDerivedStateFromProps</span><span class="token punctuation">(</span>nextProps<span class="token punctuation">,</span> prevState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
        </div></p>
<p>The new static <code>getDerivedStateFromProps</code> lifecycle is invoked after a component is instantiated as well as when it receives new props. It can return an object to update <code>state</code>, or <code>null</code> to indicate that the new <code>props</code> do not require any <code>state</code> updates.</p>
<p>Together with <code>componentDidUpdate</code>, this new lifecycle should cover all use cases for the legacy <code>componentWillReceiveProps</code>.</p>
<h3 id="new-lifecycle-getsnapshotbeforeupdate">New lifecycle: <code>getSnapshotBeforeUpdate</code></h3>
<p><div class="gatsby-highlight">
        <pre class="gatsby-code-jsx"><code><span class="token keyword">class</span> <span class="token class-name">Example</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">getSnapshotBeforeUpdate</span><span class="token punctuation">(</span>prevProps<span class="token punctuation">,</span> prevState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
        </div></p>
<p>The new <code>getSnapshotBeforeUpdate</code> lifecycle is called right before mutations are made (e.g. before the DOM is updated). The return value for this lifecycle will be passed as the third parameter to <code>componentDidUpdate</code>. (This lifecycle isn’t often needed, but can be useful in cases like manually preserving scroll position during rerenders.)</p>
<p>Together with <code>componentDidUpdate</code>, this new lifecycle should cover all use cases for the legacy <code>componentWillUpdate</code>.</p>
<p>You can find their type signatures .</p>
<p>We’ll look at examples of how both of these lifecycles can be used below.</p>
<h2 id="examples">Examples</h2>
<ul>
<li></li>
<li></li>
<li></li>
<li></li>
<li></li>
<li></li>
<li></li>
</ul>
<blockquote>
<p>Note</p>
<p>For brevity, the examples below are written using the experimental class properties transform, but the same migration strategies apply without it.</p>
</blockquote>
<h3 id="initializing-state">Initializing state</h3>
<p>This example shows a component with <code>setState</code> calls inside of <code>componentWillMount</code>:
<div class="gatsby-highlight">
        <pre class="gatsby-code-jsx"><code><span class="token comment">// Before</span>
<span class="token keyword">class</span> <span class="token class-name">ExampleComponent</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  state <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="gatsby-highlight-code-line">  <span class="token function">componentWillMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="gatsby-highlight-code-line">    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="gatsby-highlight-code-line">      currentColor<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>defaultColor<span class="token punctuation">,</span>
</span><span class="gatsby-highlight-code-line">      palette<span class="token punctuation">:</span> <span class="token string">'rgb'</span><span class="token punctuation">,</span>
</span><span class="gatsby-highlight-code-line">    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="gatsby-highlight-code-line">  <span class="token punctuation">}</span>
</span><span class="token punctuation">}</span>
</code></pre>
        </div></p>
<p>The simplest refactor for this type of component is to move state initialization to the constructor or to a property initializer, like so:
<div class="gatsby-highlight">
        <pre class="gatsby-code-jsx"><code><span class="token comment">// After</span>
<span class="token keyword">class</span> <span class="token class-name">ExampleComponent</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">  state <span class="token operator">=</span> <span class="token punctuation">{</span>
</span><span class="gatsby-highlight-code-line">    currentColor<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>defaultColor<span class="token punctuation">,</span>
</span><span class="gatsby-highlight-code-line">    palette<span class="token punctuation">:</span> <span class="token string">'rgb'</span><span class="token punctuation">,</span>
</span><span class="gatsby-highlight-code-line">  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="token punctuation">}</span>
</code></pre>
        </div></p>
<h3 id="fetching-external-data">Fetching external data</h3>
<p>Here is an example of a component that uses <code>componentWillMount</code> to fetch external data:
<div class="gatsby-highlight">
        <pre class="gatsby-code-jsx"><code><span class="token comment">// Before</span>
<span class="token keyword">class</span> <span class="token class-name">ExampleComponent</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  state <span class="token operator">=</span> <span class="token punctuation">{</span>
    externalData<span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="gatsby-highlight-code-line">  <span class="token function">componentWillMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="gatsby-highlight-code-line">    <span class="token keyword">this</span><span class="token punctuation">.</span>_asyncRequest <span class="token operator">=</span> <span class="token function">asyncLoadData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>
</span><span class="gatsby-highlight-code-line">      externalData <span class="token operator">=></span> <span class="token punctuation">{</span>
</span><span class="gatsby-highlight-code-line">        <span class="token keyword">this</span><span class="token punctuation">.</span>_asyncRequest <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
</span><span class="gatsby-highlight-code-line">        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>externalData<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="gatsby-highlight-code-line">      <span class="token punctuation">}</span>
</span><span class="gatsby-highlight-code-line">    <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="gatsby-highlight-code-line">  <span class="token punctuation">}</span>
</span>
  <span class="token function">componentWillUnmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>_asyncRequest<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>_asyncRequest<span class="token punctuation">.</span><span class="token function">cancel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>externalData <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// Render loading state ...</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token comment">// Render real UI ...</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
        </div></p>
<p>The above code is problematic for both server rendering (where the external data won’t be used) and the upcoming async rendering mode (where the request might be initiated multiple times).</p>
<p>The recommended upgrade path for most use cases is to move data-fetching into <code>componentDidMount</code>:
<div class="gatsby-highlight">
        <pre class="gatsby-code-jsx"><code><span class="token comment">// After</span>
<span class="token keyword">class</span> <span class="token class-name">ExampleComponent</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  state <span class="token operator">=</span> <span class="token punctuation">{</span>
    externalData<span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="gatsby-highlight-code-line">  <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="gatsby-highlight-code-line">    <span class="token keyword">this</span><span class="token punctuation">.</span>_asyncRequest <span class="token operator">=</span> <span class="token function">asyncLoadData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>
</span><span class="gatsby-highlight-code-line">      externalData <span class="token operator">=></span> <span class="token punctuation">{</span>
</span><span class="gatsby-highlight-code-line">        <span class="token keyword">this</span><span class="token punctuation">.</span>_asyncRequest <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
</span><span class="gatsby-highlight-code-line">        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>externalData<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="gatsby-highlight-code-line">      <span class="token punctuation">}</span>
</span><span class="gatsby-highlight-code-line">    <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="gatsby-highlight-code-line">  <span class="token punctuation">}</span>
</span>
  <span class="token function">componentWillUnmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>_asyncRequest<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>_asyncRequest<span class="token punctuation">.</span><span class="token function">cancel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>externalData <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// Render loading state ...</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token comment">// Render real UI ...</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
        </div></p>
<p>There is a common misconception that fetching in <code>componentWillMount</code> lets you avoid the first empty rendering state. In practice this was never true because React has always executed <code>render</code> immediately after <code>componentWillMount</code>. If the data is not available by the time <code>componentWillMount</code> fires, the first <code>render</code> will still show a loading state regardless of where you initiate the fetch. This is why moving the fetch to <code>componentDidMount</code> has no perceptible effect in the vast majority of cases.</p>
<blockquote>
<p>Note</p>
<p>Some advanced use-cases (e.g. libraries like Relay) may want to experiment with eagerly prefetching async data. An example of how this can be done is available .</p>
<p>In the longer term, the canonical way to fetch data in React components will likely be based on the “suspense” API . Both simple data fetching solutions and libraries like Apollo and Relay will be able to use it under the hood. It is significantly less verbose than either of the above solutions, but will not be finalized in time for the 16.3 release.</p>
</blockquote>
<h3 id="adding-event-listeners-or-subscriptions">Adding event listeners (or subscriptions)</h3>
<p>Here is an example of a component that subscribes to an external event dispatcher when mounting:
<div class="gatsby-highlight">
        <pre class="gatsby-code-jsx"><code><span class="token comment">// Before</span>
<span class="token keyword">class</span> <span class="token class-name">ExampleComponent</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">  <span class="token function">componentWillMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="gatsby-highlight-code-line">    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="gatsby-highlight-code-line">      subscribedValue<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>dataSource<span class="token punctuation">.</span>value<span class="token punctuation">,</span>
</span><span class="gatsby-highlight-code-line">    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="gatsby-highlight-code-line">
</span><span class="gatsby-highlight-code-line">    <span class="token comment">// This is not safe; it can leak!</span>
</span><span class="gatsby-highlight-code-line">    <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>dataSource<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>
</span><span class="gatsby-highlight-code-line">      <span class="token keyword">this</span><span class="token punctuation">.</span>handleSubscriptionChange
</span><span class="gatsby-highlight-code-line">    <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="gatsby-highlight-code-line">  <span class="token punctuation">}</span>
</span>
  <span class="token function">componentWillUnmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>dataSource<span class="token punctuation">.</span><span class="token function">unsubscribe</span><span class="token punctuation">(</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>handleSubscriptionChange
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function-variable function">handleSubscriptionChange</span> <span class="token operator">=</span> dataSource <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      subscribedValue<span class="token punctuation">:</span> dataSource<span class="token punctuation">.</span>value<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
        </div></p>
<p>Unfortunately, this can cause memory leaks for server rendering (where <code>componentWillUnmount</code> will never be called) and async rendering (where rendering might be interrupted before it completes, causing <code>componentWillUnmount</code> not to be called).</p>
<p>People often assume that <code>componentWillMount</code> and <code>componentWillUnmount</code> are always paired, but that is not guaranteed. Only once <code>componentDidMount</code> has been called does React guarantee that <code>componentWillUnmount</code> will later be called for clean up.</p>
<p>For this reason, the recommended way to add listeners/subscriptions is to use the <code>componentDidMount</code> lifecycle:
<div class="gatsby-highlight">
        <pre class="gatsby-code-jsx"><code><span class="token comment">// After</span>
<span class="token keyword">class</span> <span class="token class-name">ExampleComponent</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">  state <span class="token operator">=</span> <span class="token punctuation">{</span>
</span><span class="gatsby-highlight-code-line">    subscribedValue<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>dataSource<span class="token punctuation">.</span>value<span class="token punctuation">,</span>
</span><span class="gatsby-highlight-code-line">  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="gatsby-highlight-code-line">
</span><span class="gatsby-highlight-code-line">  <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="gatsby-highlight-code-line">    <span class="token comment">// Event listeners are only safe to add after mount,</span>
</span><span class="gatsby-highlight-code-line">    <span class="token comment">// So they won't leak if mount is interrupted or errors.</span>
</span><span class="gatsby-highlight-code-line">    <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>dataSource<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>
</span><span class="gatsby-highlight-code-line">      <span class="token keyword">this</span><span class="token punctuation">.</span>handleSubscriptionChange
</span><span class="gatsby-highlight-code-line">    <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="gatsby-highlight-code-line">
</span><span class="gatsby-highlight-code-line">    <span class="token comment">// External values could change between render and mount,</span>
</span><span class="gatsby-highlight-code-line">    <span class="token comment">// In some cases it may be important to handle this case.</span>
</span><span class="gatsby-highlight-code-line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>
</span><span class="gatsby-highlight-code-line">      <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>subscribedValue <span class="token operator">!==</span>
</span><span class="gatsby-highlight-code-line">      <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>dataSource<span class="token punctuation">.</span>value
</span><span class="gatsby-highlight-code-line">    <span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="gatsby-highlight-code-line">      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="gatsby-highlight-code-line">        subscribedValue<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>dataSource<span class="token punctuation">.</span>value<span class="token punctuation">,</span>
</span><span class="gatsby-highlight-code-line">      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="gatsby-highlight-code-line">    <span class="token punctuation">}</span>
</span><span class="gatsby-highlight-code-line">  <span class="token punctuation">}</span>
</span>
  <span class="token function">componentWillUnmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>dataSource<span class="token punctuation">.</span><span class="token function">unsubscribe</span><span class="token punctuation">(</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>handleSubscriptionChange
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function-variable function">handleSubscriptionChange</span> <span class="token operator">=</span> dataSource <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      subscribedValue<span class="token punctuation">:</span> dataSource<span class="token punctuation">.</span>value<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
        </div></p>
<p>Sometimes it is important to update subscriptions in response to property changes. If you’re using a library like Redux or MobX, the library’s container component should handle this for you. For application authors, we’ve created a small library, , to help with this. We’ll publish it along with React 16.3.</p>
<p>Rather than passing a subscribable <code>dataSource</code> prop as we did in the example above, we could use <code>create-subscription</code> to pass in the subscribed value:</p>
<p><div class="gatsby-highlight">
        <pre class="gatsby-code-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>createSubscription<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'create-subscription'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> Subscription <span class="token operator">=</span> <span class="token function">createSubscription</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function">getCurrentValue</span><span class="token punctuation">(</span>sourceProp<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Return the current value of the subscription (sourceProp).</span>
    <span class="token keyword">return</span> sourceProp<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token function">subscribe</span><span class="token punctuation">(</span>sourceProp<span class="token punctuation">,</span> callback<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">function</span> <span class="token function">handleSubscriptionChange</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">callback</span><span class="token punctuation">(</span>sourceProp<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Subscribe (e.g. add an event listener) to the subscription (sourceProp).</span>
    <span class="token comment">// Call callback(newValue) whenever a subscription changes.</span>
    sourceProp<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>handleSubscriptionChange<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Return an unsubscribe method.</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token function">unsubscribe</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      sourceProp<span class="token punctuation">.</span><span class="token function">unsubscribe</span><span class="token punctuation">(</span>handleSubscriptionChange<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Rather than passing the subscribable source to our ExampleComponent,</span>
<span class="token comment">// We could just pass the subscribed value directly:</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Subscription</span> <span class="token attr-name">source</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>dataSource<span class="token punctuation">}</span></span><span class="token punctuation">></span></span>
  <span class="token punctuation">{</span>value <span class="token operator">=></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ExampleComponent</span> <span class="token attr-name">subscribedValue</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>value<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token punctuation">}</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Subscription</span><span class="token punctuation">></span></span><span class="token punctuation">;</span>
</code></pre>
        </div></p>
<blockquote>
<p>Note</p>
<p>Libraries like Relay/Apollo should manage subscriptions manually with the same techniques as <code>create-subscription</code> uses under the hood (as referenced ) in a way that is most optimized for their library usage.</p>
</blockquote>
<h3 id="updating-state-based-on-props">Updating <code>state</code> based on <code>props</code></h3>
<p>Here is an example of a component that uses the legacy <code>componentWillReceiveProps</code> lifecycle to update <code>state</code> based on new <code>props</code> values:
<div class="gatsby-highlight">
        <pre class="gatsby-code-jsx"><code><span class="token comment">// Before</span>
<span class="token keyword">class</span> <span class="token class-name">ExampleComponent</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  state <span class="token operator">=</span> <span class="token punctuation">{</span>
    isScrollingDown<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="gatsby-highlight-code-line">  <span class="token function">componentWillReceiveProps</span><span class="token punctuation">(</span>nextProps<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="gatsby-highlight-code-line">    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>currentRow <span class="token operator">!==</span> nextProps<span class="token punctuation">.</span>currentRow<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="gatsby-highlight-code-line">      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="gatsby-highlight-code-line">        isScrollingDown<span class="token punctuation">:</span>
</span><span class="gatsby-highlight-code-line">          nextProps<span class="token punctuation">.</span>currentRow <span class="token operator">></span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>currentRow<span class="token punctuation">,</span>
</span><span class="gatsby-highlight-code-line">      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="gatsby-highlight-code-line">    <span class="token punctuation">}</span>
</span><span class="gatsby-highlight-code-line">  <span class="token punctuation">}</span>
</span><span class="token punctuation">}</span>
</code></pre>
        </div></p>
<p>Although the above code is not problematic in itself, the <code>componentWillReceiveProps</code> lifecycle is often mis-used in ways that <em>do</em> present problems. Because of this, the method will be deprecated.</p>
<p>As of version 16.3, the recommended way to update <code>state</code> in response to <code>props</code> changes is with the new <code>static getDerivedStateFromProps</code> lifecycle. (That lifecycle is called when a component is created and each time it receives new props):
<div class="gatsby-highlight">
        <pre class="gatsby-code-jsx"><code><span class="token comment">// After</span>
<span class="token keyword">class</span> <span class="token class-name">ExampleComponent</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token comment">// Initialize state in constructor,</span>
  <span class="token comment">// Or with a property initializer.</span>
<span class="gatsby-highlight-code-line">  state <span class="token operator">=</span> <span class="token punctuation">{</span>
</span><span class="gatsby-highlight-code-line">    isScrollingDown<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
</span><span class="gatsby-highlight-code-line">    lastRow<span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
</span><span class="gatsby-highlight-code-line">  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span>
<span class="gatsby-highlight-code-line">  <span class="token keyword">static</span> <span class="token function">getDerivedStateFromProps</span><span class="token punctuation">(</span>nextProps<span class="token punctuation">,</span> prevState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="gatsby-highlight-code-line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>nextProps<span class="token punctuation">.</span>currentRow <span class="token operator">!==</span> prevState<span class="token punctuation">.</span>lastRow<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="gatsby-highlight-code-line">      <span class="token keyword">return</span> <span class="token punctuation">{</span>
</span><span class="gatsby-highlight-code-line">        isScrollingDown<span class="token punctuation">:</span>
</span><span class="gatsby-highlight-code-line">          nextProps<span class="token punctuation">.</span>currentRow <span class="token operator">></span> prevState<span class="token punctuation">.</span>lastRow<span class="token punctuation">,</span>
</span><span class="gatsby-highlight-code-line">        lastRow<span class="token punctuation">:</span> nextProps<span class="token punctuation">.</span>currentRow<span class="token punctuation">,</span>
</span><span class="gatsby-highlight-code-line">      <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="gatsby-highlight-code-line">    <span class="token punctuation">}</span>
</span>
    <span class="token comment">// Return null to indicate no change to state.</span>
    <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
        </div></p>
<blockquote>
<p>Note</p>
<p>If you’re writing a shared component, the </p>
</blockquote>
<h3 id="invoking-external-callbacks">Invoking external callbacks</h3>
<p>Here is an example of a component that calls an external function when its internal state changes:
<div class="gatsby-highlight">
        <pre class="gatsby-code-jsx"><code><span class="token comment">// Before</span>
<span class="token keyword">class</span> <span class="token class-name">ExampleComponent</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">  <span class="token function">componentWillUpdate</span><span class="token punctuation">(</span>nextProps<span class="token punctuation">,</span> nextState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="gatsby-highlight-code-line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>
</span><span class="gatsby-highlight-code-line">      <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>someStatefulValue <span class="token operator">!==</span>
</span><span class="gatsby-highlight-code-line">      nextState<span class="token punctuation">.</span>someStatefulValue
</span><span class="gatsby-highlight-code-line">    <span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="gatsby-highlight-code-line">      nextProps<span class="token punctuation">.</span><span class="token function">onChange</span><span class="token punctuation">(</span>nextState<span class="token punctuation">.</span>someStatefulValue<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="gatsby-highlight-code-line">    <span class="token punctuation">}</span>
</span><span class="gatsby-highlight-code-line">  <span class="token punctuation">}</span>
</span><span class="token punctuation">}</span>
</code></pre>
        </div></p>
<p>Sometimes people use <code>componentWillUpdate</code> out of a misplaced fear that by the time <code>componentDidUpdate</code> fires, it is “too late” to update the state of other components. This is not the case. React ensures that any <code>setState</code> calls that happen during <code>componentDidMount</code> and <code>componentDidUpdate</code> are flushed before the user sees the updated UI. In general, it is better to avoid cascading updates like this, but in some cases they are necessary (for example, if you need to position a tooltip after measuring the rendered DOM element).</p>
<p>Either way, it is unsafe to use <code>componentWillUpdate</code> for this purpose in async mode, because the external callback might get called multiple times for a single update. Instead, the <code>componentDidUpdate</code> lifecycle should be used since it is guaranteed to be invoked only once per update:
<div class="gatsby-highlight">
        <pre class="gatsby-code-jsx"><code><span class="token comment">// After</span>
<span class="token keyword">class</span> <span class="token class-name">ExampleComponent</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">  <span class="token function">componentDidUpdate</span><span class="token punctuation">(</span>prevProps<span class="token punctuation">,</span> prevState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="gatsby-highlight-code-line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>
</span><span class="gatsby-highlight-code-line">      <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>someStatefulValue <span class="token operator">!==</span>
</span><span class="gatsby-highlight-code-line">      prevState<span class="token punctuation">.</span>someStatefulValue
</span><span class="gatsby-highlight-code-line">    <span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="gatsby-highlight-code-line">      <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span><span class="token function">onChange</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>someStatefulValue<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="gatsby-highlight-code-line">    <span class="token punctuation">}</span>
</span><span class="gatsby-highlight-code-line">  <span class="token punctuation">}</span>
</span><span class="token punctuation">}</span>
</code></pre>
        </div></p>
<h3 id="updating-external-data-when-props-change">Updating external data when <code>props</code> change</h3>
<p>Here is an example of a component that fetches external data based on <code>props</code> values:
<div class="gatsby-highlight">
        <pre class="gatsby-code-jsx"><code><span class="token comment">// Before</span>
<span class="token keyword">class</span> <span class="token class-name">ExampleComponent</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  state <span class="token operator">=</span> <span class="token punctuation">{</span>
    externalData<span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_loadAsyncData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

<span class="gatsby-highlight-code-line">  <span class="token function">componentWillReceiveProps</span><span class="token punctuation">(</span>nextProps<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="gatsby-highlight-code-line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>nextProps<span class="token punctuation">.</span>id <span class="token operator">!==</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="gatsby-highlight-code-line">      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>externalData<span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="gatsby-highlight-code-line">      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_loadAsyncData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="gatsby-highlight-code-line">    <span class="token punctuation">}</span>
</span><span class="gatsby-highlight-code-line">  <span class="token punctuation">}</span>
</span>
  <span class="token function">componentWillUnmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>_asyncRequest<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>_asyncRequest<span class="token punctuation">.</span><span class="token function">cancel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>externalData <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// Render loading state ...</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token comment">// Render real UI ...</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token function">_loadAsyncData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>_asyncRequest <span class="token operator">=</span> <span class="token function">asyncLoadData</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>
      externalData <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>_asyncRequest <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>externalData<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
        </div></p>
<p>The recommended upgrade path for this component is to move data updates into <code>componentDidUpdate</code>. You can also use the new <code>getDerivedStateFromProps</code> lifecycle to clear stale data before rendering the new props:
<div class="gatsby-highlight">
        <pre class="gatsby-code-jsx"><code><span class="token comment">// After</span>
<span class="token keyword">class</span> <span class="token class-name">ExampleComponent</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  state <span class="token operator">=</span> <span class="token punctuation">{</span>
    externalData<span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="gatsby-highlight-code-line">  <span class="token keyword">static</span> <span class="token function">getDerivedStateFromProps</span><span class="token punctuation">(</span>nextProps<span class="token punctuation">,</span> prevState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="gatsby-highlight-code-line">    <span class="token comment">// Store prevId in state so we can compare when props change.</span>
</span><span class="gatsby-highlight-code-line">    <span class="token comment">// Clear out previously-loaded data (so we don't render stale stuff).</span>
</span><span class="gatsby-highlight-code-line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>nextProps<span class="token punctuation">.</span>id <span class="token operator">!==</span> prevState<span class="token punctuation">.</span>prevId<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="gatsby-highlight-code-line">      <span class="token keyword">return</span> <span class="token punctuation">{</span>
</span><span class="gatsby-highlight-code-line">        externalData<span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
</span><span class="gatsby-highlight-code-line">        prevId<span class="token punctuation">:</span> nextProps<span class="token punctuation">.</span>id<span class="token punctuation">,</span>
</span><span class="gatsby-highlight-code-line">      <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="gatsby-highlight-code-line">    <span class="token punctuation">}</span>
</span><span class="gatsby-highlight-code-line">
</span><span class="gatsby-highlight-code-line">    <span class="token comment">// No state update necessary</span>
</span><span class="gatsby-highlight-code-line">    <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
</span><span class="gatsby-highlight-code-line">  <span class="token punctuation">}</span>
</span>
  <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_loadAsyncData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

<span class="gatsby-highlight-code-line">  <span class="token function">componentDidUpdate</span><span class="token punctuation">(</span>prevProps<span class="token punctuation">,</span> prevState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="gatsby-highlight-code-line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>prevState<span class="token punctuation">.</span>externalData <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="gatsby-highlight-code-line">      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_loadAsyncData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="gatsby-highlight-code-line">    <span class="token punctuation">}</span>
</span><span class="gatsby-highlight-code-line">  <span class="token punctuation">}</span>
</span>
  <span class="token function">componentWillUnmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>_asyncRequest<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>_asyncRequest<span class="token punctuation">.</span><span class="token function">cancel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>externalData <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// Render loading state ...</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token comment">// Render real UI ...</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token function">_loadAsyncData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>_asyncRequest <span class="token operator">=</span> <span class="token function">asyncLoadData</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>
      externalData <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>_asyncRequest <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>externalData<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
        </div></p>
<blockquote>
<p>Note</p>
<p>If you’re using an HTTP library that supports cancellation, like .</p>
</blockquote>
<h3 id="reading-dom-properties-before-an-update">Reading DOM properties before an update</h3>
<p>Here is an example of a component that reads a property from the DOM before an update in order to maintain scroll position within a list:
<div class="gatsby-highlight">
        <pre class="gatsby-code-jsx"><code><span class="token keyword">class</span> <span class="token class-name">ScrollingList</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  listRef <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
  previousScrollHeight <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

<span class="gatsby-highlight-code-line">  <span class="token function">componentWillUpdate</span><span class="token punctuation">(</span>nextProps<span class="token punctuation">,</span> nextState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="gatsby-highlight-code-line">    <span class="token comment">// Are we adding new items to the list?</span>
</span><span class="gatsby-highlight-code-line">    <span class="token comment">// Capture the current height of the list so we can adjust scroll later.</span>
</span><span class="gatsby-highlight-code-line">    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>list<span class="token punctuation">.</span>length <span class="token operator">&lt;</span> nextProps<span class="token punctuation">.</span>list<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="gatsby-highlight-code-line">      <span class="token keyword">this</span><span class="token punctuation">.</span>previousScrollHeight <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>listRef<span class="token punctuation">.</span>scrollHeight<span class="token punctuation">;</span>
</span><span class="gatsby-highlight-code-line">    <span class="token punctuation">}</span>
</span><span class="gatsby-highlight-code-line">  <span class="token punctuation">}</span>
</span>
<span class="gatsby-highlight-code-line">  <span class="token function">componentDidUpdate</span><span class="token punctuation">(</span>prevProps<span class="token punctuation">,</span> prevState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="gatsby-highlight-code-line">    <span class="token comment">// If previousScrollHeight is set, we've just added new items.</span>
</span><span class="gatsby-highlight-code-line">    <span class="token comment">// Adjust scroll so these new items don't push the old ones out of view.</span>
</span><span class="gatsby-highlight-code-line">    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>previousScrollHeight <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="gatsby-highlight-code-line">      <span class="token keyword">this</span><span class="token punctuation">.</span>listRef<span class="token punctuation">.</span>scrollTop <span class="token operator">+=</span>
</span><span class="gatsby-highlight-code-line">        <span class="token keyword">this</span><span class="token punctuation">.</span>listRef<span class="token punctuation">.</span>scrollHeight <span class="token operator">-</span>
</span><span class="gatsby-highlight-code-line">        <span class="token keyword">this</span><span class="token punctuation">.</span>previousScrollHeight<span class="token punctuation">;</span>
</span><span class="gatsby-highlight-code-line">      <span class="token keyword">this</span><span class="token punctuation">.</span>previousScrollHeight <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
</span><span class="gatsby-highlight-code-line">    <span class="token punctuation">}</span>
</span><span class="gatsby-highlight-code-line">  <span class="token punctuation">}</span>
</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">ref</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>setListRef<span class="token punctuation">}</span></span><span class="token punctuation">></span></span>
        <span class="token punctuation">{</span><span class="token comment">/* ...contents... */</span><span class="token punctuation">}</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function-variable function">setListRef</span> <span class="token operator">=</span> ref <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>listRef <span class="token operator">=</span> ref<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
        </div></p>
<p>In the above example, <code>componentWillUpdate</code> is used to read the DOM property. However with async rendering, there may be delays between “render” phase lifecycles (like <code>componentWillUpdate</code> and <code>render</code>) and “commit” phase lifecycles (like <code>componentDidUpdate</code>). If the user does something like resize the window during this time, the <code>scrollHeight</code> value read from <code>componentWillUpdate</code> will be stale.</p>
<p>The solution to this problem is to use the new “commit” phase lifecycle, <code>getSnapshotBeforeUpdate</code>. This method gets called <em>immediately before</em> mutations are made (e.g. before the DOM is updated). It can return a value for React to pass as a parameter to <code>componentDidUpdate</code>, which gets called <em>immediately after</em> mutations.</p>
<p>The two lifecycles can be used together like this:</p>
<p><div class="gatsby-highlight">
        <pre class="gatsby-code-jsx"><code><span class="token keyword">class</span> <span class="token class-name">ScrollingList</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  listRef <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

<span class="gatsby-highlight-code-line">  <span class="token function">getSnapshotBeforeUpdate</span><span class="token punctuation">(</span>prevProps<span class="token punctuation">,</span> prevState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="gatsby-highlight-code-line">    <span class="token comment">// Are we adding new items to the list?</span>
</span><span class="gatsby-highlight-code-line">    <span class="token comment">// Capture the current height of the list so we can adjust scroll later.</span>
</span><span class="gatsby-highlight-code-line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>prevProps<span class="token punctuation">.</span>list<span class="token punctuation">.</span>length <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>list<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="gatsby-highlight-code-line">      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>listRef<span class="token punctuation">.</span>scrollHeight<span class="token punctuation">;</span>
</span><span class="gatsby-highlight-code-line">    <span class="token punctuation">}</span>
</span><span class="gatsby-highlight-code-line">    <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
</span><span class="gatsby-highlight-code-line">  <span class="token punctuation">}</span>
</span>
<span class="gatsby-highlight-code-line">  <span class="token function">componentDidUpdate</span><span class="token punctuation">(</span>prevProps<span class="token punctuation">,</span> prevState<span class="token punctuation">,</span> snapshot<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="gatsby-highlight-code-line">    <span class="token comment">// If we have a snapshot value, we've just added new items.</span>
</span><span class="gatsby-highlight-code-line">    <span class="token comment">// Adjust scroll so these new items don't push the old ones out of view.</span>
</span><span class="gatsby-highlight-code-line">    <span class="token comment">// (snapshot here is the value returned from getSnapshotBeforeUpdate)</span>
</span><span class="gatsby-highlight-code-line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>snapshot <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="gatsby-highlight-code-line">      <span class="token keyword">this</span><span class="token punctuation">.</span>listRef<span class="token punctuation">.</span>scrollTop <span class="token operator">+=</span>
</span><span class="gatsby-highlight-code-line">        <span class="token keyword">this</span><span class="token punctuation">.</span>listRef<span class="token punctuation">.</span>scrollHeight <span class="token operator">-</span> snapshot<span class="token punctuation">;</span>
</span><span class="gatsby-highlight-code-line">    <span class="token punctuation">}</span>
</span>  <span class="token punctuation">}</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">ref</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>setListRef<span class="token punctuation">}</span></span><span class="token punctuation">></span></span>
        <span class="token punctuation">{</span><span class="token comment">/* ...contents... */</span><span class="token punctuation">}</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function-variable function">setListRef</span> <span class="token operator">=</span> ref <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>listRef <span class="token operator">=</span> ref<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
        </div></p>
<blockquote>
<p>Note</p>
<p>If you’re writing a shared component, the </p>
</blockquote>
<h2 id="other-scenarios">Other scenarios</h2>
<p>While we tried to cover the most common use cases in this post, we recognize that we might have missed some of them. If you are using <code>componentWillMount</code>, <code>componentWillUpdate</code>, or <code>componentWillReceiveProps</code> in ways that aren’t covered by this blog post, and aren’t sure how to migrate off these legacy lifecycles, please  with your code examples and as much background information as you can provide. We will update this document with new alternative patterns as they come up.</p>
<h2 id="open-source-project-maintainers">Open source project maintainers</h2>
<p>Open source maintainers might be wondering what these changes mean for shared components. If you implement the above suggestions, what happens with components that depend on the new static <code>getDerivedStateFromProps</code> lifecycle? Do you also have to release a new major version and drop compatibility for React 16.2 and older?</p>
<p>Fortunately, you do not!</p>
<p>When React 16.3 is published, we’ll also publish a new npm package, . This package polyfills components so that the new <code>getDerivedStateFromProps</code> and <code>getSnapshotBeforeUpdate</code> lifecycles will also work with older versions of React (0.14.9+).</p>
<p>To use this polyfill, first add it as a dependency to your library:</p>
<div class="gatsby-highlight">
      <pre class="gatsby-code-bash"><code><span class="token comment"># Yarn</span>
yarn add react-lifecycles-compat

<span class="token comment"># NPM</span>
<span class="token function">npm</span> <span class="token function">install</span> react-lifecycles-compat --save
</code></pre>
      </div>
<p>Next, update your components to use the new lifecycles (as described above).</p>
<p>Lastly, use the polyfill to make your component backwards compatible with older versions of React:
<div class="gatsby-highlight">
        <pre class="gatsby-code-jsx"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="gatsby-highlight-code-line"><span class="token keyword">import</span> polyfill <span class="token keyword">from</span> <span class="token string">'react-lifecycles-compat'</span><span class="token punctuation">;</span>
</span>
<span class="token keyword">class</span> <span class="token class-name">ExampleComponent</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">  <span class="token keyword">static</span> <span class="token function">getDerivedStateFromProps</span><span class="token punctuation">(</span>nextProps<span class="token punctuation">,</span> prevState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span>    <span class="token comment">// Your state update logic here ...</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Polyfill your component to work with older versions of React:</span>
<span class="gatsby-highlight-code-line"><span class="token function">polyfill</span><span class="token punctuation">(</span>ExampleComponent<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> ExampleComponent<span class="token punctuation">;</span>
</code></pre>
        </div></p>
---------------