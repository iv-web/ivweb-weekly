## 文章索引
1、 <a href="#1java面试36题精讲oracle首席工程师帮你搞定bat面试" >Java面试36题精讲：Oracle首席工程师帮你搞定BAT面试</a><br/>
2、 <a href="#2文章-消息中间件选型分析从kafka与rabbitmq的对比看全局" >文章： 消息中间件选型分析：从Kafka与RabbitMQ的对比看全局</a><br/>
3、 <a href="#3文章-不了解边缘计算你可能就要被边缘了" >文章： 不了解边缘计算，你可能就要被“边缘”了</a><br/>
4、 <a href="#4视频演讲-边缘计算物联网的下一个主战场" >视频演讲： 边缘计算，物联网的下一个主战场</a><br/>
5、 <a href="#5不一味迎合用户知乎想用ai算法打造智能社区" >不一味迎合用户，知乎想用AI算法打造智能社区</a><br/>
6、 <a href="#6eclipse-photon即将发布" >Eclipse Photon即将发布</a><br/>
7、 <a href="#7文章-数字化转型指南第二部分" >文章： 数字化转型指南（第二部分）</a><br/>
8、 <a href="#8tsdoctypescript源代码文档生成格式" >TSDoc：TypeScript源代码文档生成格式</a><br/>
9、 <a href="#9aws发布secrets-manager用于存储分发和旋转秘钥" >AWS发布Secrets Manager，用于存储、分发和旋转秘钥</a><br/>
10、 <a href="#10visual-studio-157预览版4改进gitc++支持" >Visual Studio 15.7预览版4改进Git、C++支持</a><br/>
11、 <a href="#11oci基于docker-registry-v2协议标准化容器注册表api" >OCI基于Docker Registry v2协议标准化容器注册表API</a><br/>
12、 <a href="#12fex-技术周刊---2018/04/30" >FEX 技术周刊 - 2018/04/30</a><br/>
13、 <a href="#13building-a-serverless-contact-form-for-your-static-site" >Building A Serverless Contact Form For Your Static Site</a><br/><h1 id="#title_0" >1、Java面试36题精讲：Oracle首席工程师帮你搞定BAT面试</h1>
杨晓峰
[http://www.infoq.com/cn/news/2018/05/36-questions-Java-interview?utm_campaign=infoq_content&utm_source=infoq&utm_medium=feed&utm_term=global](http://www.infoq.com/cn/news/2018/05/36-questions-Java-interview?utm_campaign=infoq_content&utm_source=infoq&utm_medium=feed&utm_term=global)
<img src="http://www.infoq.com/styles/i/logo_bigger.jpg"/><p>一本面试Java工程师必备手册</p> <i>By 杨晓峰</i>
---------------
<h1 id="#title_1" >2、文章： 消息中间件选型分析：从Kafka与RabbitMQ的对比看全局</h1>
朱忠华
[http://www.infoq.com/cn/articles/kafka-vs-rabbitmq?utm_campaign=infoq_content&utm_source=infoq&utm_medium=feed&utm_term=global](http://www.infoq.com/cn/articles/kafka-vs-rabbitmq?utm_campaign=infoq_content&utm_source=infoq&utm_medium=feed&utm_term=global)
<img src="https://res.infoq.com/articles/kafka-vs-rabbitmq/zh/smallimage/logo-sandy-1519893726272-1525180545545.jpeg"/><p>在整体架构中引入消息中间件，势必要考虑很多因素，比如成本及收益问题，怎么样才能达到最优的性价比？虽然消息中间件种类繁多，但是各自都有各自的侧重点，选择合适自己、扬长避短无疑是最好的方式。如果你对此感到无所适从，本文或许可以参考一二。</p> <i>By 朱忠华</i>
---------------
<h1 id="#title_2" >3、文章： 不了解边缘计算，你可能就要被“边缘”了</h1>
InfoQ
[http://www.infoq.com/cn/articles/baidu-iot-IntelliEdge?utm_campaign=infoq_content&utm_source=infoq&utm_medium=feed&utm_term=global](http://www.infoq.com/cn/articles/baidu-iot-IntelliEdge?utm_campaign=infoq_content&utm_source=infoq&utm_medium=feed&utm_term=global)
<img src="https://res.infoq.com/articles/baidu-iot-IntelliEdge/zh/smallimage/logo-cloud-1507222051866-1525276811360.jpeg"/><p>4 月 21 日，由百度开发者中心、百度云智学院主办、极客邦科技承办的第 78 期百度技术沙龙邀请了来自百度资深架构师百度云物联网部 TC 主席李乐丁，百度云物联网部高级产品经理黄淼，百度云物联网部前端开发工程师钟姿艳三位讲师，从端到云，为大家解读百度云边缘计算和百度云物可视，探讨 IoT 的应用场景和发展趋势。</p> <i>By InfoQ</i>
---------------
<h1 id="#title_3" >4、视频演讲： 边缘计算，物联网的下一个主战场</h1>
李乐丁
[http://www.infoq.com/cn/presentations/edge-computing-the-next-main-battleground-of-the-internet-of-things?utm_campaign=infoq_content&utm_source=infoq&utm_medium=feed&utm_term=global](http://www.infoq.com/cn/presentations/edge-computing-the-next-main-battleground-of-the-internet-of-things?utm_campaign=infoq_content&utm_source=infoq&utm_medium=feed&utm_term=global)
<img src="https://res.infoq.com/presentations/edge-computing-the-next-main-battleground-of-the-internet-of-things/zh/mediumimage/lileding270-1525272679450.jpg"/><p>智能边缘，将云计算能力拓展至用户现场，可以提供临时离线、低延时的计算服务，包括消息规则、函数计算、AI 推断。本次演讲将从智能边缘配合百度智能云出发，分享“云管理，端计算”的端云一体解决方案。</p> <i>By 李乐丁</i>
---------------
<h1 id="#title_4" >5、不一味迎合用户，知乎想用AI算法打造智能社区</h1>
陈利鑫
[http://www.infoq.com/cn/news/2018/05/zhihu-ai-community?utm_campaign=infoq_content&utm_source=infoq&utm_medium=feed&utm_term=global](http://www.infoq.com/cn/news/2018/05/zhihu-ai-community?utm_campaign=infoq_content&utm_source=infoq&utm_medium=feed&utm_term=global)
<img src="http://www.infoq.com/styles/i/logo_bigger.jpg"/><p>知乎想用AI算法打造智能社区。</p> <i>By 陈利鑫</i>
---------------
<h1 id="#title_5" >6、Eclipse Photon即将发布</h1>
Kesha Williams
[http://www.infoq.com/cn/news/2018/05/eclipse-photon?utm_campaign=infoq_content&utm_source=infoq&utm_medium=feed&utm_term=global](http://www.infoq.com/cn/news/2018/05/eclipse-photon?utm_campaign=infoq_content&utm_source=infoq&utm_medium=feed&utm_term=global)
<img src="http://www.infoq.com/styles/i/logo_bigger.jpg"/><p>Eclipse Photon是Eclipse项目的第十七个年度发布版本，将会在六月份释放，我们一直在关注每次预发布里程碑中新的和值得注意的特性。里程碑6（M6）为Eclipse平台、Java开发工具（Java Development Tools，JDT）、插件开发环境（Plug-in Development Environment，PDE）、Equinox子项目以及JDT和Eclipse平台的开发人员带来了一些值得关注的新特性。

</p> <i>By Kesha Williams</i> <i> Translated by 张卫滨</i>
---------------
<h1 id="#title_6" >7、文章： 数字化转型指南（第二部分）</h1>
Philippe Assouline
[http://www.infoq.com/cn/articles/Digital-Transformation-Guide-2?utm_campaign=infoq_content&utm_source=infoq&utm_medium=feed&utm_term=global](http://www.infoq.com/cn/articles/Digital-Transformation-Guide-2?utm_campaign=infoq_content&utm_source=infoq&utm_medium=feed&utm_term=global)
<img src="https://res.infoq.com/articles/Digital-Transformation-Guide-2/zh/smallimage/BOLTS-1524870463316.jpg"/><p>从传统来看，实现伟大的数字化商业愿景需要在运营、技术和人力方面进行艰苦卓绝的努力。 本文介绍了一种框架，可轻松将数字化业务目标转化为数字化策略，然后可以对其进行定价和建模，以便进行影响分析和创造经济价值。</p> <i>By Philippe Assouline</i> <i> Translated by 无明</i>
---------------
<h1 id="#title_7" >8、TSDoc：TypeScript源代码文档生成格式</h1>
Dylan Schiemann
[http://www.infoq.com/cn/news/2018/05/tsdoc-format-announced?utm_campaign=infoq_content&utm_source=infoq&utm_medium=feed&utm_term=global](http://www.infoq.com/cn/news/2018/05/tsdoc-format-announced?utm_campaign=infoq_content&utm_source=infoq&utm_medium=feed&utm_term=global)
<img src="http://www.infoq.com/styles/i/logo_bigger.jpg"/><p> TSDoc项目提出了一种新的TypeScript源代码文档生成格式。已有的TypeScript API文档解析器支持基于JSDoc的语法，但是各种JSDoc扩展在实现上存在不一致。</p> <i>By Dylan Schiemann</i> <i> Translated by 盖磊</i>
---------------
<h1 id="#title_8" >9、AWS发布Secrets Manager，用于存储、分发和旋转秘钥</h1>
Steef-Jan Wiggers
[http://www.infoq.com/cn/news/2018/05/aws-secret-manager-manage?utm_campaign=infoq_content&utm_source=infoq&utm_medium=feed&utm_term=global](http://www.infoq.com/cn/news/2018/05/aws-secret-manager-manage?utm_campaign=infoq_content&utm_source=infoq&utm_medium=feed&utm_term=global)
<img src="http://www.infoq.com/styles/i/logo_bigger.jpg"/><p>亚马逊宣布推出AWS Secrets Manager，用户可以使用API​​或AWS命令行界面（CLI）轻松存储和检索秘钥。此外，用户可以使用内置的调度功能或自定义Lambda函数来轮换他们的凭证。 用户可以通过AWS Secrets Manager来集中管理分布式服务和应用程序的秘钥。</p> <i>By Steef-Jan Wiggers</i> <i> Translated by 无明</i>
---------------
<h1 id="#title_9" >10、Visual Studio 15.7预览版4改进Git、C++支持</h1>
Jeff Martin
[http://www.infoq.com/cn/news/2018/05/vs2017-15.7-preview4?utm_campaign=infoq_content&utm_source=infoq&utm_medium=feed&utm_term=global](http://www.infoq.com/cn/news/2018/05/vs2017-15.7-preview4?utm_campaign=infoq_content&utm_source=infoq&utm_medium=feed&utm_term=global)
<img src="http://www.infoq.com/styles/i/logo_bigger.jpg"/><p>对于即将到来的Visual Studio 2017 15.7，微软已经发布了多个新的预览版本。这些版本的变更很有限，似乎离正式发布不远了。通常，变更的涉及面很广——因此，不管是用什么语言，开发人员都可以看到一些好处。</p> <i>By Jeff Martin</i> <i> Translated by 谢丽</i>
---------------
<h1 id="#title_10" >11、OCI基于Docker Registry v2协议标准化容器注册表API</h1>
Hrishikesh Barua
[http://www.infoq.com/cn/news/2018/05/oci-distribution-spec?utm_campaign=infoq_content&utm_source=infoq&utm_medium=feed&utm_term=global](http://www.infoq.com/cn/news/2018/05/oci-distribution-spec?utm_campaign=infoq_content&utm_source=infoq&utm_medium=feed&utm_term=global)
<img src="http://www.infoq.com/styles/i/logo_bigger.jpg"/><p>Open Container Initiative启动了容器发行规范项目，用以标准化容器镜像注册表的API。它基于Docker Registry协议v2，使用对象为Docker工具集和公有云供应商。
</p> <i>By Hrishikesh Barua</i> <i> Translated by 无明</i>
---------------
<h1 id="#title_11" >12、FEX 技术周刊 - 2018/04/30</h1>

[http://fex.baidu.com/blog/2018/04/fex-weekly-30//](http://fex.baidu.com/blog/2018/04/fex-weekly-30//)
作者：zhangtao <br> <p>微信搜索『FEX』关注我们的公众号，及时获得最新资讯。</p>

<h2 id="section">业界会议</h2>

<p><strong>[报名]FDCon2018 – 前端体验的融合开发之道</strong><br />
https://fdcon.topgeek.org/<br />
第三届中国前端开发者千人峰会，FDCon2018主要面向各行业对前端、移动开发感兴趣的中高端技术人员，聚焦前沿技术及实践经验，旨在帮助参会者了解前端和移动开发领域最新的技术趋势与最佳实践。本次大会的主题是“前端体验的融合开发之道“，重点讲述端的融合和栈的融合。另附：</p>

<h2 id="section-1">深阅读</h2>

<p><strong>Node v10.0.0</strong><br />
https://nodejs.org/en/blog/release/v10.0.0/<br />
Feature Highlights for the Node-ChakraCore release include: V8 6.6; Full support for N-API; Easy getting started with Time-Travel Debugging via a new Visual Studio Code Extension; TTD support for generators and async functions; Support for Inspector protocol; Increased stability and other assorted improvements. 附：.</p>

<p><strong>V8 - Improved code caching</strong><br />
https://v8project.blogspot.com/2018/04/improved-code-caching.html<br />
V8 uses code caching to cache the generated code for frequently-used scripts. Starting with Chrome 66, we are caching more code by generating the cache after top-level execution. This leads to a 20-40% reduction in parse and compilation time during the initial load.</p>

<p><strong>CKEditor 5 v10 Released: A Powerful WYSIWYG Editor Framework</strong><br />
https://ckeditor.com/blog/CKEditor-5-v10.0.0-the-future-of-rich-text-editing-looks-stable/<br />
It has been a long time coming, but after almost 4 years of research, planning and developing, we give you a totally new experience in rich text editing — CKEditor 5. For those who are not familiar with CKEditor 5 yet — it is a powerful framework that enables you to create any kind of text editing solution and include real-time collaborative editing inside.</p>

<p><strong>Writing WebAssembly By Hand</strong><br />
http://blog.scottlogic.com/2018/04/26/webassembly-by-hand.html<br />
This post describes the process of implementing Conway’s Game of Life, it’s something of a classic. You might also want to take a look at this fantastic tutorial which also implements Life in WebAssembly using Rust. 另附：</p>

<p><strong>CSS at Scale: LinkedIn’s New Open Source Projects Take on Stylesheet Performance</strong><br />
https://engineering.linkedin.com/blog/2018/04/css-at-scale--linkedins-new-open-source-projects-take-on-stylesh<br />
 is an ergonomic, component-oriented CSS authoring system that compiles to high-performance stylesheets. By combining an opinionated authoring system, build-time analysis and rewriting of templates, and a new type of CSS optimizer, css-blocks breathes new power and ease of use into the technologies and best practices that stylesheet developers already know and love.</p>

<p><strong>Testing Strategies for React and Redux</strong><br />
https://hacks.mozilla.org/2018/04/testing-strategies-for-react-and-redux/<br />
When the Firefox Add-ons team ported addons.mozilla.org to a single page app backed by an API, we chose React and Redux for powerful state management, delightful developer tools, and testability. Achieving the testability part isn’t completely obvious since there are competing tools and techniques. Below are some testing strategies that are working really well for us. 另附：</p>

<p><strong>Nerv实战 - 京东首页改版小结</strong><br />
https://aotu.io/notes/2018/04/24/jdindex_2017/<br />
从 整体开发架构与模式，性能、体验优化的探索，页面可用性的保障等方面对京东首页的开发过程做了 简单的介绍。之所以说简单，是因为短短的篇幅完全无法说完我们在开发期间的故事和感悟：许多问题的解决并不像上面讲的那样水到渠成；除此之外更是有一大堆深夜加班撸串的故事没有地方讲。</p>

<p><strong>Qone 正式开源，使 javascript 支持 .NET LINQ</strong><br />
http://div.io/topic/2197<br />
LINQ (语言集成查询) 是 .NET Framework 3.5 版中引入的一项创新功能，可以用 Visual Basic 或 C# 为以下数据源编写 LINQ 查询：SQL Server 数据库、XML 文档、ADO.NET 数据集，以及可枚举的 Objects(即 LINQ to Objects)。腾讯文档公式相关工作、早年的 kmdjs 开发 (uglify2) 和 .NET 开发，所以有了 qone 。qone 是一款让 Web 前端工程师在 javascript 使用 .NET 平台下类似 LINQ 语法的前端库。qone 让 Web 前端工程师通过字符串的形式实现了 LINQ to Objects 的调用（下面统一叫做 qone to objects），Objects即 JSON 组成的 Array。</p>

<p><strong>后端架构师技术图谱</strong><br />
https://github.com/xingshaocheng/architect-awesome/blob/master/README.md<br />
非常适合用 Node 实践全栈的前端同学看看。</p>

<p><strong>专访死马：为什么说Egg.js是企业级Node框架</strong><br />
https://zhuanlan.zhihu.com/p/36240171<br />
自从Node.js问世以来，阿里就是国内跟进Node.js最激进的公司之一。阿里不仅在公司内大范围使用Node.js用作服务端开发，2016年还将他们使用Node做Web开发的经验沉淀下来，推出Egg.js开源项目，号称为企业级框架和应用而生。企业级开发对于框架有着诸多要求，那么Egg.js又是怎么满足这些要求的？</p>

<p><strong>七牛云：工程效率部如何为研发赋能</strong><br />
https://mp.weixin.qq.com/s?__biz=MzA4NTU2MTg3MQ==&amp;mid=2655164024&amp;idx=1&amp;sn=756862073ad7498d80e54da0e6d2ce69<br />
我们的体系主要分三大块：质量管理、工程赋能，以及过程改进。虽然这里有虚线、实线组织，但整体来说是有机的整体。我们不但要做质量，更重要的是在有效率的情况下，如何把质量做到最好。</p>

<p><strong>Canvas: Draw on the web</strong><br />
https://yuque.com/airing/canvas<br />
从零基础开始，到Canvas API，再到基本动画与高级动画的实现，还会介绍视音频的处理、移动应用，最后如果有时间会扩展说一说3D、多人应用、游戏制作等。另附：。</p>

<p><strong>阮老师每周分享</strong><br />
http://www.ruanyifeng.com/blog/2018/04/weekly-issue-2.html<br />
这里记录过去一周，我看到的值得分享的东西。长久以来，我一直用各种方式，尝试整理我的收藏夹。最近想到，把它写成文章，共享出来，也许效果更好。感兴趣的可以 RSS 订阅，长期关注。</p>

<p><strong>Under the hood of CSS and JS animations + how to optimize their performance</strong><br />
https://blog.sessionstack.com/how-javascript-works-under-the-hood-of-css-and-js-animations-how-to-optimize-their-performance-db0e79586216<br />
As you surely know, animations play an essential role in the creation of compelling web apps. As users increasingly shift their attention to UX and businesses start realizing the importance of flawless, enjoyable user journeys, web applications become heavier, and feature more dynamic UI. This all requires more complex animations for smoother state transitions throughout the journey of the user.</p>

<p><strong>Replace Animated GIFs with Video</strong><br />
https://developers.google.com/web/fundamentals/performance/optimizing-content-efficiency/replace-animated-gifs-with-video/<br />
In this article, you’re going to learn how to do what the GIF hosting sites do to keep their bandwidth bills from going through the roof, and convert those giant GIFs into lean and fast video files! You’ll then learn how to properly embed these videos in web pages so they behave just like GIFs. Finally, we’ll talk a little bit about decoding performance for both GIF and video. Before you know it, you’ll be well on your way to shaving megabytes off your GIF-heavy web pages in no time at all!</p>

<p><strong>How to break a Monolith into Microservices</strong><br />
https://martinfowler.com/articles/break-monolith-into-microservices.html<br />
As monolithic systems become too large to deal with, many enterprises are drawn to breaking them down into the microservices architectural style. It is a worthwhile journey, but not an easy one. We’ve learned that to do this well, we need to start with a simple service, but then draw out services that are based on vertical capabilities that are important to the business and subject to frequent change. These services should be large at first and preferably not dependent upon the remaining monolith. We should ensure that each step of migration represents an atomic improvement to the overall architecture. 另附：</p>

<p><strong>MacOS monitoring the open source way</strong><br />
https://blogs.dropbox.com/tech/2018/04/4696/<br />
We eventually landed on 3 open source tools: osquery, Santa, and the OpenBSM/Audit system; with each tool serving a specific purpose: osquery provides periodic snapshots describing changes to the state of a machine; Santa provides real-time process launch events containing details about the executing binary; OpenBSM/Audit is real-time system call monitoring module in the macOS kernel that can provide networking, file operations, administrative events, and other system interactions.</p>

<p><strong>Moving Fast and Securing Things - The SDL at Slack and goSDL</strong><br />
https://slack.engineering/moving-fast-and-securing-things-540e6c5ae58a<br />
For development teams, process can often be antithetical to speed. Ease of deployment and security tend to have an inverse relationship, with some resentment for the security team occasionally mixed in. “SDL” stands for “Security Development Lifecycle”.</p>

<p><strong>Hijack of Amazon’s internet domain service used to reroute web traffic for two hours unnoticed</strong><br />
https://doublepulsar.com/hijack-of-amazons-internet-domain-service-used-to-reroute-web-traffic-for-two-hours-unnoticed-3a6f0dda6a6f<br />
The attackers used BGP — a key protocol used for routing internet traffic around the world — to reroute traffic to Amazon’s Route 53 service, the largest commercial cloud provider who count major websites such as Twitter.com as customers. 另附：</p>

<p><strong>Scaling a High-traffic Rate Limiting Stack With Redis Cluster</strong><br />
https://brandur.org/redis-cluster<br />
Stripe’s rate limiters are built on top of Redis, and until recently, they ran on a single very hot instance of Redis. The server had followers in place for failover, but at any given time, one node was handling every operation. 另附：。</p>

<p><strong>Parsing JSON is a Minefield</strong><br />
http://seriot.ch/parsing_json.php<br />
I’ll show that JSON is not the easy, idealised format as many do believe. Indeed, I did not find two libraries that exhibit the very same behaviour. Moreover, I found that edge cases and maliciously crafted payloads can cause bugs, crashes and denial of services, mainly because JSON libraries rely on specifications that have evolved over time and that left many details loosely specified or not specified at all.</p>

<p><strong>What Will Programming Look Like In The Future?</strong>*<br />
http://highscalability.com/blog/2018/4/25/update-what-will-programming-look-like-in-the-future.html<br />
Humans and AIs working together to produce software better than either can separately. The computer as a creative agent, working in tandem with a human partner, to produce software, in a beautiful act of co-creation. What we need is a manufacturing process that puts software production on an exponential curve. The only conceivable tool we have at the moment to put software on an exponential production curve is AI. That’s the only way software can truly eat the world.</p>

<h2 id="section-2">新鲜货</h2>

<p><strong>WebDriver is a W3C Proposed Recommendation</strong><br />
https://www.w3.org/blog/news/archives/6985<br />
The Browser Testing and Tools Working Group has published a Proposed Recommendation of WebDriver. WebDriver is a remote control interface that enables introspection and control of user agents. It provides a platform- and language-neutral wire protocol as a way for out-of-process programs to remotely instruct the behavior of web browsers.</p>

<p><strong>GitHub partners with the Fintech Open Source Foundation (FINOS)</strong><br />
https://blog.github.com/2018-04-24-github-partners-with-finos/<br />
We’re proud to announce our membership in the —a newly launched nonprofit foundation promoting open innovation in financial services—along with technical organizations like Red Hat and Nodesource and financial organizations like Citigroup, UBS, and HSBC.</p>

<p><strong>GitLab 10.7 released with open source Web IDE and SAST for Go and C/C++</strong><br />
https://about.gitlab.com/2018/04/22/gitlab-10-7-released/<br />
We are making these tasks easier and more efficient with an amazing Web IDE, more flexible pipelines, additional security testing, and so much more.</p>

<p><strong>RxJS v5.x to v6 Update Guide</strong><br />
https://github.com/ReactiveX/rxjs/blob/master/MIGRATION.md<br />
RxJS v6 has arrived! While this is a major version change (from 5.x to 6.x), we’ve put in a lot of work to keep the hard breaking changes to a minimum. In most cases, this allows application and library developers to update incrementally and use RxJS v6 without any modifications to their code.</p>

<p><strong>Announcing Storybook 3.4</strong><br />
https://medium.com/storybookjs/announcing-storybook-3-4-db4d1341dedd<br />
Storybook 3.4 is on the NPM registry, and it’s a big one. It includes:, New framework support: Polymer; Component testing: Storyshots image snapshots, Vue/Angular support; UI improvements: Multiple story hierarchies; Storysource: New addon for component code documentation.</p>

<p><strong>Microsoft makes AI training courses available to the public</strong><br />
https://blogs.microsoft.com/ai/microsoft-professional-program-ai/<br />
Microsoft announced the , the latest learning track open to the public. The program provides job-ready skills and real-world experience to engineers and others who are looking to improve their skills in AI.</p>

<p><strong>Webkit - Visualizing Layers in Web Inspector</strong><br />
https://webkit.org/blog/8262/visualizing-layers-in-web-inspector/<br />
Recent releases of Safari Technology Preview contain a new experimental feature for Web Inspector: the Layers tab. Building upon the legacy Layers sidebar, this tab introduces a 3D visualization of the inspected page’s compositing layers, to provide developers with a more hands-on (and hopefully fun!) way to understand where layers are being generated and in what order they will render. 另附：</p>

<p><strong>Permit - An unopinionated authentication library for building Node.js APIs.</strong><br />
https://github.com/ianstormtaylor/permit<br />
Permit makes it easy to add an authentication layer to any Node.js API. It can be used with any of the popular server frameworks (eg. Express, Koa, Hapi, Fastify) and it can be used for any type of API (eg. REST, GraphQL, etc.) due to its simple, unopinionated design.</p>

<p><strong>PKIjs</strong><br />
https://github.com/PeculiarVentures/PKI.js<br />
Public Key Infrastructure (PKI) is the basis of how identity and key management is performed on the web today. PKIjs is a pure JavaScript library implementing the formats that are used in PKI applications. It is built on WebCrypto (Web Cryptography API) and aspires to make it possible to build native web applications that utilize X.509 and the related formats on the web without plug-ins.</p>

<p><strong>TypeORM</strong><br />
http://typeorm.io/#/<br />
TypeORM is an ORM that can run in NodeJS, Browser, Cordova, PhoneGap, Ionic, React Native and Electron platforms and can be used with TypeScript and JavaScript (ES5, ES6, ES7). Its goal is to always support the latest JavaScript features and provide additional features that help you to develop any kind of application that uses databases - from small applications with a few tables to large scale enterprise applications with multiple databases.</p>

<p><strong>TOAST UI Calendar</strong><br />
https://github.com/nhnent/tui.calendar<br />
A JavaScript schedule calendar with full featured. Now your service just got the customizable calendar. 另附：，a minimalist JavaScript library for modern browsers with a largely Moment.js-compatible API.</p>

<p><strong>Unstated</strong><br />
https://github.com/jamiebuilds/unstated<br />
State so simple, it goes without saying. 附：</p>

<p><strong>Tone.js</strong><br />
https://tonejs.github.io/<br />
Tone.js is a framework for creating interactive music in the browser. It provides advanced scheduling capabilities, synths and effects, and intuitive musical abstractions built on top of the Web Audio API.</p>

<p><strong>react-circle</strong><br />
https://github.com/zzarcon/react-circle<br />
Renders a svg circle + progress</p>

<p><strong>Introducing calidation</strong><br />
https://medium.com/@selbekk/introducing-calidation-7d9a79453f7<br />
Although form validation is boring af, it’s also one of the most important improvements to your user experience. Get ready to be mildly impressed!</p>

<p><strong>Electrode</strong><br />
http://www.electrode.io/<br />
Electrode is a platform for building universal React/Node.js applications with standardized structure, best practices, and modern technologies baked in. Electrode Native is a mobile platform that simplifies development and streamlines the integration of React Native components into existing mobile applications.</p>

<p><strong>iOS Dev Directory</strong><br />
https://iosdevdirectory.com/<br />
The iOS Dev Directory is a comprehensive list of blogs &amp; sites covering iOS development. Whether it’s about coding, design, marketing or anything in between, if a blog or site is related to iOS development it should be listed here.</p>

<p><strong>Flask 1.0 Released</strong><br />
https://www.palletsprojects.com/blog/flask-1-0-released/<br />
Flask is a lightweight WSGI web application framework. It is designed to make getting started quick and easy, with the ability to scale up to complex applications. It began as a simple wrapper around Werkzeug and Jinja and has become one of the most popular Python web application frameworks. 可看看有哪些值得 Node 框架借鉴的.</p>

<p><strong>Go’s New Brand</strong><br />
https://blog.golang.org/go-brand<br />
I am delighted to announce the launch of Go’s new look and logo. 另附：</p>

<p><strong>Practical Jokes in the Browser</strong><br />
http://mediatemple.net/blog/tips/practical-jokes-browser/<br />
I know April Fool’s Day is at the beginning of this month, but hey, now you’ve got a year to prepare. Not to mention a gool ol’ practical joke can be done anytime. Fair warning on this stuff… you gotta be tasteful. Putting someone’s stapler in the jello is pretty hilarious unless it’s somehow a family heirloom, or it’s someone who’s been the target of a little too much office prankery to the point it isn’t funny anymore. Do good. Have fun.</p>

<h2 id="section-3">设计</h2>

<p><strong>What I have learned at Google as a designer</strong><br />
https://medium.com/google-design/what-i-learned-at-google-as-a-designer-7e3a12b7a82e<br />
A running list of learnings &amp; insights from my ongoing journey as a Googler. 另附：</p>

<p><strong>Working Together: How Designers And Developers Can Communicate To Create Better Projects</strong><br />
https://www.smashingmagazine.com/2018/04/working-together-designers-developers/<br />
A good relationship starts with the ability for all of us to take a step back from our strongly held opinions, listen to our colleagues, and learn to compromise. We can then choose tools and workflows which help to support that understanding that we are all on the same team, all trying to do a great job, and all have important viewpoints and experience to bring to the project. 另附：</p>

<p><strong>The Illusion of Control in Web Design</strong><br />
http://alistapart.com/article/the-illusion-of-control-in-web-design<br />
We all want to build robust and engaging web experiences. We scrutinize every detail of an interaction. We spend hours getting the animation swing just right. We refactor our JavaScript to shave tiny fractions of a second off load times. We control absolutely everything we can, but the harsh reality is that we control less than we think.</p>

<p><strong>The Front-End Design Checklist</strong><br />
https://codeburst.io/the-front-end-design-checklist-4dd15828fad<br />
An Exhaustive List of all the Elements which Web Designers and Front-End Developers need to take into Consideration to Facilitate their Collaboration.</p>

<p><strong>Many Faces of Graphic Design: What Graphic Designers Do</strong><br />
https://uxplanet.org/many-faces-of-graphic-design-what-graphic-designers-do-b73a0e611115<br />
Seeing the steady interest in the issues on graphic design on Quora, we have collected the most popular questions here for our readers. They cover the following questions: What is graphic design? What are the creative directions of graphic design?
Is graphic design art? Why is graphic design important? What skills are needed to reach success in graphic design?</p>

<p><strong>Seven best practices for inclusive product design</strong><br />
https://medium.com/@Pinterest_Engineering/seven-best-practices-for-inclusive-product-design-9476c61f1e17<br />
We’re building a product for everyone, because the best Pinterest is inclusive and easily usable for people with all levels of abilities. That’s why today we’re sharing our learnings and best practices we developed over the last year as we redesigned Pinterest to be more accessible for people who are blind and visually impaired. 另附：</p>

<h2 id="section-4">产品及其它</h2>

<p><strong>How To Drive Change as a Software Engineer</strong><br />
http://www.lihaoyi.com/post/HowToDriveChangeasaSoftwareEngineer.html<br />
You have an idea. Your boss is indifferent, your team-mates apprehensive, and that other team whose help you need are dubious. You are an individual-contributor with no direct-reports. You still think it’s a good idea, but cannot make it happen alone. What next? 另附：</p>

<p><strong>MIT Researchers Have Developed a ‘System for Dream Control’</strong><br />
https://motherboard.vice.com/en_us/article/ywxjvg/steel-ball-control-dreams-dormio-mit-hypnagogia<br />
So far Horowitz has tested the device on 8 subjects and found that it is able to reliably maximize the amount of time users spend suspended between wakefulness and sleep, as well as shape the content of the microdreams they experience. In other words, these MIT researchers have developed a low cost device that allows users to interface with sleep.</p>

<p><strong>Why it took a long time to build that tiny link preview on Wikipedia</strong><br />
https://blog.wikimedia.org/2018/04/20/why-it-took-a-long-time-to-build-that-tiny-link-preview-on-wikipedia/<br />
The history of page previews.</p>

<p><strong>Stack Overflow Isn’t Very Welcoming. It’s Time for That to Change</strong><br />
https://stackoverflow.blog/2018/04/26/stack-overflow-isnt-very-welcoming-its-time-for-that-to-change/<br />
As of last week, we’re prioritizing this and staffing it with talented employees from our Executive, Community, Data, Design, Research, and Engineering teams. We’re listening to our community and those sharing their experiences. In any case, here are some areas we’re planning to focus on first: Let’s shift  from “don’t be an asshole” to “be welcoming.”; Let’s do something about comments; Let’s make it easier for new users to succeed; Let’s stop judging users for not knowing things…</p>

<p><strong>凯叔：对自己狠的人，身边都是蓝海</strong><br />
https://mp.weixin.qq.com/s?__biz=MzUyMDQ5NzI5Mg==&amp;mid=2247494957&amp;idx=1&amp;sn=3d4b693774c0bc2059befa71077e788f<br />
搭建模型：寻找“第一性原理”；找到极致点：把产品打造成工艺品；场景：不为场景打造出来的产品与垃圾无异；时间成本：资本不能催化的往往才是你的核心竞争力；交互：交互方式本身就是内容；营销：营销永远在前面；迭代：当你觉得产品完成了的时候，它就死了。</p>

<p><strong>95后只会吃鸡和点外卖？看看互联网生活方式数据怎么说</strong><br />
https://mp.weixin.qq.com/s?__biz=MTEwNTM0ODI0MQ==&amp;mid=2653435423&amp;idx=1&amp;sn=8a2dc59a379b2a829655c615119ca286<br />
随着95后的成长，兴趣圈子的文化逐渐蔓延为年轻群体主流文化，互联网行业如何理解？为此，酷鹅用户研究院（微信ID：kueclub）特展开系列研究，本期将深入解析95后互联网生活方式。</p>

<p>– THE END –</p>
---------------
<h1 id="#title_12" >13、Building A Serverless Contact Form For Your Static Site</h1>
Brian Holt
[https://www.smashingmagazine.com/2018/05/building-serverless-contact-form-static-website/](https://www.smashingmagazine.com/2018/05/building-serverless-contact-form-static-website/)
<html>
            <head>
              <meta charset="utf-8">
              <link rel="canonical" href="https://www.smashingmagazine.com/2018/05/building-serverless-contact-form-static-website/" />
              <title>Building A Serverless Contact Form For Your Static Site</title>
            </head>
            <body>
              <article>
                <header>
                  <h1>Building A Serverless Contact Form For Your Static Site</h1>
                  
                    
                    <address>Brian Holt</address>
                  
                  <time datetime="2018-05-02T18:30:17&#43;02:00" class="op-published">2018-05-02T18:30:17+02:00</time>
                  <time datetime="2018-05-02T17:49:19&#43;00:00" class="op-modified">2018-05-02T17:49:19+00:00</time>
                </header>
                

<p>Static site generators provide a fast and simple alternative to Content Management Systems (CMS) like . There’s no server or database setup, just a build process and simple HTML, CSS, and JavaScript. Unfortunately, without a server, it’s easy to hit their limits quickly. For instance, in adding a contact form.</p>

<p>With the rise of  adding a contact form to your static site doesn’t need to be the reason to switch to a CMS anymore. It’s possible to get the best of both worlds: a static site with a serverless back-end for the contact form (that you don’t need to maintain). Maybe best of all, in low-traffic sites, like portfolios, the high limits of many serverless providers make these services completely free!</p>

<p>In this article, you’ll learn the basics of Amazon Web Services (AWS) . The full service will take form data submitted from an AJAX request, hit the Lambda endpoint, parse the data to build the SES parameters, send the email address, and return a response for our users. I’ll guide you through getting Serverless set up for the first time through deployment. It should take under an hour to complete, so let’s get started!</p>

<figure><figcaption>The static site form, sending the message to the Lambda endpoint and returning a response to the user.</figcaption></figure>



<aside class="product-panel product-panel__tilted product-panel--book" data-audience="non-subscriber">
    <div class="container product-panel--book__container">
      <div class="panel__description panel__description--book">
    <p>Nope, we can't do any magic tricks, but we have articles,  get a seasoned selection of magic front-end tricks — e.g. <strong>live designing sessions</strong> and perf audits, too. <em>Just sayin'</em>! ;-)</p>

      <a href="https://www.smashingmagazine.com/membership/?utm_medium=panel" class="btn btn--green btn--large">
        Explore Smashing Wizardry&nbsp;→
      </a>
      </div>
      <div class="panel__image panel__image--book">
        <a href="https://www.smashingmagazine.com/membership/?utm_medium=panel" class="books__book__image">
        <div class="books__book__img">
          <img src="https://www.smashingmagazine.com/images/smashing-cat/cat-wizard.svg" alt="Smashing Cat, just preparing to do some magic stuff." width="310" height="400">
        </div>
      </a>
      </div>
    </div>
  </aside>





<div class="c-garfield-the-cat">


<h3 id="setting-up">Setting Up</h3>

<p>There are minimal prerequisites in getting started with Serverless technology. For our purposes, it’s simply a .</p>

<h4 id="setting-up-the-project">Setting Up The Project</h4>











<figure class="article__image break-out">
	<a href="https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/38189e1a-bf20-464b-8132-bf8f6e005bfe/serverless-framework.png">
		<img
			srcset="https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_400/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/38189e1a-bf20-464b-8132-bf8f6e005bfe/serverless-framework.png 400w,
			        https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_800/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/38189e1a-bf20-464b-8132-bf8f6e005bfe/serverless-framework.png 800w,
			        https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_1200/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/38189e1a-bf20-464b-8132-bf8f6e005bfe/serverless-framework.png 1200w,
			        https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_1600/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/38189e1a-bf20-464b-8132-bf8f6e005bfe/serverless-framework.png 1600w,
			        https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_2000/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/38189e1a-bf20-464b-8132-bf8f6e005bfe/serverless-framework.png 2000w"
			src="https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_400/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/38189e1a-bf20-464b-8132-bf8f6e005bfe/serverless-framework.png"
			sizes="100vw"
			alt="The Serverless Framework web site. Useful for installation and documentation."
		/>
	</a>

	
		<figcaption class="op-vertical-bottom">
			The Serverless Framework web site. Useful for installation and documentation.
		</figcaption>
	
</figure>


<p>We use Yarn to install the Serverless Framework to a local directory.</p>

<ol>
<li>Create a new directory to host the project.</li>
<li>Navigate to the directory in your command line interface.</li>
<li>Run <code>yarn init</code> to create a <code>package.json</code> file for this project.</li>
<li>Run <code>yarn add serverless</code> to install the framework locally.</li>
<li>Run <code>yarn serverless create --template aws-nodejs --name static-site-mailer</code> to create a Node service template and name it <code>static-site-mailer</code>.</li>
</ol>

<p>Our project is setup but we won’t be able to do anything until we set up our AWS services.</p>

<h4 id="setting-up-an-amazon-web-services-account-credentials-and-simple-email-service">Setting Up An Amazon Web Services Account, Credentials, And Simple Email Service</h4>











<figure class="article__image break-out">
	<a href="https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/15c1d472-387a-4db1-ac30-236dd30413b8/aws-page.png">
		<img
			srcset="https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_400/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/15c1d472-387a-4db1-ac30-236dd30413b8/aws-page.png 400w,
			        https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_800/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/15c1d472-387a-4db1-ac30-236dd30413b8/aws-page.png 800w,
			        https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_1200/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/15c1d472-387a-4db1-ac30-236dd30413b8/aws-page.png 1200w,
			        https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_1600/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/15c1d472-387a-4db1-ac30-236dd30413b8/aws-page.png 1600w,
			        https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_2000/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/15c1d472-387a-4db1-ac30-236dd30413b8/aws-page.png 2000w"
			src="https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_400/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/15c1d472-387a-4db1-ac30-236dd30413b8/aws-page.png"
			sizes="100vw"
			alt="The Amazon Web Services sign up page, which includes a generous free tier, enabling our project to be entirely free."
		/>
	</a>

	
		<figcaption class="op-vertical-bottom">
			The Amazon Web Services sign up page, which includes a generous free tier, enabling our project to be entirely free.
		</figcaption>
	
</figure>


<p>The Serverless Framework has recorded a  for setting up AWS credentials, but I&rsquo;ve listed the steps here as well.</p>

<ol>
<li>Sign Up for an  or log in if you already have one.</li>
<li>In the AWS search bar, search for &ldquo;IAM&rdquo;.</li>
<li>On the IAM page, click on &ldquo;Users&rdquo; on the sidebar, then the &ldquo;Add user&rdquo; button.</li>
<li>On the Add user page, give the user a name &ndash; something like &ldquo;serverless&rdquo; is appropriate. Check &ldquo;Programmatic access&rdquo; under Access type then click next.</li>
<li>On the permissions screen, click on the &ldquo;Attach existing policies directly&rdquo; tab, search for &ldquo;AdministratorAccess&rdquo; in the list, check it, and click next.</li>
<li>On the review screen you should see your user name, with &ldquo;Programmatic access&rdquo;, and &ldquo;AdministratorAccess&rdquo;, then create the user.</li>
<li>The confirmation screen shows the user &ldquo;Access key ID&rdquo; and &ldquo;Secret access key&rdquo;, you’ll need these to provide the Serverless Framework with access. In your CLI, type <code>yarn sls config credentials --provider aws --key YOUR_ACCESS_KEY_ID --secret YOUR_SECRET_ACCESS_KEY</code>, replacing <code>YOUR_ACCESS_KEY_ID</code> and <code>YOUR_SECRET_ACCESS_KEY</code> with the keys on the confirmation screen.</li>
</ol>

<p>Your credentials are configured now, but while we&rsquo;re in the AWS console let’s set up Simple Email Service.</p>

<ol>
<li>Click Console Home in the top left corner to go home.</li>
<li>On the home page, in the AWS search bar, search for &ldquo;Simple Email Service&rdquo;.</li>
<li>On the SES Home page, click on &ldquo;Email Addresses&rdquo; in the sidebar.</li>
<li>On the Email Addresses listing page, click the &ldquo;Verify a New Email Address&rdquo; button.</li>
<li>In the dialog window, type your email address then click &ldquo;Verify This Email Address&rdquo;.</li>
<li>You’ll receive an email in moments containing a link to verify the address. Click on the link to complete the process.</li>
</ol>

<p>Now that our accounts are made, let’s take a peek at the Serverless template files.</p>

<h4 id="setting-up-the-serverless-framework">Setting Up The Serverless Framework</h4>


  <div id="sponsors-article" data-impression="true" class="c-promo-box c-promo-box--ad sponsors hidden" data-audience="non-subscriber" data-remove="true"></div>



<p>Running <code>serverless create</code> creates two files:  which is the configuration file for the entire Serverless Architecture. Within the configuration file, you can specify as many handlers as you&rsquo;d like, and each one will map to a new function that can interact with other functions. In this project, we’ll only create a single handler, but in a full Serverless Architecture, you&rsquo;d have several of the various functions of the service.</p>











<figure class="article__image break-out">
	<a href="https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/99127c53-2dbd-4b76-b432-7a8ac8003434/sls-file-structure.png">
		<img
			srcset="https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_400/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/99127c53-2dbd-4b76-b432-7a8ac8003434/sls-file-structure.png 400w,
			        https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_800/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/99127c53-2dbd-4b76-b432-7a8ac8003434/sls-file-structure.png 800w,
			        https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_1200/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/99127c53-2dbd-4b76-b432-7a8ac8003434/sls-file-structure.png 1200w,
			        https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_1600/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/99127c53-2dbd-4b76-b432-7a8ac8003434/sls-file-structure.png 1600w,
			        https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_2000/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/99127c53-2dbd-4b76-b432-7a8ac8003434/sls-file-structure.png 2000w"
			src="https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_400/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/99127c53-2dbd-4b76-b432-7a8ac8003434/sls-file-structure.png"
			sizes="100vw"
			alt="The default file structure generated from the Serverless Framework containing handler.js and serverless.yml."
		/>
	</a>

	
		<figcaption class="op-vertical-bottom">
			The default file structure generated from the Serverless Framework containing .
		</figcaption>
	
</figure>


<p>In , you’ll see a single exported function named <code>hello</code>. This is currently the main (and only) function. It, along with all Node handlers, take three parameters:</p>

<ul>
<li><code>event</code><br />
This can be thought of as the input data for the function.</li>
<li><br />
This contains the runtime information of the Lambda function.</li>
<li><br />
An optional parameter to return information to the caller.</li>
</ul>

<pre class="break-out"><code class="language-javascript">// handler.js

'use strict';

module.exports.hello = (event, context, callback) => {
  const response = {
    statusCode: 200,
    body: JSON.stringify({
      message: 'Go Serverless v1.0! Your function executed successfully!',
      input: event,
    }),
  };

  callback(null, response);
};
</code></pre>

<p>At the bottom of <code>hello</code>, there’s a callback. It’s an optional argument to return a response, but if it’s not <em>explicitly</em> called, it will <em>implicitly</em> return with <code>null</code>. The callback takes :</p>

<ul>
<li><strong>Error error</strong><br />
For providing error information for when the Lambda itself fails. When the Lambda succeeds, <code>null</code> should be passed into this parameter.</li>
<li><strong>Object result</strong><br />
For providing a response object. It must be <code>JSON.stringify</code> compatible. If there’s a parameter in the error field, this field is ignored.</li>
</ul>

<p>Our static site will send our form data in the event body and the callback will return a response for our user to see.</p>

<p>In  you’ll see the name of the service, provider information, and the functions.</p>

<pre><code class="language-yaml"># serverless.yml

service: static-site-mailer

provider:
  name: aws
  runtime: nodejs6.10

functions:
  hello:
    handler: handler.hello
</code></pre>











<figure class="article__image break-out">
	<a href="https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/6677f489-dbd3-4a6a-b7c5-ff6237a57474/mapping.png">
		<img
			srcset="https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_400/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/6677f489-dbd3-4a6a-b7c5-ff6237a57474/mapping.png 400w,
			        https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_800/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/6677f489-dbd3-4a6a-b7c5-ff6237a57474/mapping.png 800w,
			        https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_1200/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/6677f489-dbd3-4a6a-b7c5-ff6237a57474/mapping.png 1200w,
			        https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_1600/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/6677f489-dbd3-4a6a-b7c5-ff6237a57474/mapping.png 1600w,
			        https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_2000/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/6677f489-dbd3-4a6a-b7c5-ff6237a57474/mapping.png 2000w"
			src="https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_400/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/6677f489-dbd3-4a6a-b7c5-ff6237a57474/mapping.png"
			sizes="100vw"
			alt="How the function names in serverless.yml map to handler.js."
		/>
	</a>

	
		<figcaption class="op-vertical-bottom">
			How the function names in .
		</figcaption>
	
</figure>


<p>Notice the mapping between the hello function and the handler? We can name our file and function anything and as long as it maps to the configuration it will work. Let’s rename our function to <code>staticSiteMailer</code>.</p>

<pre><code class="language-yaml"># serverless.yml

functions:
  staticSiteMailer:
    handler: handler.staticSiteMailer
</code></pre>

<pre class="break-out"><code class="language-javascript">// handler.js

module.exports.staticSiteMailer = (event, context, callback) => {
  ...
};
</code></pre>

<p>Lambda functions need permission to interact with other AWS infrastructure. Before we can send an email, we need to allow SES to do so. In , under <code>provider.iamRoleStatements</code> add the permission.</p>

<pre><code class="language-yaml"># serverless.yml

provider:
  name: aws
  runtime: nodejs6.10
  iamRoleStatements:
    - Effect: "Allow"
      Action:
        - "ses:SendEmail"
      Resource: ["*"]
</code></pre>

<p>Since we need a URL for our form action, we need to add HTTP events to our function. In  we create a path, specify the method as <code>post</code>, and set CORS to true for security.</p>

<pre><code class="language-yaml">functions:
  staticSiteMailer:
    handler: handler.staticSiteMailer
    events:
      - http:
          method: post
          path: static-site-mailer
          cors: true
</code></pre>

<p>Our updated  files should look like:</p>

<pre><code class="language-yaml"># serverless.yml

service: static-site-mailer

provider:
  name: aws
  runtime: nodejs6.10

functions:
  staticSiteMailer:
    handler: handler.staticSiteMailer
    events:
      - http:
          method: post
          path: static-site-mailer
          cors: true

provider:
  name: aws
  runtime: nodejs6.10
  iamRoleStatements:
    - Effect: "Allow"
      Action:
        - "ses:SendEmail"
      Resource: ["*"]
</code></pre>

<pre class="break-out"><code class="language-javascript">// handler.js

'use strict';

module.exports.staticSiteMailer = (event, context, callback) => {
  const response = {
    statusCode: 200,
    body: JSON.stringify({
      message: 'Go Serverless v1.0! Your function executed successfully!',
      input: event,
    }),
  };

  callback(null, response);
};
</code></pre>

<p>Our Serverless Architecture is setup, so let’s deploy it and test it. You’ll get a simple JSON response.</p>

<pre class="break-out"><code class="language-bash">yarn sls deploy --verbose
yarn sls invoke --function staticSiteMailer

{
    "statusCode": 200,
    "body": "{\"message\":\"Go Serverless v1.0! Your function executed successfully!\",\"input\":{}}"
}
</code></pre>











<figure class="article__image break-out">
	<a href="https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/6e655ec6-3562-4834-922c-bc1c1004dac5/response.png">
		<img
			srcset="https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_400/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/6e655ec6-3562-4834-922c-bc1c1004dac5/response.png 400w,
			        https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_800/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/6e655ec6-3562-4834-922c-bc1c1004dac5/response.png 800w,
			        https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_1200/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/6e655ec6-3562-4834-922c-bc1c1004dac5/response.png 1200w,
			        https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_1600/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/6e655ec6-3562-4834-922c-bc1c1004dac5/response.png 1600w,
			        https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_2000/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/6e655ec6-3562-4834-922c-bc1c1004dac5/response.png 2000w"
			src="https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_400/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/6e655ec6-3562-4834-922c-bc1c1004dac5/response.png"
			sizes="100vw"
			alt="The return response from invoking our brand new serverless function."
		/>
	</a>

	
		<figcaption class="op-vertical-bottom">
			The return response from invoking our brand new serverless function.
		</figcaption>
	
</figure>


<h3 id="creating-the-html-form">Creating The HTML Form</h3>

<p>Our Lambda function input and form output need to match, so before we build the function we’ll build the form and capture its output. We keep it simple with name, email, and message fields. We’ll add the form action once we&rsquo;ve deployed our serverless architecture and got our URL, but we know it will be a POST request so we can add that in. At the end of the form, we add a paragraph tag for displaying response messages to the user which we’ll update on the submission callback.</p>

<pre><code class="language-html">&lt;form action="{{ SERVICE URL }}" method="POST"&gt;
  &lt;label&gt;
    Name
    &lt;input type="text" name="name" required&gt;
  &lt;/label&gt;
  &lt;label&gt;
    Email
    &lt;input type="email" name="reply_to" required&gt;
  &lt;/label&gt;
  &lt;label&gt;
    Message:
    &lt;textarea name="message" required&gt;&lt;/textarea&gt;
  &lt;/label&gt;
  &lt;button type="submit"&gt;Send Message&lt;/button&gt;
&lt;/form&gt;
&lt;p id="js-form-response"&gt;&lt;/p&gt;
</code></pre>

<p>To capture the output we add a submit handler to the form, turn our form parameters into an object, and send stringified JSON to our Lambda function. In the Lambda function we use <code>JSON.parse()</code> to read our data. Alternatively, you could use  to send and parse the form parameters as a query string but <code>JSON.stringify()</code> and <code>JSON.parse()</code> are native.</p>

<pre class="break-out"><code class="language-javascript">(() => {
  const form = document.querySelector('form');
  const formResponse = document.querySelector('js-form-response');

  form.onsubmit = e => {
    e.preventDefault();

    // Prepare data to send
    const data = {};
    const formElements = Array.from(form);
    formElements.map(input => (data[input.name] = input.value));

    // Log what our lambda function will receive
    console.log(JSON.stringify(data));
  };
})();
</code></pre>

<p>Go ahead and submit your form then capture the console output. We’ll use it in our Lambda function next.</p>











<figure class="article__image break-out">
	<a href="https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/5c14cf58-3540-4ae2-9304-585ffe87991b/form-submission-capture.png">
		<img
			srcset="https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_400/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/5c14cf58-3540-4ae2-9304-585ffe87991b/form-submission-capture.png 400w,
			        https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_800/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/5c14cf58-3540-4ae2-9304-585ffe87991b/form-submission-capture.png 800w,
			        https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_1200/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/5c14cf58-3540-4ae2-9304-585ffe87991b/form-submission-capture.png 1200w,
			        https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_1600/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/5c14cf58-3540-4ae2-9304-585ffe87991b/form-submission-capture.png 1600w,
			        https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_2000/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/5c14cf58-3540-4ae2-9304-585ffe87991b/form-submission-capture.png 2000w"
			src="https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_400/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/5c14cf58-3540-4ae2-9304-585ffe87991b/form-submission-capture.png"
			sizes="100vw"
			alt="Capturing the form data in a console log."
		/>
	</a>

	
		<figcaption class="op-vertical-bottom">
			Capturing the form data in a console log.
		</figcaption>
	
</figure>


<h3 id="invoking-lambda-functions">Invoking Lambda Functions</h3>

<p>Especially during development, we need to test our function does what we expect. The Serverless Framework provides the  command to trigger your function from <em>live</em> and <em>development</em> environments respectively. Both commands require the function name passed through, in our case <code>staticSiteMailer</code>.</p>

<pre><code class="language-bash">yarn sls invoke local --function staticSiteMailer
</code></pre>

<p>To pass mock data into our function, create a new file named <code>data.json</code> with the captured console output under a <code>body</code> key within a JSON object. It should look something like:</p>

<pre class="break-out"><code class="language-javascript">// data.json

{
  "body": "{\"name\": \"Sender Name\",\"reply_to\": \"sender@email.com\",\"message\": \"Sender message\"}"
}
</code></pre>

<p>To invoke the function with the local data, pass the <code>--path</code> argument along with the path to the file.</p>

<pre class="break-out"><code class="language-bash">yarn sls invoke local --function staticSiteMailer --path data.json
</code></pre>











<figure class="article__image break-out">
	<a href="https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/83d98e0e-fe10-4a81-9837-dbbb45ac198f/response-2.png">
		<img
			srcset="https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_400/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/83d98e0e-fe10-4a81-9837-dbbb45ac198f/response-2.png 400w,
			        https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_800/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/83d98e0e-fe10-4a81-9837-dbbb45ac198f/response-2.png 800w,
			        https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_1200/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/83d98e0e-fe10-4a81-9837-dbbb45ac198f/response-2.png 1200w,
			        https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_1600/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/83d98e0e-fe10-4a81-9837-dbbb45ac198f/response-2.png 1600w,
			        https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_2000/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/83d98e0e-fe10-4a81-9837-dbbb45ac198f/response-2.png 2000w"
			src="https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_400/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/83d98e0e-fe10-4a81-9837-dbbb45ac198f/response-2.png"
			sizes="100vw"
			alt="An updated return response from our serverless function when we pass it JSON data."
		/>
	</a>

	
		<figcaption class="op-vertical-bottom">
			An updated return response from our serverless function when we pass it JSON data.
		</figcaption>
	
</figure>


<p>You’ll see a similar response to before, but the <code>input</code> key will contain the event we mocked. Let’s use our mock data to send an email using Simple Email Service!</p>

<h3 id="sending-an-email-with-simple-email-service">Sending An Email With Simple Email Service</h3>

<p>We&rsquo;re going to replace the <code>staticSiteMailer</code> function with a call to a private <code>sendEmail</code> function. For now you can comment out or remove the template code and replace it with:</p>

<pre class="break-out"><code class="language-javascript">// hander.js

function sendEmail(formData, callback) {
  // Build the SES parameters
  // Send the email
}

module.exports.staticSiteMailer = (event, context, callback) => {
  const formData = JSON.parse(event.body);

  sendEmail(formData, function(err, data) {
    if (err) {
      console.log(err, err.stack);
    } else {
      console.log(data);
    }
  });
};
</code></pre>

<p>First, we parse the <code>event.body</code> to capture the form data, then we pass it to a private <code>sendEmail</code> function. <code>sendEmail</code> is responsible for sending the email, and the callback function will return a failure or success response with <code>err</code> or <code>data</code>. In our case, we can simply log the error or data since we’ll be replacing this with the Lambda callback in a moment.</p>

<p>Amazon provides a convenient SDK, <code>aws-sdk</code>, for connecting their services with Lambda functions. Many of their services, including SES, are part of it. We add it to the project with <code>yarn add aws-sdk</code> and import it into the top the handler file.</p>

<pre><code class="language-javascript">// handler.js

const AWS = require('aws-sdk');
const SES = new AWS.SES();
</code></pre>

<p>In our private <code>sendEmail</code> function, we build the  from the parsed form data and use the callback to return a response to the caller. The parameters require the following as an object:</p>

<ul>
<li><strong>Source</strong><br />
The email address SES is sending <em>from</em>.</li>
<li><strong>ReplyToAddresses</strong><br />
An array of email addresses added to the reply to the field in the email.</li>
<li><strong>Destination</strong><br />
An object that must contain at least one <strong>ToAddresses</strong>, <strong>CcAddresses</strong>, or <strong>BccAddresses</strong>. Each field takes an array of email addresses that correspond to the <em>to</em>, <em>cc</em>, and <em>bcc</em> fields respectively.</li>
<li><strong>Message</strong><br />
An object which contains the <strong>Body</strong> and <strong>Subject</strong>.</li>
</ul>




  <aside class="product-panel product-panel__tilted product-panel--book" data-audience="non-subscriber" data-remove="true">
    <div class="container product-panel--book__container">
      <div class="panel__description panel__description--book">
        <p>
          Is your pattern library up to date today? <em>Alla Kholmatova</em> has just finished a fully fledged book on <strong>Design Systems</strong> and how to get them right. With common traps, gotchas and the lessons she learned. Hardcover, eBook. <em>Just sayin'.</em>
        </p>
        <a href="https://www.smashingmagazine.com/printed-books/design-systems/">
          <button class="btn btn--green btn--large">
            Table of Contents&nbsp;&rarr;
          </button>
        </a>
      </div>
      <div class="panel__image panel__image--book">
        <a href="https://www.smashingmagazine.com/printed-books/design-systems/" class="books__book__image">
        <div class="books__book__img">
          <img src="https://www.smashingmagazine.com/images/books/design-systems--large-opt.png">
        </div>
      </a>
      </div>
    </div>
  </aside>




<p>Since <code>formData</code> is an object we can call our form fields directly like <code>formData.message</code>, build our parameters, and send it. We pass <em>your</em> SES-verified email to <code>Source</code> and <code>Destination.ToAddresses</code>. As long as the email is verified you can pass anything here, including different email addresses. We pluck our <code>reply_to</code>, <code>message</code>, and <code>name</code> off our <code>formData</code> object to fill in the <code>ReplyToAddresses</code> and <code>Message.Body.Text.Data</code> fields.</p>

<pre class="break-out"><code class="language-javascript">// handler.js
function sendEmail(formData, callback) {
  const emailParams = {
    Source: 'your_email@example.com', // SES SENDING EMAIL
    ReplyToAddresses: [formData.reply_to],
    Destination: {
      ToAddresses: ['your_email@example.com'], // SES RECEIVING EMAIL
    },
    Message: {
      Body: {
        Text: {
          Charset: 'UTF-8',
          Data: `${formData.message}\n\nName: ${formData.name}\nEmail: ${formData.reply_to}`,
        },
      },
      Subject: {
        Charset: 'UTF-8',
        Data: 'New message from your_site.com',
      },
    },
  };

  SES.sendEmail(emailParams, callback);
}
</code></pre>

<p><code>SES.sendEmail</code> will send the email and our callback will return a response. Invoking the local function will send an email to your verified address.</p>

<pre class="break-out"><code class="language-bash">yarn sls invoke local --function testMailer --path data.json
</code></pre>











<figure class="article__image break-out">
	<a href="https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/3cf13126-7715-4e9d-9920-b6264b98e70c/response-3.png">
		<img
			srcset="https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_400/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/3cf13126-7715-4e9d-9920-b6264b98e70c/response-3.png 400w,
			        https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_800/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/3cf13126-7715-4e9d-9920-b6264b98e70c/response-3.png 800w,
			        https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_1200/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/3cf13126-7715-4e9d-9920-b6264b98e70c/response-3.png 1200w,
			        https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_1600/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/3cf13126-7715-4e9d-9920-b6264b98e70c/response-3.png 1600w,
			        https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_2000/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/3cf13126-7715-4e9d-9920-b6264b98e70c/response-3.png 2000w"
			src="https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_400/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/3cf13126-7715-4e9d-9920-b6264b98e70c/response-3.png"
			sizes="100vw"
			alt="The return response from SES.sendEmail when it succeeds."
		/>
	</a>

	
		<figcaption class="op-vertical-bottom">
			The return response from <code>SES.sendEmail</code> when it succeeds.
		</figcaption>
	
</figure>


<h3 id="returning-a-response-from-the-handler">Returning A Response From The Handler</h3>

<p>Our function sends an email using the command line, but that’s not how our users will interact with it. We need to return a response to our AJAX form submission. If it fails, we should return an appropriate <code>statusCode</code> as well as the <code>err.message</code>. When it succeeds, the <code>200</code> <code>statusCode</code> is sufficient, but we’ll return the mailer response in the body as well. In <code>staticSiteMailer</code> we build our response data and replace our <code>sendEmail</code> callback function with the Lambda callback.</p>

<pre class="break-out"><code class="language-javascript">// handler.js

module.exports.staticSiteMailer = (event, context, callback) => {
  const formData = JSON.parse(event.body);

  sendEmail(formData, function(err, data) {
    const response = {
      statusCode: err ? 500 : 200,
      headers: {
        'Content-Type': 'application/json',
        'Access-Control-Allow-Origin': 'https://your-domain.com',
      },
      body: JSON.stringify({
        message: err ? err.message : data,
      }),
    };

    callback(null, response);
  });
};
</code></pre>

<p>Our Lambda callback now returns both success and failure messages from <code>SES.sendEmail</code>. We build the response with checks if <code>err</code> is present so our response is consistent. The Lambda callback function itself passes <code>null</code> in the error argument field and the response as the second. We want to pass errors onwards, but if the Lambda itself fails, its  with the error response.</p>

<p>In the <code>headers</code>, you’ll need to replace <code>Access-Control-Allow-Origin</code> with your own domain. This will prevent any other domains from using your service and potentially racking up an AWS bill in your name! And I don’t cover it in this article, but it’s possible to set-up Lambda to use your own domain. You’ll need to have an SSL/TLS certificate uploaded to Amazon. The Serverless Framework team wrote a  on how to do so.</p>

<p>Invoking the local function will now send an email and return the appropriate response.</p>

<pre class="break-out"><code class="language-bash">yarn sls invoke local --function testMailer --path data.json
</code></pre>











<figure class="article__image break-out">
	<a href="https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/8001f309-c77d-4a1d-af59-f6d0bbb958ac/response-4.png">
		<img
			srcset="https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_400/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/8001f309-c77d-4a1d-af59-f6d0bbb958ac/response-4.png 400w,
			        https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_800/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/8001f309-c77d-4a1d-af59-f6d0bbb958ac/response-4.png 800w,
			        https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_1200/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/8001f309-c77d-4a1d-af59-f6d0bbb958ac/response-4.png 1200w,
			        https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_1600/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/8001f309-c77d-4a1d-af59-f6d0bbb958ac/response-4.png 1600w,
			        https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_2000/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/8001f309-c77d-4a1d-af59-f6d0bbb958ac/response-4.png 2000w"
			src="https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_auto/w_400/https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/8001f309-c77d-4a1d-af59-f6d0bbb958ac/response-4.png"
			sizes="100vw"
			alt="The return response from our serverless function, containing the SES.sendEmail return response in the body."
		/>
	</a>

	
		<figcaption class="op-vertical-bottom">
			The return response from our serverless function, containing the SES.sendEmail return response in the body.
		</figcaption>
	
</figure>


<h3 id="calling-the-lambda-function-from-the-form">Calling The Lambda Function From The Form</h3>

<p>Our service is complete! To deploy it run <code>yarn sls deploy -v</code>. Once it’s deployed you’ll get a URL that looks something like <code>https://r4nd0mh45h.execute-api.us-east-1.amazonaws.com/dev/static-site-mailer</code> which you can add to the form action. Next, we create the AJAX request and return the response to the user.</p>

<pre class="break-out"><code class="language-javascript">(() => {
  const form = document.querySelector('form');
  const formResponse = document.querySelector('js-form-response');

  form.onsubmit = e => {
    e.preventDefault();

    // Prepare data to send
    const data = {};
    const formElements = Array.from(form);
    formElements.map(input => (data[input.name] = input.value));

    // Log what our lambda function will receive
    console.log(JSON.stringify(data));

    // Construct an HTTP request
    var xhr = new XMLHttpRequest();
    xhr.open(form.method, form.action, true);
    xhr.setRequestHeader('Accept', 'application/json; charset=utf-8');
    xhr.setRequestHeader('Content-Type', 'application/json; charset=UTF-8');

    // Send the collected data as JSON
    xhr.send(JSON.stringify(data));

    // Callback function
    xhr.onloadend = response => {
      if (response.target.status === 200) {
        // The form submission was successful
        form.reset();
        formResponse.innerHTML = 'Thanks for the message. I’ll be in touch shortly.';
      } else {
        // The form submission failed
        formResponse.innerHTML = 'Something went wrong';
        console.error(JSON.parse(response.target.response).message);
      }
    };
  };
})();
</code></pre>

<p>In the AJAX callback, we check the status code with <code>response.target.status</code>. If it’s anything other than <code>200</code> we can show an error message to the user, otherwise let them know the message was sent. Since our Lambda returns stringified JSON we can parse the body message with <code>JSON.parse(response.target.response).message</code>. It’s especially useful to log the error.</p>

<p>You should be able to submit your form entirely from your static site!</p>

<figure><figcaption>The static site form, sending the message to the Lambda endpoint and returning a response to the user.</figcaption></figure>

<h3 id="next-steps">Next Steps</h3>

<p>Adding a contact form to your static is easy with the Serverless Framework and AWS. There’s room for improvement in our code, like adding  I’ve created. I hope I&rsquo;ve inspired you to try out Serverless yourself!</p>




<div class="signature">
  <img src="https://www.smashingmagazine.com/images/logo/logo--red.png" alt="Smashing Editorial">
  <span>(lf, ra, il)</span>
</div>


</div>




  <div id="sponsors-article-end" data-impression="true" class="c-promo-box c-promo-box--ad c-promo-box--wide sponsors hidden" data-audience="non-subscriber" data-remove="true"></div>



              </article>
            </body>
          </html>
---------------